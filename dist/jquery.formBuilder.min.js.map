
{"version":3,"sources":["_english.en.js","_spanish.es.js","spin.js","util.js","caret.js","dateRangePicker.js","dateTimeRangePicker.js","formBuilder.js","inputField.js","inputFilter.js","popOver.js","submitButton.js","tms-arrayField.js","tms-textSubmitter.js","tier1/dateTime.js","tier1/phone.tmsPhone.js","tier1/select-generators.js","tier1/utext.tmsFullname.js","tier0/code.js","tier0/date.js","tier0/display.js","tier0/money.js","tier0/phone.js","tier0/regexTypes.js","tier0/select.js","tier0/text.js","tier0/time.js","tier0/tmsQuantityUnit.js"],"names":["$","lang","code","window","util","locales","extend","remove","mobile","home","work","fax","yes","no","from","to","custom","day","week","month","year","jQuery","fn","datepicker","dates","es","days","daysShort","daysMin","months","monthsShort","today","clear","rtl","widget","options","lines","length","width","radius","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","top","left","_spinner","undefined","_create","self","this","Spinner","_init","start","spin","element","stop","_destroy","console","log","dir","timeStamp","time","timeEnd","Object","create","o","F","prototype","setLanguage","dict","selectPath","namespace","domKey","i","a","toString","split","key","match","parseInt","isArray","insertPath","obj","type","origRef","types","k","v","push","deletePath","childOf","b","includeSelf","p","parents","isEmpty","equals","hasOwnProperty","removeEqual","ignoreDiffKeys","removeTmp","inArray","caret","begin","end","range","input","is","l","val","setSelectionRange","selectionStart","selectionEnd","document","selection","createRange","duplicate","moveStart","text","focus","value","scrollLeft","err","createTextRange","collapse","moveEnd","select","_dateRangePickerTemplate","e","form","html","find","formBuilder","append","fromDate","on","toDate","button","_moveRange","setRange","number","unit","inputField","deserialize","add","moment","endOf","_setFromAndTo","startOf","serialize","momentDate","format","sDate","get","set","data","test","isDirty","clearDirty","validate","_dateTimeRangePickerTemplate","attr","date","utc","string","dirty","converter","fromForm","toForm","ignoreHidden","baseData","defaultRequired","fieldsWidgets","fields","scanForNewFields","ev","stopPropagation","show","each","el","Error","has","label","addClass","wrap","before","not","newInput","require","_proxyCommandToWidget","widgetElement","widgetName","instance","method","Array","splice","call","arguments","args","slice","apply","flashDirty","numberOfTimes","flashError","filter","error","disable","enable","formData","_readDataFromDom","isFunction","conflicts","ignoreKeys","_convertFormData","aData","bData","conflict","concat","setOptions","_trigger","_writeDataToDom","values","valid","getFields","repeat","delay","count","idx","setTimeout","statusNames","loadDomData","aKey","flash","placeholder","min","max","empty","tooltip","tooltipContent","next","field","layers","items","setLabel","appendTo","trim","removeAttr","preinput","addOn","postinput","suffix","setSuffix","prefix","setPrefix","addon","popOver","target","onShow","onHide","removeClass","one","autoValidate","states","updateStatus","status","blur","_onBlur","change","_onKeyup","suffixShim","_onKeydown","mouseenter","mouseleave","setType","prevValue","setMax","prependTo","t","inputFilter","toUpper","pattern","_showLayer","checkDirty","redraw","cleanCheckTimer","clearTimeout","prev","isEmptyObject","trigger","weight","pre","found","children","hasClass","eWeight","insertBefore","s","hide","vOld","vNew","vDirty","autoClean","hasStatus","_formatToField","f","_clean","_formatFromField","skipRequired","setError","message","clearError","flashTimer","toField","fromField","hasVal","showError","showNotice","showPlaceholder","css","paddingLeft","startPaddingLeft","startInputWidth","prefixPaddingAdded","replace","isNaN","outerWidth","paddingRight","startPaddingRight","suffixPaddingAdded","valWidth","maxWidth","layer","ph","parseFloat","sType","add123","tearDown","setUp","getType","displayValue","getField","isDisabled","statusName","bool","fireEvents","cleanBool","height","outerHeight","memory","nativeChange","proxy","_onKeyDown","_onKeyPress","_onPaste","setPattern","regex","which","ctrlKey","_type","String","fromCharCode","c","tmp","keytypedEvent","keyignoredEvent","toUpperCase","activeElement","substring","off","doc","win","showing","detach","content","clone","title","onClick","delegateTarget","onResize","position","setAppendTo","titleElement","toggle","fadeIn","my","at","collision","of","disabled","waiting","preventDefault","enterKeyListenerProvider","first","onKeyDown","keyCode","submit","_showLoading","h","getButtonLabel","spinner","_hideLoading","destroyed","bOptions","icons","listenerProvider","listener","arrayFieldId","nextArrayFieldId","_arrayFieldTemplate","_arrayFieldItemTemplate","subField","id","itemsContent","_handleAddButtonClick","_onDirty","sortable","axis","handle","containment","tolerance","_checkDirty","_onClean","getId","addItem","curData","newData","getFieldInstances","subWidget","_empty","item","drawItem","index","itemEl","eq","itemView","_drawWidgetItem","_drawInternalMarkupItem","subFieldMarkup","parent","_textSubmitterTemplate","sendInstruction","rows","ignoreEmptySubmit","container","textEntry","statusUpdate","shiftKey","_submit","onComplete","success","setInstruction","dateTime","momentStoreFormat","inputFieldWidgetInstance","storeUtc","ifw","_setUpFields","_refreshFieldWidth","_setUpCleanDirtyEvents","fieldItems","dateWidget","timeWidget","attributes","timeWidgetInstance","dateWidgetInstance","timeWidthRatio","minWidth","fullWidth","elDate","elTime","splitDate","_splitDateAndTime","localDate","local","isDST","subtract","_joinDateAndTimeMoments","isValid","dateTimeString","result","localDateMoment","localTimeMoment","utcOffset","second","minute","hour","tmsPhone","phone","_phoneTypeTemplate","inputWidget","desc","icon","_setupMenu","toggleMenu","menu","menuBuilt","control","destroy","Widget","arraySelectCreator","array","map","d","load","when","booleanSelectCreator","trueString","falseString","deMap","Date","years","getFullYear","tmsExpYear","tmsYesNo","tmsFullname","utext","ui","countH","countA","binarySearch","needle","haystack","mid","high","low","toLowerCase","codeListFilter","codeTable","request","response","term","matcher","RegExp","autocomplete","escapeRegex","matches","grep","codeTableName","_codeTable","source","_dateFormat","enforceMin","enforceMax","minYear","maxYear","startDate","endDate","datePickerOptions","autoclose","forceParse","todayBtn","todayHighlight","language","isBefore","display","money","currency","showSymbol","_onChange","dec","indexOf","toFixed","enteredAmount","extensionStart","xlocation","lastSpace","lastIndexOf","ext","extraExt","num","numberLength","cannedFormatters","createRegexType","flags","filterData","cannedFormatter","integer","state","feid","zip","email","fieldGroup","shim","insertAfter","iconClosed","iconOpen","panel","selectionClass","sectionClass","_setSelected","after","_keyDownNavigate","closeListener","close","update","selected","_scroll","open","filterValue","_filterOptions","_selectFirstNonEmptyOption","_setLabel","renderLabel","showHideCommand","_removeSelection","option","_set","loaded","done","itemData","_equal","_handleItemNotFound","_setDefaultItem","_selectFirstItem","defaultValue","showClass","sections","showHideSections","andSelectNothing","_getLabel","getOptions","optionPanel","filterTimer","__filterOptionsWork","optionsElements","optionsToProcessNow","optionsEl","_filterItem","optionEl","_itemShoudBeFiltered","_clearFilter","_buildEmptyOption","emptyLabel","unshift","_buildOptions","optionsbuffer","_sort","renderedItem","renderItem","sort","al","bl","scrollTop","inputLayer","itemsLayer","leftOffset","Deferred","removeInvalid","resolve","optionsMap","optionsSetDynamically","dataOptions","parseJSON","raw","rawdata","_regex","_regex2400","military","step","timepicker","selectOnBlur","timeFormat","newWidth","invalidMessage","units","tmsQuantityUnit","minLength","autoFocus"],"mappings":"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","file":"jquery.formBuilder.min.js","sourcesContent":["/**\n * Localization support\n *\n * Language: English\n * Code: 'en'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'en',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Remove',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mobile',\n\t\thome: 'Home',\n\t\twork: 'Work',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'Yes',\n\t\tno: 'No',\n\n\t\t// dateRangePicker\n\t\tfrom :'From',\n\t\tto : 'To',\n\t\tcustom :'Custom',\n\t\tday : 'Day',\n\t\tweek:'Week',\n\t\tmonth :'Month',\n\t\tyear :'Year'\n\t});\n\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker (default english included)\n\t\n\n})(jQuery);","/**\n * Localization support\n *\n * Language: Spanish\n * Code: 'es'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'es',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Quitar',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mvil',\n\t\thome: 'Casa',\n\t\twork: 'Trabajo',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'S',\n\t\tno: 'No'\n\t});\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker\n\t$.fn.datepicker.dates.es = {\n\t\tdays: ['Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves', 'Viernes', 'S&aacute;bado'],\n\t\tdaysShort: ['Dom', 'Lun', 'Mar', 'Mi&eacute;', 'Juv', 'Vie', 'S&aacute;b'],\n\t\tdaysMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'S&aacute;'],\n\t\tmonths: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n\t\tmonthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\n\t\ttoday: \"Hoy\",\n\t\tclear: \"Borre\",\n\t\trtl: false\n\t};\n\n})(jQuery);","/**\n * jQuery UI Widget support for spin.js\n *\n * http://fgnass.github.com/spin.js/\n */\n\n/*global Spinner:true */\n(function($){\n\t'use strict';\n\n\t$.widget('add123.spin', {\n\n\t\toptions: {\n\t\t\tlines: 10,\n\t\t\t// The number of lines to draw\n\t\t\tlength: 4,\n\t\t\t// The length of each line\n\t\t\twidth: 2,\n\t\t\t// The line thickness\n\t\t\tradius: 3,\n\t\t\t// The radius of the inner circle\n\t\t\trotate: 0,\n\t\t\t// The rotation offset\n\t\t\tcolor: '#000',\n\t\t\t// #rgb or #rrggbb\n\t\t\tspeed: 1.5,\n\t\t\t// Rounds per second\n\t\t\ttrail: 60,\n\t\t\t// Afterglow percentage\n\t\t\tshadow: false,\n\t\t\t// Whether to render a shadow\n\t\t\thwaccel: false,\n\t\t\t// Whether to use hardware acceleration\n\t\t\tclassName: 'spinner',\n\t\t\t// The CSS class to assign to the spinner\n\t\t\tzIndex: 0,\n\t\t\t// The z-index (defaults to 2000000000)\n\t\t\ttop: '0',\n\t\t\t// Top position relative to parent in px\n\t\t\tleft: '0' // Left position relative to parent in px\n\t\t},\n\n\t\t_spinner: undefined,\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tself._spinner = new Spinner(self.options);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tthis.start();\n\t\t},\n\n\t\tstart: function() {\n\t\t\tthis._spinner.spin(this.element[0]);\n\t\t},\n\n\t\tstop: function() {\n\t\t\tthis._spinner.stop();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.stop();\n\t\t\tdelete self._spinner;\n\t\t}\n\t});\n\n})(jQuery);\n","/*\n * A subset of the ADD Utility library. \n *\n * It only declares objects/functions when they do not already exist\n */\n\n/*global util:true */\n\n\n\n(function($) {\n\t\"use strict\";\n\n\tif(typeof(window.util) === 'undefined') {\n\t\twindow.util = {};\n\t}\n\n\t/*\n\t * If console is not defined build a mock console to avoid script errors in production\n\t */\n\tif(typeof(window.console) === 'undefined') {\n\t\twindow.console = {\n\t\t\tlog: function() {},\n\t\t\tdir: function() {},\n\t\t\ttimeStamp: function () {},\n\t\t\ttime: function () {},\n\t\t\ttimeEnd: function () {}\n\t\t};\n\t}\n\n\tif(typeof(console.timeStamp) === 'undefined'){\n\t\tconsole.timeStamp = function () {};\n\t}\n\tif(typeof(console.time) === 'undefined'){\n\t\tconsole.time = function () {};\n\t}\n\tif(typeof(console.timeEnd) === 'undefined'){\n\t\tconsole.timeEnd = function () {};\n\t}\n\n\n\t/*\n\t * Object create polyfill\n\t */\n\tif(typeof(Object.create) === 'undefined') {\n\t\tObject.create = function(o) {\n\t\t\tfunction F() {}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t}\n\n\n\n\t/**\n\t * Language Support Setup\n\t */\n\t\n\tif(typeof(util.lang) === 'undefined') {\n\t\tutil.lang = {};\n\t}\n\n\t// TODO: Make this actually change everything in the code\n\tif(typeof(util.lang.setLanguage) === 'undefined') {\n\t\tutil.lang.setLanguage = function(code) {\n\t\t\tvar lang = util.lang;\n\n\t\t\tif(!code || !lang.locales[code]) {\n\t\t\t\t// Default to english\n\t\t\t\tcode = 'en';\n\t\t\t}\n\n\t\t\tif(!lang.dict) {\n\t\t\t\t// Initialize the dictonary\n\t\t\t\tlang.dict = {};\n\t\t\t} \n\n\t\t\t// Override and/or add the words into the dictionary\n\t\t\t$.extend(true, lang.dict, lang.locales[code]);\n\n\t\t\t// Update the language code\n\t\t\tlang.code = code;\n\t\t};\n\t}\n\n\t// Set language (english by default)\n\tutil.lang.setLanguage();\n\n\t/*\n\t * Retrieve from a namespace given the dot-notated key\n\t *\n\t * Since the form has a flat structure and therefore has prefixes to avoid naming conflicts, we need a way to map\n\t * the prefixed DOM Keys to the hierarchical data maps. Keys that are not found will be saved in the extraKeys object\n\t * in the correct hierarchical order\n\t *\n\t * DOM -> Data Examples: given dealFile = efsResponse['efs']['deal-file']\n\t *\n\t * basic:\n\t *   'deal.acquired-date' -> dealFile['deal']['acquired-date']\n\t *   'purchase-vehicle.data.vin' -> dealFile['purchase-vehicle']['data']['vin']\n\t *\n\t * arrays:\n\t *   'customer.0.first-name' -> dealFile['customer'][0]['first-name']\n\t *\n\t */\n\n\tif(typeof(util.selectPath) === 'undefined') {\n\t\tutil.selectPath = function(namespace, domKey) {\n\t\t\t\n\t\t\tif(namespace === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(domKey === undefined || domKey === ''){\n\t\t\t\treturn namespace;\n\t\t\t}\n\n\t\t\tvar i, a = domKey.toString().split('.');\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tvar key = a[i];\n\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\t\t\t\t\t/*\n\t\t\t\t\t * treat this as an array index\n\t\t\t\t\t */\n\t\t\t\t\tkey = parseInt(key, 10);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * arrays with index might be pulled out of the array, so check if we can find the correct mapping without the array\n\t\t\t\t */\n\t\t\t\tif(key === 0 && !$.isArray(namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(namespace === undefined || namespace === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\tif(i === a.length - 1 || namespace === undefined) {\n\t\t\t\t\treturn namespace;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}\n\n\t/*\n\t * Given and namespace object and a dot-notated key, save the given object to\n\t * the proper path in the namespace\n\t *\n\t */\n\tif(typeof(util.insertPath) === 'undefined') {\n\t\tutil.insertPath = function(namespace, domKey, obj) {\n\t\t\tvar i, a = domKey.split('.'),\n\t\t\t\torigRef = namespace;\n\t\t\tvar types = [],\n\t\t\t\tkey, type;\n\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tkey = a[i];\n\n\t\t\t\tif(i === a.length - 1) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * clean this logic up, use this test case : https://secure.add123.com/apps/web/res/js/_test/qunit.html\n\t\t\t\t\t */\n\t\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\t\tv: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: key,\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\tv: []\n\t\t\t\t\t};\n\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: key,\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i = 0; i < types.length; i += 1) {\n\t\t\t\ttype = types[i];\n\t\t\t\tkey = type.k;\n\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t} else {\n\n\t\t\t\t\tif(typeof namespace[key] === 'undefined') {\n\t\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t\t}\n\n\t\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn origRef;\n\n\t\t};\n\t}\n\n\t/*\n\t * var ns = {test: {foo: 1, bar: 2, baz: 3}};\n\t * deletePath(ns, 'test.foo');\n\t * console.log(ns);\n\t *\n\t * TODO: make this work for arrays\n\t */\n\tif(typeof(util.deletePath) === 'undefined') {\n\t\tutil.deletePath = function(namespace, domKey) {\n\t\t\tvar a = domKey.split('.'),\n\t\t\t\ti;\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tdelete namespace[a[i]];\n\t\t\t\t} else {\n\t\t\t\t\tif(typeof namespace[a[i]] === \"undefined\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnamespace = namespace[a[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/*\n\t * parameter can be a jQuery object or HTML element object\n\t */\n\tif(typeof($.fn.childOf) === 'undefined') {\n\t\t$.fn.childOf = function(b, includeSelf) {\n\t\t\tvar i;\n\n\t\t\tif(b instanceof jQuery) {\n\t\t\t\tb = b[0];\n\t\t\t}\n\n\t\t\tif(includeSelf && b === this[0]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar p = this.parents();\n\t\t\tfor(i = 0; i < p.length; i++) {\n\t\t\t\tif(b === p[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tif(typeof(window.isEmpty) === 'undefined') {\n\t\twindow.isEmpty = function isEmpty(a) {\n\t\t\tif(a === 0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !a;\n\t\t};\n\t}\n\n\tif(typeof(util.equals) === 'undefined') {\n\t\tutil.equals = function(a, b) {\n\t\t\tvar p;\n\n\t\t\tif(a === b){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) && window.isEmpty(b)){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) || window.isEmpty(b)){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(p in b) {\n\t\t\t\t\tif(b.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tif(typeof(b) === 'undefined' || (a.toString() !== b.toString())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(a.toString() !== b.toString()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tif(typeof(util.removeEqual) === 'undefined') {\n\t\tutil.removeEqual = function (a, b, ignoreDiffKeys) {\n\t\t\tvar p, remove, removeTmp;\n\n\t\t\tif(!ignoreDiffKeys){\n\t\t\t\tignoreDiffKeys = [];\n\t\t\t}\n\n\t\t\tif(a === undefined || b === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tremove = true;\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($.inArray(p, ignoreDiffKeys) > -1){\n\t\t\t\t\t\t\tremoveTmp = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tremoveTmp = util.removeEqual(a[p], b[p]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(removeTmp){\n\t\t\t\t\t\t\tdelete a[p];\n\t\t\t\t\t\t\tdelete b[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremove = remove && removeTmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remove;\n\t\t\tdefault:\n\t\t\t\treturn a.toString() === b.toString();\n\t\t\t}\n\t\t};\n\t}\n})(jQuery);\n","/**\n * caret plugin\n */\n\n(function($){\n\t'use strict';\n\t\n\t/*\n\t * This plugin only operates on the first element of the working set\n\t */\n\t$.fn.caret = function(begin, end) {\n\n\t\tif(this.length === 0) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar input = this[0],\n\t\t\trange;\n\n\t\tif(typeof begin === 'number') {\n\t\t\t/*\n\t\t\t * setter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\t\tinput.focus();\n\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * chrome hack\n\t\t\t\t * TMS-2049\n\t\t\t\t * Still need a better way to do this, chrome fails to set the scrolLeft\n\t\t\t\t * whem the cursor moves, still will only work it they are at the end of the text\n\t\t\t\t */\n\t\t\t\ttry{\n\t\t\t\t\tif(end === input.value.length){\n\t\t\t\t\t\tinput.scrollLeft = 9999999999;\n\t\t\t\t\t}\n\t\t\t\t}catch(err){}\n\t\t\t} else if(input.createTextRange) {\n\t\t\t\trange = input.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', begin);\n\t\t\t\trange.select();\n\t\t\t}\n\n\n\t\t} else {\n\t\t\t/*\n\t\t\t * getter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\tvar l = $(input).val().length;\n\t\t\t\treturn {\n\t\t\t\t\tbegin: l,\n\t\t\t\t\tend: l\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\tbegin = input.selectionStart;\n\t\t\t\tend = input.selectionEnd;\n\t\t\t} else if(document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = -range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbegin: begin,\n\t\t\t\tend: end\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t};\n})(jQuery);","\n/*global util:true, moment:true */\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.dateRangePicker\", {\n\t\t_dateRangePickerTemplate:\n\t\t\t'<div class=\"date-range-picker form\">'+\n\t\t\t\t'<input type=\"text\" name=\"from\" data-type=\"date\" data-label=\"'+util.lang.dict.from+'\"/>' +\n\t\t\t\t'<input type=\"text\" name=\"to\" data-type=\"date\" data-label=\"'+util.lang.dict.to+'\"/>' +\n\t\t\t\t\n\t\t\t\t'<button type=\"button\" class=\"previous-range\">&lt;&lt;</button>' +\n\t\t\t\t\n\t\t\t\t'<div class=\"input-field-group range-select\">' +\n\t\t\t\t\t'<select name=\"range\" style=\"width: 138px;\">' +\n\t\t\t\t\t\t'<option value=\"custom\">'+util.lang.dict.custom+'</option>' +\n\t\t\t\t\t\t'<option value=\"day\">'+util.lang.dict.day+'</option>' +\n\t\t\t\t\t\t'<option value=\"week\">'+util.lang.dict.week+'</option>' +\n\t\t\t\t\t\t'<option value=\"month\">'+util.lang.dict.month+'</option>' +\n\t\t\t\t\t\t'<option value=\"year\">'+util.lang.dict.year+'</option>' +\n\t\t\t\t\t'</select>' +\n\t\t\t\t'</div>'+\n\n\t\t\t\t'<button type=\"button\" class=\"next-range\">&gt;&gt;</button>' +\n\t\t\t'</div>',\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tvar form = self.form = $('<div></div>').html(self._dateRangePickerTemplate).find('.date-range-picker').formBuilder();\n\n\t\t\te.append(form);\n\n\t\t\tself.fromDate = form.find('input[name=\"from\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tself.toDate = form.find('input[name=\"to\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tform.find('button.previous-range').button().on('click', function () {\n\t\t\t\tself._moveRange(-1, $(self.range).val());\n\t\t\t});\n\n\t\t\tform.find('button.next-range').button().on('click', function () {\n\t\t\t\tself._moveRange(1, $(self.range).val());\n\t\t\t});\n\n\t\t\tself.range = form.find('select[name=\"range\"]').on('change', function () {\n\t\t\t\tself.setRange($(this).val());\n\t\t\t});\n\t\t},\n\n\t\t_moveRange: function (number, unit) {\n\t\t\tvar self = this,\n\t\t\t\tfromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate || unit === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = self.deserialize(fromDate);\n\n\n\t\t\tvar begin = fromDate.add(number, unit);\n\t\t\tvar end = moment(begin).endOf(unit);\n\n\t\t\tself._setFromAndTo(begin, end);\n\t\t},\n\n\t\tsetRange: function (range) {\n\t\t\tvar self = this;\n\t\t\tif (range === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate) {\n\t\t\t\tfromDate = moment();\n\t\t\t}\n\n\t\t\tif (typeof fromDate === 'string') {\n\t\t\t\tfromDate = self.deserialize(fromDate);\t\n\t\t\t}\n\n\t\t\tvar from = fromDate.startOf(range);\n\t\t\tvar to = moment(from).endOf(range);\n\n\t\t\tself._setFromAndTo(from, to);\n\t\t},\n\t\t\n\t\t_setFromAndTo: function (from, to) {\n\t\t\tvar self = this;\n\n\t\t\tif (typeof from !== 'string') {\n\t\t\t\tfrom = self.serialize(from);\n\t\t\t}\n\t\t\tif (typeof to !== 'string') {\n\t\t\t\tto = self.serialize(to);\n\t\t\t}\n\n\t\t\tself.fromDate.inputField('set', from);\n\t\t\tself.toDate.inputField('set', to);\n\t\t},\n\n\t\tserialize: function (momentDate) {\t\n\t\t\tif (!momentDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn momentDate.format('YYYY-MM-DD');\n\t\t},\n\n\t\tdeserialize: function (sDate) {\n\t\t\tif (!sDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn moment(sDate, 'YYYY-MM-DD');\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.form.formBuilder('get');\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this;\n\t\t\tvar test = 'daterange';\n\n\t\t\tself.form.formBuilder('set', data, test);\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.form.formBuilder('isDirty');\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('clearDirty');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.set({\n\t\t\t\tfrom: '',\n\t\t\t\tto: '',\n\t\t\t\trange: 'custom'\n\t\t\t});\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tform = self.form;\n\n\t\t\tif (!form.formBuilder('validate')) {\n\t\t\t\treturn false;\n\t\t\t}\t\t\t\n\t\t}\n\t});\n\n}(jQuery));","\n/*global util:true, moment:true */\n(function($) {\n\t\"use strict\";\n\n$.widget(\"add123.dateTimeRangePicker\", {\n\t_dateTimeRangePickerTemplate:\n\t\t\t\t'<div class=\"date-range-picker form\">' +\n\t\t\t\t\t'<input type=\"text\" name=\"from\" data-type=\"dateTime\" data-label=\"'+util.lang.dict.from+'\" style=\"width: 215px;\"/>' +\n\t\t\t\t\t'<input type=\"text\" name=\"to\" data-type=\"dateTime\" data-label=\"'+util.lang.dict.to+'\" style=\"width: 215px;\"/>' +\n\n\t\t\t\t\t'<button class=\"previous-range\">&lt;&lt;</button>' +\n\n\t\t\t\t\t'<div class=\"input-field-group range-select\">' +\n\t\t\t\t\t\t'<select name=\"range\" style=\"width: 138px;\">' +\n\t\t\t\t\t\t\t'<option value=\"custom\">'+util.lang.dict.custom+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"days\">'+util.lang.dict.day+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"weeks\">'+util.lang.dict.week+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"months\">'+util.lang.dict.month+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"years\">'+util.lang.dict.year+'</option>' +\n\t\t\t\t\t\t'</select>' +\n\t\t\t\t\t'</div>' +\n\n\t\t\t\t\t'<button class=\"next-range\">&gt;&gt;</button>' +\n\t\t\t\t'</div>',\n\t\t\t\t\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tvar form = self.form = $('<div></div>').html(self._dateTimeRangePickerTemplate).find('.date-range-picker').formBuilder();\n\n\t\t\te.append(form);\n\n\t\t\tself.fromDate = form.find('input[name=\"from\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\t\t\tself.fromDate.inputField('setLabel', e.attr('data-from-label'));\n\n\t\t\tself.toDate = form.find('input[name=\"to\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\t\t\tself.toDate.inputField('setLabel', e.attr('data-to-label'));\n\n\t\t\tform.find('button.previous-range').button().on('click', function () {\n\t\t\t\tself._moveRange(-1, $(self.range).val());\n\t\t\t});\n\n\t\t\tform.find('button.next-range').button().on('click', function () {\n\t\t\t\tself._moveRange(1, $(self.range).val());\n\t\t\t});\n\n\t\t\tself.range = form.find('select[name=\"range\"]').on('change', function () {\n\t\t\t\tself.setRange($(this).val());\n\t\t\t});\n\t\t},\n\n\t\t_moveRange: function (number, unit) {\n\t\t\tvar self = this,\n\t\t\t\tfromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate || unit === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = self.deserialize(fromDate);\n\n\t\t\tvar begin = fromDate.add(number, unit);\n\t\t\tvar end = moment(begin).add(1, unit);\n\n\t\t\tself._setFromAndTo(begin, end);\n\t\t},\n\n\t\tsetRange: function (range) {\n\t\t\tvar self = this;\n\t\t\tif (range === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate) {\n\t\t\t\tfromDate = moment();\n\t\t\t}\n\n\t\t\tif (typeof fromDate === 'string') {\n\t\t\t\tfromDate = self.deserialize(fromDate);\n\t\t\t}\n\n\t\t\tvar from = fromDate;\n\t\t\tvar to = moment(from).add(1, range);\n\n\t\t\tself._setFromAndTo(from, to);\n\t\t},\n\n\t\t_setFromAndTo: function (from, to) {\n\t\t\tconsole.log('inside of set from and to');\n\t\t\tvar self = this;\n\n\t\t\tif (typeof from !== 'string') {\n\t\t\t\tfrom = self.serialize(from);\n\t\t\t}\n\t\t\tif (typeof to !== 'string') {\n\t\t\t\tto = self.serialize(to);\n\t\t\t}\n\n\t\t\tself.fromDate.inputField('set', from);\n\t\t\tself.toDate.inputField('set', to);\n\t\t},\n\n\t\tserialize: function (date) {\n\t\t\tif (!date) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn date.utc().format('YYYY-MM-DDTHH:mm:ss') + 'Z';\n\t\t},\n\n\t\tdeserialize: function (string) {\n\t\t\tif (!string) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn moment.utc(string);\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.form.formBuilder('get');\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('set', data);\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.dirty = false;\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.set();\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tform = self.form;\n\n\t\t\tif (!form.formBuilder('validate')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n}(jQuery));","/**\n * formBuilder Widget\n *\n * TODO: improve codes type\n *\n * TODO: handle submission, bind to buttons somehow, and on-submit event\n *\n * TODO: maintain a model, take in the model, link to the fields and make is\n * accessible by a getter model linker? listen to changes\n *\n * TODO: can you call _init() a second type with more options? is that how you\n * call _setOption from outside?\n */\n\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.formBuilder\", {\n\n\t\toptions: {\n\t\t\tconverter: {\n\t\t\t\tfromForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\ttoForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * set to true to ignore fields that are not $(':visible')\n\t\t\t */\n\t\t\tignoreHidden: false\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.baseData = {};\n\n\t\t\to.defaultRequired = e.data('default-required');\n\n\t\t\tself.fieldsWidgets = $([]);\n\t\t\tself.fields = $([]);\n\n\t\t\tself.scanForNewFields();\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * proxy the dirty events from all of the fields in the form\n\t\t\t */\n\t\t\te.on('dirty', function (ev) {\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.dirty = true;\n\t\t\t}).on('clean', function (ev) {\n\n\t\t\t\t/*\n\t\t\t\t * if the form is clean kill the clean event\n\t\t\t\t */\n\t\t\t\tif(!self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * check if form is really clean\n\t\t\t\t */\n\t\t\t\tself.dirty = self.isDirty();\n\n\t\t\t\t/*\n\t\t\t\t * if form is still dirty, kill the clean event\n\t\t\t\t */\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\te.show();\n\t\t},\n\n\t\tscanForNewFields: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\t/*\n\t\t\t * expected methods for a widget to act a as field:\n\t\t\t *\n\t\t\t * set()\n\t\t\t * get()\n\t\t\t * isDirty()\n\t\t\t * clearDirty()\n\t\t\t * flashDirty()\n\t\t\t * flashError()\n\t\t\t * disable()\n\t\t\t * enable()\n\t\t\t * clear()\n\t\t\t * validate()\n\t\t\t *\n\t\t\t */\n\t\t\te.find('[data-load-widget-as-field]').each(function () {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(!el.attr('name')){\n\t\t\t\t\tthrow new Error('data-load-widget-as-field must have name attribute');\n\t\t\t\t}\n\n\t\t\t\tif(self.fieldsWidgets.has(el[0]).length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tel[el.attr('data-load-widget-as-field')]();\n\n\t\t\t\t/*\n\t\t\t\t * check if the widget extends the base FieldWidget widget\n\t\t\t\t */\n\n\t\t\t\tself.fieldsWidgets = self.fieldsWidgets.add(el);\n\n\t\t\t\t/*\n\t\t\t\t * wrap if label is found\n\t\t\t\t */\n\t\t\t\tvar label = el.attr('data-label');\n\n\t\t\t\tif(!label){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tel.addClass('field-items').wrap('<div class=\"input-field-group\"><div class=\"input-field\"></div></div>').before('<label>' + label + '</label>');\n\t\t\t});\n\t\t\t/*\n\t\t\tself.fields = e.find('input[type!=submit], select, textarea').not(':add123-inputField').inputField({\n\t\t\t\trequire: typeof o.defaultRequired !== 'undefined' && o.defaultRequired === true\n\t\t\t});\n\t\t\t*/\n\t\t\te.find('input[type!=submit], select, textarea').not(':add123-inputField').not('.form-builder-ignore *').each(function () {\n\t\t\t\tvar newInput = $(this);\n\t\t\t\tif(newInput.is('[data-load-widget-as-field]') || newInput.parents('[data-load-widget-as-field]').length){\n\t\t\t\t\t//console.log('ingnore input in field widgets: ', newInput.attr('name'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//console.log('ADDING FIELD: ', newInput.attr('name'));\n\t\t\t\tnewInput.inputField({\n\t\t\t\t\trequire: !!o.defaultRequired\n\t\t\t\t});\n\n\t\t\t\tself.fields = self.fields.add(newInput);\n\n\n\t\t\t});\n\n\n\n\t\t\t/*\n\t\t\t * set the first class on the first fields for proper styling\n\t\t\t */\n\t\t\t//setTimeout(function() {\n\t\t\t\t//var ingroup = e.find('.input-field-group .input-field .field-item:nth(0)').addClass('first');\n\t\t\t\t//\n\t\t\t\te.find('.input-field-group').each(function () {\n\t\t\t\t\t$(this).find('.field-item:first').addClass('first');\n\t\t\t\t});\n\t\t\t\t//console.log(ingroup);\n\t\t\t\t//e.find('.input-field .field-item:first-child').not('.input-field-group .input-field:first-child .field-item:first-child').addClass('first');\n\t\t\t//}, 0);\n\t\t},\n\n\t\t_proxyCommandToWidget: function (widgetElement) {\n\t\t\tvar self = this,\n\t\t\t\twidgetName = widgetElement.data('load-widget-as-field') || 'inputField',\n\t\t\t\tinstance = widgetElement.data(widgetName),\n\t\t\t\tmethod = Array.prototype.splice.call(arguments, 1, 1),\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\t\ttry {\n\t\t\t\treturn instance[method].apply(instance, args);\n\t\t\t}catch(err){\n\t\t\t\tthrow new Error('ERROR: widget field error NAME[' + widgetName + '] METHOD[' + method + ']');\n\t\t\t}\n\t\t},\n\t\n\n\t\tisDirty: function() {\n\t\t\tvar self = this,\n\t\t\t\tdirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tdirty = !!$(this).inputField('isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\tif(dirty){\n\t\t\t\treturn dirty;\n\t\t\t}\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tdirty = !!self._proxyCommandToWidget($(this), 'isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\treturn dirty;\n\t\t},\n\n\t\tclearDirty: function() {\n\t\t\tvar self = this;\n\t\t\tself.dirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clearDirty');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tflashDirty: function(numberOfTimes) {\n\t\t\t//this.dirty.inputField('flash', numberOfTimes);\n\t\t\t/*\n\t\t\tvar self = this;\n\t\t\tself.dirty.each(function () {\n\t\t\t\tself._proxyCommandToWidget($(this), 'flash', numberOfTimes);\n\t\t\t});\n\t\t\t*/\n\t\t},\n\n\t\tflashError: function(numberOfTimes) {\n\t\t\tthis.fields.filter(function() {\n\t\t\t\treturn $(this).data('inputField').options.error;\n\t\t\t}).inputField('flash', numberOfTimes);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', true);\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', false);\n\t\t},\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tformData = self._readDataFromDom();\n\n\t\t\tif($.isFunction(o.converter.fromForm)) {\n\t\t\t\tformData = o.converter.fromForm(formData);\n\t\t\t}\n\n\t\t\tif(!formData){\n\t\t\t\tformData = {};\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.baseData = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clear');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clear');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * check if the given data would overwrite any dirty fields if set\n\t\t *\n\t\t * returns an array of conflict data, and false for no conflicts\n\t\t */\n\t\tconflicts: function (data, ignoreKeys) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data),\n\t\t\t\tconflicts = [];\n\n\t\t\t/*\n\t\t\t * if dirty flag is not set, assume there is no conflict\n\t\t\t */\n\t\t\tif(!self.isDirty()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar aData = $.extend(true, {}, self.baseData),\n\t\t\t\tbData = $.extend(true, {}, formData);\n\n\t\t\tconsole.log('aData', aData);\n\t\t\tconsole.log('bData', bData);\n\n\t\t\t/*\n\t\t\t * only check fields that are different than the base value\n\t\t\t */\n\t\t\tutil.removeEqual(aData, bData, ignoreKeys);\n\n\t\t\tconsole.log('changes from base:', aData);\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar conflict = $(this).inputField('conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar conflict = self._proxyCommandToWidget($(this), 'conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tif($.isArray(conflict)){\n\t\t\t\t\t\tconflicts.concat(conflict);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(conflicts.length){\n\t\t\t\treturn conflicts;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tset: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data);\n\t\t\t\n\t\t\tself._trigger('beforeset', null, formData);\n\t\t\tself._writeDataToDom(formData, setOptions);\n\t\t\tself._trigger('afterset', null, formData);\n\t\t},\n\n\t\t_convertFormData: function (data) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * clone data object so form can not change the original\n\t\t\t */\n\t\t\tvar formData = $.extend(true, {}, data || {});\n\n\t\t\tif($.isFunction(o.converter.toForm)) {\n\t\t\t\tformData = o.converter.toForm(formData);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tval: function(values) {\n\t\t\t//TODO: forgot to implement this, there is logic taking its place in efsfl.js\n\t\t\tif(values === undefined) {\n\t\t\t\t/*\n\t\t\t\t * getter\n\t\t\t\t */\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * setter\n\t\t\t\t */\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tvalid = true;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && el.inputField('validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && self._proxyCommandToWidget(el, 'validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.fields.inputField('destroy');\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'destroy');\n\t\t\t});\n\t\t},\n\n\t\tgetFields: function() {\n\t\t\treturn this.fields;\n\t\t},\n\n\t\t_writeDataToDom: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\t//debugger;\n\t\t\t\tself._proxyCommandToWidget($(this), 'set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\t\t},\n\n\t\t_readDataFromDom: function() {\n\t\t\tvar self = this,\n\t\t\t\tignoreHidden = self.options.ignoreHidden,\n\t\t\t\tdata = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar val = el.inputField('get');\n\n\t\t\t\tif($.isArray(val)) {\n\t\t\t\t\tval = val[0];\n\t\t\t\t}\n\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this),\n\t\t\t\t\tignoreHidden = self.options.ignoreHidden;\n\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar val = self._proxyCommandToWidget(el, 'get');\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t\n\n}(jQuery));","/**\n * inputField Widget\n *\n * This widget wraps the operation of a single field of a form\n *\n * Public Methods:\n *   value(value)\n *   validate()\n *   flash()\n *   setError()\n *   clearError()\n *   redraw()\n *   status(statusName, bool)\n */\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\tvar repeat = function(work, delay, count, idx) {\n\t\tidx = idx || 0;\n\t\tif(idx < count) {\n\t\t\twork();\n\t\t\tsetTimeout(function() {\n\t\t\t\trepeat(work, delay, count, idx + 1);\n\t\t\t}, delay);\n\t\t}\n\t};\n\n\tvar statusNames = ['require', 'disable', 'error', 'hover', 'warn', 'focus'];\n\n\tvar loadDomData = function(namespace, aKey) {\n\t\tvar self = this;\n\t\t$.each(aKey, function(i, key) {\n\t\t\t/*\n\t\t\tif(namespace){\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tvar data = self.element.data(key);\n\t\t\tif(data !== undefined && data !== null) {\n\t\t\t\tnamespace[key] = data;\n\t\t\t}\n\t\t});\n\t};\n\n\t$.widget('add123.fieldWidget', {\n\n\t\tisDirty: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\treturn true;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\t\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.set();\n\t\t},\n\n\t\tflash: function () {\n\t\t\t\n\t\t},\n\n\t\tset: function (data) {\n\t\t\t\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\t$.widget(\"add123.inputField\", {\n\t\toptions: {\n\n\t\t\ttype: 'text',\n\n\t\t\t/*\n\t\t\t * the text shown\n\t\t\t */\n\t\t\tlabel: '',\n\n\t\t\trequire: '',\n\n\t\t\t/*\n\t\t\t * text to show when the field is empty, this uses the suggest layer\n\t\t\t */\n\t\t\tplaceholder: '',\n\n\t\t\t/*\n\t\t\t * min and max, there meaning depends on the type that is loaded\n\t\t\t */\n\t\t\tmin: '', // min does nothing in formbuilder\n\t\t\tmax: ''\n\n\t\t\t/*\n\t\t\t * values: false/undefined, 'keyup', 'blur'\n\t\t\t */\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tif(!e.is('input[type!=submit], select, textarea')) {\n\t\t\t\tthrow new Error(\"invalid element\");\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * load DOM settings from field into options\n\t\t\t */\n\t\t\tloadDomData.call(self, o, ['require', 'empty', 'placeholder', 'type', 'label', 'min', 'max', 'preinput', 'postinput', 'suffix', 'prefix']);\n\n\t\t\t/*\n\t\t\t * legacy support\n\t\t\t */\n\t\t\tif(!o.placeholder && o.empty) {\n\t\t\t\to.placeholder = o.empty;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check if a tool-tip was given\n\t\t\t */\n\t\t\tvar tooltip, tooltipContent = e.next();\n\t\t\tif(tooltipContent.is('div.form-input-tooltip') || tooltipContent.is('div.tooltip')) {\n\t\t\t\ttooltip = tooltipContent;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * convert the simple input into the full field format\n\t\t\t */\n\t\t\tvar field = self.field = $('<div class=\"input-field\"><div class=\"field-items\"><span class=\"field-item field-item-input\"></span></div></div>');\n\n\t\t\tvar layers = self.layers = {\n\t\t\t\titems: field.find('.field-items'),\n\t\t\t\tinput: field.find('.field-item-input')\n\t\t\t};\n\n\t\t\tif(o.label){\n\t\t\t\tself.setLabel(o.label);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move the DOM elements around\n\t\t\t */\n\t\t\te.before(field).appendTo(layers.input);\n\n\t\t\t/*\n\t\t\t * move classes\n\t\t\t */\n\t\t\tfield.attr('class', $.trim(field.attr('class') + ' ' + e.attr('class')));\n\t\t\te.removeAttr('class');\n\n\t\t\tif(e.is('textarea')) {\n\t\t\t\tfield.addClass('textarea-fix');\n\t\t\t\te.wrap('<div class=\"textarea-wrapper\"></div>');\n\t\t\t}\n\t\t\tif (e.is('select')) {\n\t\t\t\tfield.addClass('select-fix');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if this field is not part of a group, add a group class to this field for proper styling\n\t\t\t */\n\t\t\tif(!field.parents('.input-field-group').length){\n\t\t\t\tfield.wrap('<div class=\"input-field-group\"/>');\n\t\t\t\tfield.find('.field-item:first').addClass('first');\n\t\t\t}\n\n\t\t\tif(o.placeholder){\n\t\t\t\tself.placeholder(o.placeholder);\n\t\t\t}\n\n\t\t\tif(o.preinput) {\n\t\t\t\tself.addOn(-1, o.preinput);\n\t\t\t}\n\n\t\t\tif(o.postinput) {\n\t\t\t\tself.addOn(1, o.postinput);\n\t\t\t}\n\n\t\t\tif(o.suffix){\n\t\t\t\tself.setSuffix(o.suffix);\n\t\t\t}\n\n\t\t\tif(o.prefix){\n\t\t\t\tself.setPrefix(o.prefix);\n\t\t\t}\n\n\t\t\tif(tooltip) {\n\t\t\t\tvar addon = self.addOn(1000, '<span class=\"tooltip noselect\">?</span>', 'clickable');\n\n\t\t\t\tfield.addClass('has-tooltip');\n\n\t\t\t\ttooltip.popOver({\n\t\t\t\t\ttarget: addon,\n\t\t\t\t\tonShow: function () {\n\t\t\t\t\t\taddon.addClass('open');\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function () {\n\t\t\t\t\t\taddon.removeClass('open');\n\t\t\t\t\t}\n\t\t\t\t}).on('click', function () {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\n\n\n\t\t\t\ttooltip.popOver('hide');\n\n\n\t\t\t\taddon.on('click', function() {\n\t\t\t\t\ttooltip.popOver('toggle');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move element style\n\t\t\t */\n\t\t\t// field.attr('style', e.attr('style'));\n\t\t\t// e.removeAttr('style');\n\t\t\t/*\n\t\t\t * add the pad1 class to make way for the drop down handle\n\t\t\t */\n\t\t\t// if(e.is('select')){\n\t\t\t// field.addClass('pad1');\n\t\t\t// }\n\t\t\t/*\n\t\t\t * if someone tries to select text from one of the layers, this will focus the input field\n\t\t\t */\n\t\t\t/* this causes problems when extra dialogs like dropdown panels are placed inside the field container */\n\t\t\t//field.on('mousedown.inputField', function() {\n\t\t\tlayers.input.on('mousedown.inputField', function() {\n\t\t\t\t$('body').one('mouseup.inputField', function() {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tself.autoValidate = 'blur';\n\n\t\t\tself.states = {};\n\n\t\t\t/*\n\t\t\t * set the require option as a status\n\t\t\t */\n\t\t\tself.updateStatus('require', o.require, false);\n\n\t\t\t/*\n\t\t\t * activate focus classes and suggestion layer\n\t\t\t */\n\t\t\te.focus(function() {\n\t\t\t\tself.status('focus', true);\n\t\t\t}).blur(function(ev) {\n\t\t\t\tself.status('focus', false);\n\t\t\t\tself._onBlur(ev);\n\t\t\t}).change(function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('inputfilterkeyignored.inputField', function() {\n\t\t\t\tself.flash();\n\t\t\t}).on('inputfilterkeytyped.inputField', function() {\n\t\t\t\tif(self.suffixShim){\n\t\t\t\t\tself.suffixShim.text(self.element.val());\n\t\t\t\t}\n\t\t\t}).on('keyup', function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('keydown', function(ev) {\n\t\t\t\tself._onKeydown(ev);\n\t\t\t});\n\n\t\t\tfield.mouseenter(function() {\n\t\t\t\tself.status('hover', true);\n\t\t\t}).mouseleave(function() {\n\t\t\t\tself.status('hover', false);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * set the type of this field\n\t\t\t */\n\t\t\tself.setType(o.type);\n\n\t\t\tself.prevValue = e.val();\n\n\t\t\tif(o.max){\n\t\t\t\tself.setMax(o.max);\n\t\t\t}\n\t\t},\n\n\t\tsetLabel: function (label) {\n\t\t\tvar self = this,\n\t\t\t\tfield = self.field;\n\n\t\t\tif(!self.label){\n\t\t\t\tself.label = $('<label>' + label + '</label>');\n\t\t\t\tself.label.prependTo(field);\n\t\t\t}\n\n\t\t\tself.label.html(label);\n\t\t},\n\n\t\tsetSuffix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.suffix){\n\t\t\t\tlayers.suffix = $('<div class=\"suffix-overlay\"><div class=\"shim\"></div><span class=\"value noselect\">' + t + '</span></div>').prependTo(layers.items);\n\t\t\t\tself.suffixShim = layers.suffix.find('.shim');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlayers.suffix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetPrefix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.prefix){\n\t\t\t\tlayers.prefix = $('<div class=\"prefix-overlay noselect\">' + t + '</div>').prependTo(layers.items);\n\t\t\t}else{\n\t\t\t\tself.layers.prefix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(e.is(':add123-inputFilter')){\n\t\t\t\te.inputFilter('setMax', max);\n\t\t\t}else{\n\t\t\t\te.inputFilter({\n\t\t\t\t\ttoUpper: false,\n\t\t\t\t\tmax: max,\n\t\t\t\t\tpattern: /./\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_onKeydown: function(ev) {\n\t\t\tvar self = this;\n\t\t\tself._showLayer('placeholder', false);\n\t\t},\n\n\t\t_onKeyup: function(ev) {\n\t\t\tvar self = this;\n\n\t\t\tif(self.autoValidate === 'keyup') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tself.checkDirty();\n\t\t\tself.redraw();\n\t\t},\n\n\t\tcheckDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tval;\n\n\t\t\t//console.log('checkDirty', self.prevValue, self.get());\n\n\t\t\tif(!self.dirty){\n\t\t\t\tval = self.get();\n\n\t\t\t\t/*\n\t\t\t\t * TMS-350 Save/Cancel become greyed out on Ticket Details page even when changes are present\n\t\t\t\t */\n\t\t\t\tif(!util.equals(self.prevValue, val) && !(typeof self.prevValue === 'undefined' && val === '')){\n\t\t\t\t\te.trigger('dirty');\n\t\t\t\t\tself.dirty = true;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t/*\n\t\t\t\t * clean checks can be fired many times, so debouce them with a timer\n\t\t\t\t */\n\t\t\t\tif(self.cleanCheckTimer){\n\t\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t\t}\n\t\t\t\tself.cleanCheckTimer = setTimeout(function() {\n\t\t\t\t\tvar prev = self.prevValue,\n\t\t\t\t\t\tval = self.get();\n\n\t\t\t\t\tif(prev !== 0 && (!prev || $.isEmptyObject(prev))){\n\t\t\t\t\t\tprev = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(val !== 0 && (!val || $.isEmptyObject(val))){\n\t\t\t\t\t\tval = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(util.equals(prev,val)){\n\t\t\t\t\t\tself.dirty = false;\n\t\t\t\t\t\te.trigger('clean');\n\t\t\t\t\t\tself.redraw();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\t_onBlur: function(ev) {\n\t\t\tvar self = this;\n\t\t\tif(self.autoValidate === 'blur') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * weight < 0 goest to left\n\t\t *\n\t\t * Overly complex weight logic, maybe this can be refactored!\n\t\t */\n\t\taddOn: function(weight, html, className) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(typeof(weight) !== 'number') {\n\t\t\t\tweight = 0;\n\t\t\t}\n\n\t\t\tvar addon = $('<span data-weight=\"' + weight + '\" class=\"field-item addon\">' + html + '</span>');\n\n\t\t\tif(className) {\n\t\t\t\taddon.addClass(className);\n\t\t\t}\n\n\t\t\tvar pre = true, found = false;\n\t\t\tlayers.items.children().each(function () {\n\t\t\t\tvar el = $(this);\n\n\t\t\t\tif(el.hasClass('field-item-input')){\n\t\t\t\t\tpre = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Get correct element weight\n\t\t\t\tvar eWeight = el.data('weight');\n\t\t\t\tif(typeof(eWeight) !== 'number') {\n\t\t\t\t\teWeight = 0;\n\t\t\t\t}\n\n\t\t\t\tif(pre && weight < 0 && weight <= eWeight){\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\t// refresh first\n\t\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(!pre && weight >= 0 && weight <= eWeight) {\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found && weight < 0){\n\t\t\t\t// Must just left of input\n\t\t\t\tlayers.items.find('.field-item-input').before(addon);\n\t\t\t\t\n\t\t\t\t// refresh first\n\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t} else if(!found){\n\t\t\t\t// Must go all the way right\n\t\t\t\tlayers.items.append(addon);\n\t\t\t}\n\n\t\t\treturn addon;\n\t\t},\n\n\t\tplaceholder: function (s) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.placeholder){\n\t\t\t\tlayers.placeholder = $('<div class=\"placeholder noselect\"></div>').hide().appendTo(layers.input);\n\t\t\t}\n\n\t\t\tlayers.placeholder.text(s);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tself.set(self.element.attr('value'));\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tself.clearDirty();\n\n\t\t\tif(type && $.isFunction(type.clear)) {\n\t\t\t\ttype.clear.call(type, self);\n\t\t\t}else{\n\t\t\t\tself.prevValue = '';\n\t\t\t\tself.set('');\n\t\t\t}\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.cleanCheckTimer){\n\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\t\t\tself.field.removeClass('dirty');\n\t\t\tself.element.trigger('clean');\n\t\t},\n\n\t\tconflicts: function (value) {\n\t\t\tvar self = this;\n\t\t\tif(self.dirty){\n\t\t\t\treturn {\n\t\t\t\t\tkey: self.element.attr('name'),\n\t\t\t\t\tvOld: self.prevValue,\n\t\t\t\t\tvNew: value,\n\t\t\t\t\tvDirty: self.get()\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tset: function(value, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tvar val;\n\n\t\t\tif(setOptions === 'daterange'){\n\t\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\t\tif (setOptions.autoClean) {\n\t\t\t\t\t/*\n\t\t\t\t\t * store the base value\n\t\t\t\t\t */\n\t\t\t\t\tself.prevValue = value;\n\n\t\t\t\t\tself.clearDirty();\n\t\t\t\t}\n\n\t\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\t\tif(self.hasStatus('error')) {\n\t\t\t\t\tself.status('error', false, false);\n\t\t\t\t}\n\n\t\t\t\tval = value;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\t\tif (setOptions.autoClean) {\n\t\t\t\t\t/*\n\t\t\t\t\t * store the base value\n\t\t\t\t\t */\n\t\t\t\t\tself.prevValue = value;\n\n\t\t\t\t\tself.clearDirty();\n\t\t\t\t}\n\n\t\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\t\tif(self.hasStatus('error')) {\n\t\t\t\t\tself.status('error', false, false);\n\t\t\t\t}\n\n\t\t\t\tval = self._formatToField(value);\n\t\t\t}\n\n\t\t\t// var val = value;\n\t\t\t/*\n\t\t\t * some complex types might not want input.val() to be called,\n\t\t\t * so ignore all undefined variables\n\t\t\t */\n\t\t\tif(typeof(val) !== 'undefined') {\n\t\t\t\te.val(val);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run the inputFilter if one exists on this field\n\t\t\t */\n\t\t\tvar f = e.data('inputFilter');\n\t\t\tif(f) {\n\t\t\t\tf._clean();\n\t\t\t}\n\n\t\t\tself._trigger('afterset', null, [val, value]);\n\t\t\t\n\t\t\t// Redraw synchronously to avoid display errors (was not working perfectly with setTimeout)\n\t\t\tself.redraw();\n\n\t\t},\n\t\t\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\treturn self._formatFromField(e.val());\n\t\t},\n\n\t\t/*\n\t\t * Legacy Method, use get() and set()\n\t\t *\n\t\t * value getter/setter for this field\n\t\t */\n\t\tvalue: function(value) {\n\t\t\tvar self = this;\n\n\t\t\tif(value === undefined) {\n\t\t\t\treturn self.get();\n\t\t\t} else {\n\t\t\t\treturn self.set(value);\n\t\t\t}\n\t\t},\n\n\t\tisEmpty: function() {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\t// check if type declares an isEmpty method\n\t\t\tif($.isFunction(type.isEmpty)) {\n\t\t\t\treturn type.isEmpty.call(type, self);\n\t\t\t}\n\t\t\t\n\t\t\treturn $.trim(self.element.val()) === '';\n\t\t},\n\n\t\tvalidate: function(skipRequired) {\n\t\t\tvar self = this,\n\t\t\t\tstates = self.states,\n\t\t\t\ttype = self.type,\n\t\t\t\tempty = self.isEmpty();\n\n\t\t\t/*\n\t\t\t * check required, compare against the actual value in the field\n\t\t\t */\n\t\t\t\n\t\t\tif(!skipRequired && states.require && empty) {\n\t\t\t\tself.setError({\n\t\t\t\t\tmessage: 'required'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * only call validate if not empty\n\t\t\t */\n\t\t\tif(empty) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif($.isFunction(self.format)) {\n\t\t\t\tself.format.call(self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check the type validation\n\t\t\t */\n\t\t\tif($.isFunction(type.validate)) {\n\t\t\t\tvar err = type.validate.call(type, self);\n\t\t\t\tif(typeof err === 'undefined') {\n\t\t\t\t\tself.clearError();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tself.setError(err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.clearError();\n\t\t\treturn true;\n\t\t},\n\n\t\t/*\n\t\t * flashes the field to get the users attention\n\t\t *\n\t\t * TODO: support flashing patterns\n\t\t */\n\t\tflash: function(numberOfTimes) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\trepeat(function() {\n\t\t\t\tself.field.addClass('flash');\n\t\t\t\tself.flashTimer = setTimeout(function() {\n\t\t\t\t\tself.field.removeClass('flash');\n\t\t\t\t}, 150);\n\t\t\t}, 150, numberOfTimes || 1);\n\t\t},\n\n\t\t/*\n\t\t * err: {\n\t\t *   message: '',\n\t\t *   code: '',\n\t\t *   description: ''\n\t\t * }\n\t\t */\n\t\tsetError: function(err) {\n\t\t\tvar self = this,\n\t\t\t\terror = self.states.error,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t/*\n\t\t\t * check if we need to clear the error\n\t\t\t */\n\t\t\tif(err === undefined) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!layers.error) {\n\t\t\t\tlayers.error = $('<div class=\"error-overlay noselect\"></div>').appendTo(layers.input);\n\t\t\t}\n\n\t\t\t//TODO: place error then check for overlaps\n\t\t\tlayers.error.text(err.message);\n\n\t\t\tself.status('error', true);\n\n\t\t\t/*\n\t\t\t * listen to keyUp events and rerun validate on this field\n\t\t\t */\n\t\t\tself.autoValidate = 'keyup';\n\t\t},\n\n\t\tclearError: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.states.error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.autoValidate = 'blur';\n\t\t\tself.status('error', false);\n\t\t},\n\n\t\t_formatToField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(value === null || value === undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.toField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.toField.call(type, value, self);\n\t\t},\n\n\t\t_formatFromField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.fromField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.fromField.call(type, value, self);\n\t\t},\n\n\t\t/*\n\t\t * decide what layers should be shown or hidden in the field\n\t\t *\n\t\t * warning: this function gets called a lot!\n\t\t */\n\t\tredraw: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\thasVal = !!e.val(),\n\t\t\t\tshowError = false,\n\t\t\t\tshowNotice = true,\n\t\t\t\tshowPlaceholder = true,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t\t//self.inputWidth = self.element.width(); // Added this line to fix display issue \n\n\t\t\tif(hasVal) {\n\t\t\t\tshowPlaceholder = false;\n\t\t\t}\n\n\t\t\tif(self.suffixShim && !showPlaceholder){\n\t\t\t\tself.suffixShim.text(e.val());\n\t\t\t}\n\n\t\t\tif(layers.prefix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.prefixPaddingAdded) {\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingLeft = e.css('padding-left').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingLeft = isNaN(self.startPaddingLeft)? 5 : parseInt(self.startPaddingLeft, 10);\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingLeft: (self.startPaddingLeft + layers.prefix.outerWidth()) + \"px\",\n\t\t\t\t\t\t\twidth: (self.startInputWidth - layers.prefix.outerWidth())  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.prefixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingLeft: self.startPaddingLeft,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tself.prefixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(layers.suffix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.suffixPaddingAdded) {\n\t\t\t\t\t\tvar valWidth = layers.suffix.find('.value').outerWidth();\n\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingRight = e.css('padding-right').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingRight = isNaN(self.startPaddingRight)? 0 : parseInt(self.startPaddingRight, 10);\n\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingRight: (self.startPaddingRight + valWidth) + 'px',\n\t\t\t\t\t\t\twidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.suffixShim.css({\n\t\t\t\t\t\t\tmaxWidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.suffixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\t\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingRight: self.startPaddingRight,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tself.suffixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif(o.hover){\n\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.focus){\n\t\t\t\tshowSuggest = false;\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.warn){\n\n\t\t\t}\n\t\t\t*/\n\t\t\tif(self.states.error) {\n\t\t\t\tshowNotice = false;\n\t\t\t\tshowError = true;\n\t\t\t}\n\n\t\t\tif(self.dirty){\n\t\t\t\tself.field.addClass('dirty');\n\t\t\t}else{\n\t\t\t\tself.field.removeClass('dirty');\n\t\t\t}\n\n\t\t\tself._showLayer('error', showError);\n\t\t\tself._showLayer('notice', showNotice);\n\t\t\tself._showLayer('placeholder', showPlaceholder);\n\t\t\tself._showLayer('suffix', !showPlaceholder);\n\t\t\tself._showLayer('prefix', !showPlaceholder);\n\t\t},\n\n\t\t_showLayer: function(layer, show) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(!self.layers[layer]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'visible');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].show();\n\t\t\t\t}\n\n\t\t\t\t// MISC-919 make sure placeholder stays in input box\n\t\t\t\tif(layer === 'placeholder' && e.width() > 0) {\n\t\t\t\t\tvar ph = self.layers[layer];\n\t\t\t\t\twhile((ph.outerWidth(true)) > e.width() && (parseFloat(ph.css('font-size'),10) >= 8.0)) {\n\t\t\t\t\t\tph.css('font-size','-=1.0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'hidden');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetType: function(sType) {\n\t\t\tvar self = this,\n\t\t\t\ttypes = $.add123.inputField.types,\n\t\t\t\ttype = self.type;\n\n\t\t\t/*\n\t\t\t * run the type tear down if it exists\n\t\t\t */\n\t\t\tif(type && $.isFunction(type.tearDown)) {\n\t\t\t\ttype.tearDown().call(type, self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if type doesn't exist set to the default of text\n\t\t\t */\n\t\t\tif(!sType || !types[sType]) {\n\t\t\t\tsType = 'text';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * setup the field type\n\t\t\t */\n\t\t\ttype = Object.create(types[sType]);\n\n\t\t\t/*\n\t\t\t * run the type setup\n\t\t\t */\n\t\t\tif($.isFunction(type.setUp)) {\n\t\t\t\ttype.setUp.call(type, self);\n\t\t\t}\n\n\t\t\tself.type = type;\n\t\t},\n\n\t\t/*\n\t\t * returns the type object\n\t\t */\n\t\tgetType: function () {\n\t\t\treturn this.type;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.field.hide();\n\t\t},\n\n\t\tshow: function(displayValue) {\n\t\t\tif (displayValue) {\n\t\t\t\tthis.field.css('display', displayValue);\n\t\t\t} else {\n\t\t\t\tthis.field.show();\n\t\t\t}\n\t\t},\n\n\t\tgetField: function() {\n\t\t\treturn this.field;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.status('disable', false);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.status('disable', true);\n\t\t},\n\n\t\tisDisabled: function() {\n\t\t\treturn this.hasStatus('disable');\n\t\t},\n\n\t\t/*\n\t\t * public status setters\n\t\t */\n\t\tstatus: function(statusName, bool, fireEvents) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * only allow changes to status flags\n\t\t\t */\n\t\t\tif($.inArray(statusName, statusNames) < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * clean and set status in options\n\t\t\t */\n\t\t\tvar cleanBool = !!bool,\n\t\t\t\tstates = self.states;\n\n\t\t\tif(cleanBool === states[statusName]) {\n\t\t\t\t/*\n\t\t\t\t * this status is already set, ignore\n\t\t\t\t */\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstates[statusName] = cleanBool;\n\t\t\tself.redraw();\n\n\t\t\t/*\n\t\t\t * set the status class to the field\n\t\t\t */\n\t\t\tif(states[statusName]) {\n\t\t\t\tself.field.addClass(statusName);\n\t\t\t} else {\n\t\t\t\tself.field.removeClass(statusName);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run any updates to the field needed\n\t\t\t */\n\t\t\tvar layers = self.layers;\n\t\t\tif(statusName === 'disable') {\n\n\t\t\t\tif(!layers.disable) {\n\t\t\t\t\tlayers.disable = $('<div class=\"disable-overlay\"></div>').appendTo(layers.items);\n\t\t\t\t}\n\n\t\t\t\tif(cleanBool) {\n\t\t\t\t\tlayers.disable.css({\n\t\t\t\t\t\twidth: (layers.items.outerWidth() - 2) + 'px',\n\t\t\t\t\t\theight: (layers.items.outerHeight() - 2) + 'px'\n\t\t\t\t\t}).show();\n\t\t\t\t} else {\n\t\t\t\t\tlayers.disable.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * fire statusUpdated event\n\t\t\t */\n\t\t\tif(fireEvents !== false) {\n\t\t\t\tself._trigger(\"statusUpdate\", null, {\n\t\t\t\t\t'statusName': statusName,\n\t\t\t\t\t'value': states[statusName]\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t * legacy status method\n\t\t */\n\t\tupdateStatus: function(statusName, bool, fireEvents) {\n\t\t\tthis.status(statusName, bool, fireEvents);\n\t\t},\n\n\t\thasStatus: function (statusName) {\n\t\t\treturn !!this.states[statusName];\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tvar self = this;\n\n\t\t\t//TODO remove all handlers\n\t\t\t//\n\n\t\t\t/*\n\t\t\t * tearDown type object\n\t\t\t */\n\t\t\tif(self.type && self.type.tearDown){\n\t\t\t\tself.type.tearDown.call(self.type, self);\n\t\t\t}\n\t\t}\n\t});\n\n\t\n\n\n\n\t/*\n\t * InputField Types\n\t *\n\t * Stored in $.add123.inputField.types\n\t *\n\t * The context (this) will get set to the context of the type object, use the ui parameter to obtain access to the inputField widget\n\t *\n\t * setUp: add any events, elements, etc.\n\t *\n\t * tearDown: reverse whatever setUp did\n\t *\n\t * converter: used to convert data between \"human\" and transport formats (e.g. mm/dd/yyyy <-> yyyymmdd)\n\t *\n\t * format: attempt to format the human readable value (e.g. mm/ dd/yyyy -> mm/dd/yyyy, '  foo ' -> 'foo')\n\t *    format is called on before validate\n\t *\n\t * validate: returns an error object on error or undefined on success\n\t * err: {\n\t *   message: '',\n\t *   code: '',\n\t *   description: ''\n\t * }\n\t *\n\t */\n\t$.add123.inputField.types = {};\n\n\t/* Basic Type Structure\n\t$.add123.inputField.types = {\n\t\tsetUp: function(ui) {},\n\t\ttearDown: function(ui) {},\n\t\tconverter: {\n\t\t\ttoField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\treturn {\n\t\t\t\tmessage: 'invalid'\n\t\t\t};\n\t\t}\n\t};\n\t*/\n\n\n}(jQuery));\n\n","/**\n * inputFilter widget\n */\n\n\n(function($) {\n\t'use strict';\n\n\t$.widget('add123.inputFilter', {\n\n\t\toptions: {\n\t\t\ttoUpper: false,\n\t\t\t//TODO: support max, flash when at end of string, other wise just splice off the end\n\t\t\tmax: 0,\n\t\t\tpattern: /[\\w\\s]/ \t// was [A-Z]\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tmemory;\n\n\t\t\t/*\n\t\t\t * track if a native change event will be fired by the browser\n\t\t\t */\n\t\t\tself.nativeChange = false;\n\n\t\t\tif(!e.is('input[type=text], textarea')) {\n\t\t\t\tthrow new Error('inputFilter must be applied to a text input ');\n\t\t\t}\n\n\t\t\te.on('keydown.inputFilter', $.proxy(this._onKeyDown, self));\n\t\t\te.on('keypress.inputFilter', $.proxy(this._onKeyPress, self));\n\t\t\te.on('paste.inputFilter', $.proxy(this._onPaste, self));\n\n\t\t\t/*\n\t\t\t * support change events\n\t\t\t */\n\t\t\te.on('focus.inputFilter', function() {\n\t\t\t\tmemory = e.val();\n\t\t\t});\n\t\t\te.on('blur.inputFilter', function() {\n\t\t\t\tif(!self.nativeChange && memory !== e.val()) {\n\t\t\t\t\te.change();\n\t\t\t\t}\n\t\t\t\tself.nativeChange = false;\n\t\t\t});\n\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tthis.options.max = max;\n\t\t},\n\n\t\tsetPattern: function (regex) {\n\t\t\tthis.options.pattern = regex;\n\t\t},\n\n\t\t_onPaste: function(ev) {\n\t\t\t/*\n\t\t\t * on the paste event, schedule a clean\n\t\t\t */\n\t\t\tsetTimeout($.proxy(this._clean, this), 0);\n\t\t},\n\n\t\t_onKeyDown: function(ev) {\n\t\t\t/*\n\t\t\t * detect when the native change event will be fired\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\tthis.nativeChange = true;\n\t\t\t}\n\t\t},\n\n\n\t\t_onKeyPress: function(ev) {\n\t\t\tvar self = this;\n\t\t\t/*\n\t\t\t * Weird IE glitch fix\n\t\t\t *\n\t\t\t * TODO: this needs an explaination of the problem\n\t\t\t */\n\t\t\t//if (!ev.which && ((ev.charCode || ev.charCode === 0) ? ev.charCode : ev.keyCode)) {\n\t\t\t//\tev.which = ev.charCode || ev.keyCode;\n\t\t\t//}\n\t\t\t/*\n\t\t\t * bypass command keys\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tself._type(String.fromCharCode(ev.which));\n\t\t\treturn false;\n\t\t},\n\n\t\t/*\n\t\t * retype all the characters in the field so they are passed through the filter\n\t\t */\n\t\t_clean: function() {\n\t\t\tvar v = this.element.val();\n\t\t\tthis.element.val('');\n\t\t\t$.each(v.split(''), $.proxy(function(i, c) {\n\t\t\t\tthis._type(c);\n\t\t\t}, this));\n\t\t},\n\n\t\t/*\n\t\t * manually enter the given text into the input field\n\t\t * obeying the regular expression and triggering events\n\t\t * when characters are ignored\n\t\t */\n\t\t_type: function(text) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tkeytypedEvent = 'keytyped',\n\t\t\t\tkeyignoredEvent = 'keyignored',\n\t\t\t\tp, tmp;\n\n\t\t\tif(o.toUpper) {\n\t\t\t\ttext = text.toUpperCase();\n\t\t\t}\n\n\t\t\tif(text.match(o.pattern)) {\n\t\t\t\t/*\n\t\t\t\t * only deal with the caret if the field is focused\n\t\t\t\t *\n\t\t\t\t * (changed focus check because of a PhantomJS bug)\n\t\t\t\t * https://github.com/ariya/phantomjs/issues/10427\n\t\t\t\t */\n\t\t\t\tif(e[0] === document.activeElement) {\n\t\t\t\t\tp = e.caret();\n\t\t\t\t\ttmp = val.slice(0, p.begin) + text + val.slice(p.end);\n\t\t\t\t\tif(o.max && tmp.length > o.max){\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.val(tmp);\n\t\t\t\t\t\te.caret(p.begin + text.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp = val + text;\n\n\t\t\t\t\tif(o.max && p.length > o.max){\n\t\t\t\t\t\tp = p.substring(0, o.max);\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.val(p);\n\t\t\t\t}\n\n\t\t\t\tself._trigger(keytypedEvent);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.inputFilter');\n\t\t}\n\n\t});\n})(jQuery);","/**\n * add123.popOver widget\n */\n\n(function($){\n\t'use strict';\n\n\tvar doc = $(document),\n\t\twin = $(window),\n\t\tbody = $('body');\n\n\t$.widget(\"add123.popOver\", {\n\n\t\toptions: {\n\t\t\ttarget: '',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tappendTo: 'body'\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.showing = false;\n\n\t\t\te.detach();\n\t\t\tvar content = e.clone().addClass('form-input-tooltip');\n\t\t\tself.title = $('<h3 class=\"tooltip-title\"></h3>');\n\n\t\t\te.addClass('tooltip-wrapper').css('position', 'absolute');\n\n\t\t\te.empty();\n\n\t\t\te.append(self.title).append(content);\n\n\t\t\te.appendTo(o.appendTo);\n\n\t\t\tself.onClick = function(ev) {\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!target.childOf(e, true) && !$(ev.delegateTarget.activeElement).childOf(e, true) && !target.childOf(o.target, true)) {\n\t\t\t\t\tif(self._trigger('beforeoffclick', ev, target)) {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.onResize = function(ev) {\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.position();\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * listen for off clicks\n\t\t\t */\n\t\t\tdoc.on('mousedown', self.onClick);\n\n\t\t\t/*\n\t\t\t * listen for window resizes\n\t\t\t */\n\t\t\twin.on('resize', self.onResize);\n\t\t},\n\n\t\tsetAppendTo: function (el) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\to.appendTo = el;\n\t\t\te.appendTo(el);\n\t\t},\n\n\t\t_init: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\ttitleElement = self.title;\n\n\t\t\tvar title = e.attr('title');\n\n\t\t\tif(title) {\n\t\t\t\ttitleElement.text(title).show();\n\t\t\t}else{\n\t\t\t\ttitleElement.hide();\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.showing) {\n\t\t\t\tself.hide();\n\t\t\t} else {\n\t\t\t\tself.show();\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * show must be deferred with a timeout to avoid being affected by an offclick\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.showing = true;\n\t\t\t\tself.position();\n\t\t\t\t/*\n\t\t\t\t * fadeIn is used instead of show() so that the popover\n\t\t\t\t * posistioning is not visible\n\t\t\t\t */\n\t\t\t\tself.element.fadeIn(10);\n\t\t\t\tself._trigger('onShow');\n\t\t\t}, 0);\n\t\t},\n\n\t\thide: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.showing = false;\n\n\t\t\tself.element.hide();\n\t\t\tself._trigger('onHide');\n\t\t},\n\n\t\tposition: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tmy = 'left+' + (o.left - 3) + ' top+' + (o.top + 3),\n\t\t\t\tat = 'left bottom',\n\t\t\t\tcollision = 'flipfit none';\n\n\t\t\tif (o.my) {\n\t\t\t\tmy = o.my;\n\t\t\t}\n\n\t\t\tif (o.at) {\n\t\t\t\tat = o.at;\n\t\t\t}\n\n\t\t\tif (o.collision) {\n\t\t\t\tcollision = o.collision;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\te.position({\n\t\t\t\t\tmy: my,\n\t\t\t\t\tat: at,\n\t\t\t\t\tof: o.target,\n\t\t\t\t\tcollision: collision\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tdoc.off('mousedown', self.onClick);\n\t\t\twin.off('resize', self.onResize);\n\t\t}\n\t});\n\n})(jQuery);","/**\n * submitButton Widget\n */\n(function($) {\n\t'use strict';\n\n\t/*\n\t * when you catch the submitbuttonsubmit event, you need to call execute\n\t * 'event.data.onComplete' when the processing is done\n\t */\n\t$.widget('add123.submitButton', {\n\t\toptions: {\n\t\t\tcolor: '#000',\n\t\t\tdelay: 10,\n\t\t\tdisabled: false,\n\t\t\twaiting: false,\n\t\t\t// label: undefined, //ignored by create\n\t\t\tpreventDefault: true,\n\t\t\tenterKeyListenerProvider: function() {\n\t\t\t\treturn this.parents('form').first();\n\t\t\t},\n\t\t\tonKeyDown: function (ev) {\n\t\t\t\tif(ev.keyCode === 13 && !$(ev.target).is('textarea')) {\n\t\t\t\t\tthis.submit.call(this, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\tw = e.width(),\n\t\t\t\th = e.height();\n\n\t\t\te.addClass('submitting');\n\n\t\t\tself.getButtonLabel().css('visibility', 'hidden');\n\n\t\t\tself.spinner.appendTo(e).spin({\n\t\t\t\tcolor: o.color,\n\t\t\t\ttop: -h + 4,\n\t\t\t\tleft: -7\n\t\t\t});\n\t\t},\n\n\t\tgetButtonLabel: function () {\n\t\t\treturn this.element.find('.ui-button-text');\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.destroyed){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.removeClass('submitting');\n\t\t\tself.spinner.spin('stop');\n\t\t\tself.getButtonLabel().css('visibility', 'visible');\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\t\t\tvar e = self.element,\n\t\t\t\tbOptions = {};\n\n\t\t\tif(o.icons) {\n\t\t\t\tbOptions.icons = o.icons;\t// does nothing\n\t\t\t}\n\n\t\t\tif(o.disabled) {\n\t\t\t\tbOptions.disabled = o.disabled;\n\t\t\t}\n\n\t\t\tif(o.text !== undefined){\n\t\t\t\tbOptions.text = o.text;\n\t\t\t}\n\n\t\t\to.label = e.html();\n\t\t\te.button(bOptions).on('click.submitButton', $.proxy(self.submit, self));\n\n\t\t\tself.spinner = $('<div class=\"spinner\" style=\"display: inline-block; position: absolute;\"></div>');\n\t\t\te.append(this.spinner);\n\n\t\t\t// This actually doesn't seem to do anything. The browser will do it automatically\n\t\t\tvar listenerProvider = o.enterKeyListenerProvider;\n\t\t\tif($.isFunction(listenerProvider)) {\n\t\t\t\tvar listener = listenerProvider.call(e);\n\t\t\t\tif(typeof listener !== 'undefined') {\n\t\t\t\t\tlistener.on('keydown.submitButton', $.proxy(o.onKeyDown, self));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsubmit: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\n\t\t\tif(o.preventDefault && ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t}\n\n\t\t\tif(o.waiting === true || o.disabled === true) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif(!ev) {\n\t\t\t\tev = null;\n\t\t\t}\n\n\t\t\tif(self._trigger('beforesubmit', ev) === false) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\to.waiting = true;\n\t\t\tself._showLoading.call(self);\n\n\t\t\t/*\n\t\t\t * submit clicks are delayed so that the UI can update before\n\t\t\t * doing all of the submit work\n\t\t\t *\n\t\t\t * passes the onComplete callback as the data for this event\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself._trigger('submit', ev, function() {\n\t\t\t\t\to.waiting = false;\n\t\t\t\t\tself._hideLoading.call(self);\n\t\t\t\t\tself._trigger('aftersubmit', ev);\n\t\t\t\t});\n\t\t\t}, o.delay);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.options.disabled = false;\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.options.disabled = true;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.submitButton');\n\t\t\tself.destroyed = true;\n\t\t}\n\t});\n})(jQuery);","/**\n * Array Field Widget.\n *\n * - We may want to put this in formBuilder-os\n * - May require css from dyn\n *\n * Attribute Settings:\n * data-addmessage=\"Some message\"\t- Message next to the '+' button\n * data-sub-widget=\"widgetName\"\t\t- Name of jQuery widget to be used as the items\n */\n/*global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar arrayFieldId = 0;\n\tvar nextArrayFieldId = function () {\n\t\treturn arrayFieldId++;\n\t};\n\n\t// Localization\n\tif(!util.lang.remove) {\n\t\tswitch(util.lang.code) {\n\t\t\tcase 'es': util.lang.remove = 'Quitar'; break;\n\n\t\t\t//add more lang code translations here\n\n\t\t\tdefault: //'en'\n\t\t\t\tutil.lang.remove = 'Remove'; \n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\n\t$.widget(\"tms.arrayField\", {\n\t\t_arrayFieldTemplate: \n\t\t\t'<div class=\"array-field\">' + \n\t\t\t\t'<div class=\"items\"><div class=\"items-content\"></div></div>' + \n\t\t\t\t'<div class=\"input-field\">' + \n\t\t\t\t\t'<div class=\"field-items\">' + \n\t\t\t\t\t\t'<span class=\"first field-item addon clickable array-field-add noselect\"><a href=\"#\">+</a></span>' + \n\t\t\t\t\t\t'<span class=\"field-item array-field-add-message\"></span>' + \n\t\t\t\t\t'</div>' + \n\t\t\t\t'</div>' + \n\t\t\t'</div>',\n\n\t\t_arrayFieldItemTemplate:\n\t\t\t'<div class=\"input-field-group array-field-item\">' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"first field-item addon clickable sort-handle noselect\" style=\"width:8px;\">::</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<span class=\"sub-field\"></span>' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"field-item addon clickable array-field-delete\">' +\n\t\t\t\t\t\t\t'<span class=\"tms-icon tms-icon-remove\" title=\"'+util.lang.remove+'\"></span>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>', \n\n\t\t_create: function(){\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.subField = e.html();\n\n\t\t\tself.id = nextArrayFieldId();\n\n\t\t\te.html(self._arrayFieldTemplate);\n\n\t\t\tif(e.attr('data-addmessage')){\n\t\t\t\te.find('.array-field-add-message').text(e.attr('data-addmessage'));\n\t\t\t}\n\n\t\t\tvar items = self.items = e.find('.items');\n\t\t\tself.itemsContent = items.find('.items-content');\n\n\t\t\t//CDH 2013-12-05 removed this during the rafactor needed for waypoints\n\t\t\t//self.data = [];\n\t\t\t//self.draw();\n\n\n\t\t\te.on('click', '.array-field-add, .array-field-add-message', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._handleAddButtonClick();\n\t\t\t});\n\n\t\t\te.on('click', '.array-field-delete', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\t$(this).parents('.array-field-item').first().remove();\n\t\t\t\tself._onDirty();\n\t\t\t\tself._trigger('afterdelete', ev);\n\t\t\t});\n\n\t\t\tself.itemsContent.sortable({\n\t\t\t\taxis: \"y\",\n\t\t\t\thandle: '.sort-handle',\n\t\t\t\tcontainment: self.itemsContent,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\tself._checkDirty();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * proxy dirty and clean events\n\t\t\t */\n\t\t\tself.dirty = false;\n\t\t\t//items.on('dirty', $.proxy(self._onDirty, self)).on('clean', $.proxy(self._onClean, self));\n\n\n\t\t\t/*\n\t\t\t * proxy clean/dirty events to hanlder functions\n\t\t\t */\n\t\t\te.on('dirty clean', function (ev) {\n\t\t\t\t/*\n\t\t\t\t * only listen to events from children of the widget,\n\t\t\t\t * that way a loop will not form when the element triggers\n\t\t\t\t * the same events\n\t\t\t\t */\n\t\t\t\tif(!$(ev.target).childOf(e)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\n\t\t\t\tif(ev.type === 'dirty'){\n\t\t\t\t\tself._onDirty();\n\t\t\t\t}else{\n\t\t\t\t\tself._onClean();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetId: function(){\n\t\t\treturn this.id;\n\t\t},\n\n\t\t_handleAddButtonClick: function () {\n\t\t\tvar self = this;\n\t\t\tif(self._trigger('beforeaddnewitem')){\n\t\t\t\t//default can be prevented\n\t\t\t\tself.addItem();\n\t\t\t}\n\t\t},\n\n\t\t_checkDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcurData = self.data,\n\t\t\t\tnewData = self.get();\n\n\t\t\tif(util.equals(newData, curData)){\n\t\t\t\tself.dirty = false;\n\t\t\t\tself.element.trigger('clean');\n\t\t\t}else{\n\t\t\t\tself.dirty = true;\n\t\t\t\tself.element.trigger('dirty');\n\t\t\t}\n\t\t},\n\n\t\t_onDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\t_onClean: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\tgetFieldInstances: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tfields = [];\n\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tfields.push($(this).find('.array-field-input-' + self.id));\n\t\t\t});\n\t\t\treturn fields;\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget') || 'inputField',\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tdata = [];\n\n\t\t\t/*\n\t\t\t$.each(self.fields, function (i, field) {\n\t\t\t\tvar val = field[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t*/\n\t\t\t\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tvar val = $(this).find('.array-field-input-' + self.id)[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\n\t\t\treturn data;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tvalid = true;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\tvalid = valid && $(this).find(':add123-inputField').inputField('validate');\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\tself.dirty = false;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\t\t\tself.set([]);\n\t\t},\n\n\t\tflash: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('flash');\n\t\t\t});\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this,\n\t\t\t\titems = self.items,\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tself._empty();\n\n\t\t\tif(!$.isArray(data)){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tself.data = data;\n\n\t\t\t$.each(data, function (i, item) {\n\t\t\t\tcontent.append(self.drawItem(item));\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * allows a different cleanup behavior for special lists (example: tms.tmsLocationTicketRoute)\n\t\t */\n\t\t_empty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcontent = self.itemsContent;\n\t\t\tcontent.children().remove(); // calls the destroy on widgets + removed them\n\t\t\t// content.empty(); //redundant\n\t\t},\n\n\t\taddItem: function (index, item) {\n\t\t\tvar self = this,\n\t\t\t\titemEl = self.drawItem(item),\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tif((index || index === 0) && index >= 0){\n\t\t\t\tcontent.children().eq(index).before(itemEl);\n\t\t\t}else{\n\t\t\t\t/*\n\t\t\t\t * if no insert index is defined, just append\n\t\t\t\t */\n\t\t\t\tcontent.append(itemEl);\n\t\t\t}\n\n\t\t\tself._trigger('afteradd', null, itemEl);\n\n\t\t\treturn itemEl || null;\n\t\t},\n\n\t\tdrawItem: function (item) {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget'),\n\t\t\t\titemView = $(self._arrayFieldItemTemplate);\n\n\t\t\tif(subWidget) {\n\t\t\t\tself._drawWidgetItem(item, itemView, subWidget);\n\t\t\t}else{\n\t\t\t\tself._drawInternalMarkupItem(item, itemView);\n\t\t\t}\n\t\t\treturn itemView;\n\t\t},\n\n\t\t_drawInternalMarkupItem: function (item, itemView) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $(self.subFieldMarkup());\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').html(field);\n\t\t\tfield.parent().find('input[type!=submit], select, textarea, [data-load-widget-as-field]')\n\t\t\t\t.inputField()\n\t\t\t\t.inputField('set', item)\n\t\t\t\t.addClass('array-field-input-' + self.id);\n\t\t},\n\n\t\t_drawWidgetItem: function (item, itemView, subWidget) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $('<div/>')[subWidget]();\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').append(field);\n\t\t\tfield[subWidget]('set', item).addClass('array-field-input-' + self.id).css('display', 'inline');\n\t\t},\n\n\t\tsubFieldMarkup: function () {\n\t\t\treturn this.subField;\n\t\t},\n\n\n\t\t_destroy: function(){\n\t\t\tvar self = this;\n\n\t\t\t// Remove everything and put the inital back\n\t\t\tself._empty(); //destroys the widgets gracefully\n\t\t\tself.element.empty();\n\t\t\tself.element.html(self.subField);\n\t\t}\n\t});\n})(jQuery);\n","/**\n * tms.textSubmitter widget\n *\n * You can type text then hit enter to trigger a submit event with the data and a callback.\n * Once submitted, the textbox is cleared and ready for new input.\n *\n * A send instruction message appears when focused\n */\n\n(function($){\n\t'use strict';\n\t\n\t// Converted the lang.sendInstruction to an option with 'press enter to submit' as a default\n\t// Note: this differs from the tms 'press enter to add note'\n\n\t$.widget(\"tms.textSubmitter\", {\n\t\t_textSubmitterTemplate:\n\t\t\t'<div class=\"text-submitter\">' +\n\t\t\t\t'<textarea name=\"text-entry\" rows=\"3\" />' +\n\t\t\t\t'<div class=\"send-instruction noselect\"></div>' +\n\t\t\t'</div>',\n\n\t\toptions: {\n\t\t\twidth: '300px',\n\t\t\tplaceholder: '',\n\t\t\tsendInstruction: 'press enter to submit',\n\t\t\trows: undefined, // default 3\n\t\t\tignoreEmptySubmit: false\t// submit when empty yes/no\n\t\t},\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\ttmp;\n\n\t\t\t/**\n\t\t\t * Setup html\n\t\t\t */\n\t\t\tself.container = $(self._textSubmitterTemplate);\n\n\t\t\te.append(self.container);\n\n\t\t\tself.textEntry = e.find('textarea[name=\"text-entry\"]');\n\n\t\t\tif(!isNaN(o.rows)) {\n\t\t\t\tself.textEntry.attr('rows', o.rows);\n\t\t\t}\n\n\t\t\tself.sendInstruction = e.find('.send-instruction').text(o.sendInstruction);\n\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\n\t\t\tself.textEntry.width(o.width).inputField({\n\t\t\t\tplaceholder: o.placeholder,\n\t\t\t\tstatusUpdate: function(ev, data) {\n\t\t\t\t\tif(data.statusName === 'disable'){\n\t\t\t\t\t\tif(data.value === false && self.textEntry.is(':focus')) {\n\t\t\t\t\t\t\t// Just been enabled and still on it\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t\t\t\tself.textEntry.removeAttr('readonly');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Just been disabled\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t\t\t\tself.textEntry.attr('readonly', true); // prevents edits during submit\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.element.width(o.width);\n\n\t\t\t/**\n\t\t\t * Handle events\n\t\t\t */\n\t\t\tself.textEntry\n\t\t\t\t.on('focus',function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t})\n\t\t\t\t.on('blur', function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t})\n\t\t\t\t.on('keydown', function (ev) {\n\t\t\t\t\tif (ev.which === 13 && !ev.shiftKey) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tself._submit();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t_submit: function () {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tif(self.textEntry.inputField('isDisabled') || \n\t\t\t\t(o.ignoreEmptySubmit && self.textEntry.inputField('isEmpty'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tself.disable();\n\n\t\t\tvar onComplete = function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\tself.clear();\n\t\t\t\t}\n\t\t\t\tself.enable();\n\t\t\t};\n\t\t\tself._trigger('submit', null, {text: self.get(), onComplete: onComplete});\n\t\t},\n\n\t\tset: function (text) {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('set', text);\n\t\t},\n\n\t\tsetInstruction: function(text){\n\t\t\tvar self = this;\n\n\t\t\tself.sendInstruction.text(text);\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.textEntry.inputField('get');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('clear');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('disable');\n\t\t},\n\n\t\tenable: function () {\n\t\t\tvar self = this;\n\t\t\tself.textEntry.inputField('enable');\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.container.remove();\n\t\t}\n\t});\n\t\n})(jQuery);\n","/**\n * Data Type 'dateTime'\n * \n * A combination of two InputFields, date & time.\n *\n * The original inputfield is hidden between them.\n *\n * Format: 'YYYY-MM-DDTHH:mm:ssZ' in UTC\n *\n * Attribute Settings:\n * data-time-width-ratio (default=0.5, min=.2, max=.8) \n * data-store-utc (default true) keeps set/get in utc time zone format, rather than local.\n *\n * CSS Settings:\n * min-width (default=270px, min=100px)\n *\n * Attributes specific for date or time will be passed to them.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.dateTime = {\n\t\tmomentStoreFormat: 'YYYY-MM-DDTHH:mm:ss[Z]',\n\n\n\t\tsetUp: function(inputFieldWidgetInstance) {\n\t\t\tvar self = this,\n\t\t\t\te = inputFieldWidgetInstance.element;\n\n\n\t\t\t// Get option constants\n\t\t\tself.storeUtc = e.data('storeUtc');\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tself.ifw = inputFieldWidgetInstance;\n\n\t\t\tself._setUpFields();\n\t\t\tself._refreshFieldWidth();\n\t\t\tself._setUpCleanDirtyEvents();\n\n\t\t\tself.ifw.element.on('resize', function(ev){\n\t\t\t\tself._refreshFieldWidth();\n\t\t\t});\n\t\t},\n\n\t\t_setUpFields: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.ifw.element,\n\t\t\t\tfieldItems = self.ifw.element.parent().parent(),\n\t\t\t\toptions, tmp, i;\n\n\t\t\tself.ifw.element.parent().hide();\n\n\t\t\t// Create the elements\n\t\t\tself.dateWidget = $('<input type=\"text\" data-type=\"date\"/>');\n\t\t\tself.timeWidget = $('<input type=\"text\" data-type=\"time\"/>');\n\n\t\t\t// Pass date attributes\n\t\t\tfor(i = 0; i < types.date.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.date.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.dateWidget.data(types.date.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Pass time attributes\n\t\t\tfor(i = 0; i < types.time.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.time.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.timeWidget.data(types.time.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\trequire: true\n\t\t\t};\n\n\t\t\t// Create the widgets\n\t\t\tself.dateWidget.prependTo(fieldItems).inputField(options);\n\t\t\tself.timeWidget.appendTo(fieldItems).inputField(options);\n\n\t\t\tself.dateWidget.parent().addClass('first');\n\n\t\t\tself.timeWidgetInstance = self.timeWidget.data('add123InputField');\n\t\t\tself.dateWidgetInstance = self.dateWidget.data('add123InputField');\n\t\t},\n\n\t\t/**\n\t\t * Make sure the child widgets' total width is equal to the base element's width\n\t\t */\n\t\t_refreshFieldWidth: function() {\n\t\t\tvar self = this,\n\t\t\t\tfullWidth = self.ifw.element.width(),\n\t\t\t\telDate = self.dateWidget,\n\t\t\t\telTime = self.timeWidget,\n\t\t\t\ttimeWidthRatio,\n\t\t\t\tminWidth;\n\t\t\t\t\t\n\t\t\t\t// Take out widghet margins/padding from outer width\n\t\t\t\tfullWidth -= elDate.outerWidth(true) - elDate.width();\n\t\t\t\tfullWidth -= elTime.outerWidth(true) - elTime.width();\n\t\t\t\t\n\t\t\t\t// Prevent it from being too small\n\t\t\t\tminWidth = self.ifw.element.css('min-width');\n\t\t\t\tif(minWidth !== null) {\n\t\t\t\t\tminWidth = parseInt(minWidth, 10);\n\t\t\t\t}\n\t\t\t\tif(isNaN(minWidth) || minWidth < 100) {\n\t\t\t\t\tminWidth = 270; //default\n\t\t\t\t}\n\n\t\t\t\tif(fullWidth < minWidth) {\n\t\t\t\t\tfullWidth = minWidth;\n\t\t\t\t}\n\n\t\t\t\t// Set time width at ratio and give the rest to date\n\t\t\t\ttimeWidthRatio = self.ifw.element.data('timeWidthRatio');\n\t\t\t\tif(isNaN(timeWidthRatio) || timeWidthRatio < 0.2 || 0.8 < timeWidthRatio) {\n\t\t\t\t\ttimeWidthRatio = 0.5; //default\n\t\t\t\t}\n\n\t\t\t\telTime.width(fullWidth * timeWidthRatio);\n\t\t\t\telDate.width(fullWidth - elTime.width());\n\t\t},\n\n\t\t_setUpCleanDirtyEvents: function() {\n\t\t\tvar self = this;\t\n\n\t\t\tself.dateWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\n\t\t\tself.timeWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * No need to worry about utc/local. Handled in type time.\n\t\t\t * All retrived/set times should be in utc\n\t\t\t *\n\t\t\t * Seconds are included in the formatting but are ignored and \n\t\t\t * always set to 00\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tsplitDate = self._splitDateAndTime(val);\n\n\t\t\t\tself.timeWidgetInstance.set(splitDate.time);\n\t\t\t\tself.dateWidgetInstance.set(splitDate.date);\n\t\t\t}, \n\t\t\t\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tlocalDate = self.dateWidgetInstance.get(),\n\t\t\t\t\ttime = self.timeWidgetInstance.get(),\n\t\t\t\t\tdateTime;\n\n\t\t\t\t// If one is empty just return nothing\n\t\t\t\tif(!localDate.trim() || !time.trim()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\t// Convert them to moments\n\t\t\t\tlocalDate = moment(localDate, types.date.momentStoreFormat);\n\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Parse as UTC and localize\n\t\t\t\t\ttime = moment.utc(time, types.time.momentStoreFormat).local();\n\t\t\t\t} else {\n\t\t\t\t\t// Parse as local\n\t\t\t\t\ttime = moment(time, types.time.momentStoreFormat);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t// Account for DST shifts \n\t\t\t\tif(localDate.isDST() && !time.isDST()) {\n\t\t\t\t\ttime.add(1,'h');\n\t\t\t\t} else if(!localDate.isDST() && time.isDST()) {\n\t\t\t\t\ttime.subtract(1,'h');\n\t\t\t\t}\n\n\t\t\t\t// Combine them\n\t\t\t\tdateTime = self._joinDateAndTimeMoments(localDate,time);\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\tdateTime.utc();\n\t\t\t\t}\n\n\t\t\t\tif(!dateTime.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn dateTime.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\t_splitDateAndTime: function (dateTimeString) {\n\t\t\tvar self = this,\n\t\t\t\tdateTime,\n\t\t\t\tresult = {};\n\t\t\t\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// Parse as UTC\n\t\t\t\tdateTime = moment.utc(dateTimeString, self.momentStoreFormat);\n\t\t\t} else {\n\t\t\t\t// Parse as local\n\t\t\t\tdateTime = moment(dateTimeString, self.momentStoreFormat);\n\t\t\t}\n\n\t\t\tif(!dateTime.isValid()){\n\t\t\t\treturn {\n\t\t\t\t\tdate: '',\n\t\t\t\t\ttime: ''\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tresult.time = dateTime.format(types.time.momentStoreFormat);\n\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// need local for date type\n\t\t\t\tdateTime.local();\n\t\t\t}\n\n\t\t\tresult.date = dateTime.format(types.date.momentStoreFormat);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t_joinDateAndTimeMoments: function(localDateMoment, localTimeMoment) {\n\t\t\treturn moment().utcOffset(localTimeMoment.utcOffset())\n\t\t\t\t.second(localTimeMoment.second())\n\t\t\t\t.minute(localTimeMoment.minute())\n\t\t\t\t.hour(localTimeMoment.hour())\n\n\t\t\t\t.date(localDateMoment.date())\n\t\t\t\t.month(localDateMoment.month())\n\t\t\t\t.year(localDateMoment.year());\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\tvalid = true,\n\t\t\t\tskipRequired = !self.ifw.hasStatus('require');\n\n\t\t\t// Do not skip require check when only one is empty\n\t\t\tif(skipRequired){\n\t\t\t\tskipRequired = !self.dateWidgetInstance.isEmpty();\n\t\t\t\tskipRequired = skipRequired && !self.timeWidgetInstance.isEmpty();\n\t\t\t}\n\n\t\t\tvalid = valid && self.dateWidgetInstance.validate(skipRequired);\n\t\t\tvalid = valid && self.timeWidgetInstance.validate(skipRequired);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t// will not validate if empty\n\t\tisEmpty: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn ($.trim(self.dateWidget.val()) + $.trim(self.timeWidget.val())) === '';\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tvar self = this;\n\n\t\t\tself.dateWidget.inputField('getField').remove();\n\t\t\tself.timeWidget.inputField('getField').remove();\n\n\t\t\tself.dateWidget = undefined;\n\t\t\tself.timeWidget = undefined;\n\n\t\t\tifw.element.parent().show();\n\t\t}\n\n\t};\n\n})(jQuery);","/**\n * Data type 'tmsPhone', an extension of phone\n *\n * It adds a secondary addon to the right to specify number type.\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsPhone = $.extend({}, types.phone, {\n\t\t_phoneTypeTemplate:\n\t\t\t\t'<div class=\"phone-type-form\">' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"mobile\"><span class=\"tms-icon tms-icon-iphone\"></span> '+'mobile'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"home\"><span class=\"tms-icon tms-icon-home\"></span> '+'home'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"work\"><span class=\"tms-icon tms-icon-office\"></span> '+'work'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"fax\"><span class=\"tms-icon tms-icon-print\"></span> '+'fax'+'</div>' +\n\t\t\t\t'</div>',\n\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\n\t\t\ttypes.phone.setUp.call(self, inputWidget);\n\n\t\t\t/*\n\t\t\t * add icon\n\t\t\t */\n\n\t\t\tself.desc = $('<span></span>');\n\t\t\tself.setType();\n\t\t\tself.icon = inputWidget.addOn(1, '').addClass('clickable').append(self.desc).width(75).css('textAlign', 'left');\n\n\t\t\tself.icon.on('click', function() {\n\t\t\t\t/*\n\t\t\t\t * build the menu lazily, so that popovers are not created when now needed and the field has time to attach\n\t\t\t\t * to the form so that the popover appendto can be set\n\t\t\t\t */\n\t\t\t\tself._setupMenu(inputWidget);\n\t\t\t\tself.toggleMenu();\n\t\t\t});\n\n\t\t\t//updateTmsPhone.call(self);\n\t\t\t//o._layers.suggest.html('(NNN) NNN-NNNN');\n\t\t},\n\n\t\ttoggleMenu: function () {\n\t\t\tvar self = this;\n\t\t\tself.menu.find('.focused').removeClass('focused').end().find('[data-code=\"' + self.type + '\"]').addClass('focused').end().popOver('toggle');\n\t\t},\n\n\t\t_setupMenu: function (inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tappendToParent, appendTo;\n\n\t\t\tif(self.menuBuilt){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.menu = $(self._phoneTypeTemplate).popOver({\n\t\t\t\ttarget: self.icon,\n\t\t\t\tappendTo: inputWidget.getField()\n\t\t\t}).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t}).on('click', '.phone-type', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tvar control = $(this);\n\t\t\t\tself.setType(control.attr('data-code'));\n\t\t\t\tself.menu.popOver('hide');\n\t\t\t});\n\n\t\t\tself.menuBuilt = true;\n\t\t},\n\n\t\tsetType: function (type) {\n\t\t\tvar self = this;\n\n\t\t\tif(!type){\n\t\t\t\ttype = 'home';\n\t\t\t}\n\n\t\t\tvar icon = '';\n\n\t\t\tif(type === 'work'){\n\t\t\t\ticon = 'office';\n\t\t\t} else if(type === 'mobile'){\n\t\t\t\ticon = 'iphone';\n\t\t\t} else if(type === 'fax'){\n\t\t\t\ticon = 'print';\n\t\t\t} else {\n\t\t\t\ticon = type = 'home';\n\t\t\t}\n\n\t\t\tself.desc.html('<span class=\"tms-icon tms-icon-' + icon + '\" style=\"margin-right:0.25em;\"></span> ' + type);\n\t\t\tself.type = type;\n\t\t},\n\n\t\tconverter: {\n\t\t\tfromField: function(number, inputWidget) {\n\t\t\t\tvar self = this;\n\t\t\t\tnumber = types.phone.converter.fromField.call(self, number, inputWidget);\n\t\t\t\t// Number is the value being entered\n\n\t\t\t\tconsole.log(this);\n\n\t\t\t\t// Returns null if the value entered is not a number \n\t\t\t\tif(number !== 0 && !number){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\ttype: self.type,\n\t\t\t\t\tnumber: number\n\t\t\t\t};\n\n\t\t\t\tif(self.id){\n\t\t\t\t\tconsole.log(self.id);\n\t\t\t\t\tdata.id = self.id;\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t},\n\t\t\ttoField: function(data, inputWidget) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(data){\n\t\t\t\t\tself.setType(data.type);\n\t\t\t\t\tself.id = data.id;\n\t\t\t\t\tdata = types.phone.converter.toField.call(self, data.number, inputWidget);\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function(inputWidget) {\n\t\t\tinputWidget.element.off('.tmsPhone');\n\t\t\t$.Widget.prototype.destroy.call(this);\n\t\t}\n\t});\n\t\n})(jQuery);\n","/**\n * Functions to quickly make extensions of the select type\n * \n * arraySelectCreator(array)\n * booleanSelectCreator(trueString, falseString)\n * \n */\n\n/* global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\t$.add123.inputField.arraySelectCreator = function (array) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {};\n\t\t\t\td.label = s;\n\t\t\t\td.value = s;\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map(array, $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.add123.inputField.booleanSelectCreator = function (trueString, falseString) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {},\n\t\t\t\t\tval = falseString;\n\n\t\t\t\tif(s === true){\n\t\t\t\t\tval = trueString;\n\t\t\t\t}\n\n\t\t\t\td.label = val;\n\t\t\t\td.value = !!s;\n\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tdeMap: function (d) {\n\t\t\t\tif($.isEmptyObject(d)){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn d.value;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map([true, false], $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Examples from tms\n\tvar date = new Date();\n\tvar years = [];\n\tfor (var i = 0; i <= 10; i++) {\n\t\tyears.push((date.getFullYear() + i).toString());\n\t}\n\t\n\ttypes.tmsExpYear = $.add123.inputField.arraySelectCreator(years);\n\ttypes.tmsYesNo = $.add123.inputField.booleanSelectCreator(util.lang.dict.yes, util.lang.dict.no);\n\t\n})(jQuery);\n","/**\n * Data Type 'tmsFullname', an extension of utext\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsFullname = $.extend({}, types.utext, {\n\t\tvalidate: function (ui) {\n\t\t\tvar value = ui.element.val();\n\n\t\t\tvalue = value.trim().replace(/\\s{2,}/g, ' '); // Replace outside whitespace with two or more whitespaces?\n\n\t\t\tif (value.split(' ').length < 2) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'first and last name'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(isNaN(value)) {\n\t\t\t\tvalue = value.toString();\n\t\t\t\tvar count = 0; \n\t\t\t\tvar countH = 0; \n\t\t\t\tvar countA = 0; \n\t\t\t\tfor(var i = 0; i < value.length; i++){\n\n\t\t\t\t\tif((value[i]) === ','){\n\t\t\t\t\tcount++;}\n\t\t\t\t\tif((value[i]) === '-'){\n\t\t\t\t\tcountH++;}\n\t\t\t\t\tif((value[i]) === '\\''){\n\t\t\t\t\tcountA++;}\n\t\t\t\t\tif(value[i].match(/^[!@#\\$%\\^&*()_+={}\\[\\]\\\\\\/|;:\"\\?<>\\.~`]?$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'illegal symbol'\n\t\t\t\t\t};}\n\t\t\t\t\tif(value[i].match(/^[0-9]$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'no numbers'\n\t\t\t\t\t};}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(count > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one comma allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countH > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one hyphen allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countA > 3){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one apostrophe per name'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n","/*\n\t * Large Code Type Support (code)\n\t *\n\t * TODO: update this so that the code table does not have to global (e.g. assigned to window)\n\t *\n\t * Example Code Table:\n\t * [\n\t *   {\"value\" : \"100\",  \"label\" : \"BROWARD TRAILER\"},\n\t *   {\"value\" : \"AAA\",  \"label\" : \"122 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"BBB\",  \"label\" : \"22 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"CCC\",  \"label\" : \"333 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"EEE\",  \"label\" : \"444 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"ZZZ\",  \"label\" : \"MEADOW CREEK WELDING LLC.\"}\n\t * ]\n\t */\n\n\n\n(function($) {\n\t'use strict';\n\n\t/*\n\t * binary array search, codes must be in alpha order!\n\t */\n\tvar binarySearch = function(needle, haystack) {\n\t\tvar mid, element;\n\n\t\tif(!haystack.length) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar high = haystack.length - 1;\n\t\tvar low = 0;\n\n\t\tneedle = needle.toLowerCase();\n\n\t\t//TODO: only supporting case insensitive right now\n\t\twhile(low <= high) {\n\t\t\tmid = parseInt((low + high) / 2, 10);\n\t\t\telement = haystack[mid].value.toLowerCase();\n\t\t\tif(element > needle) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if(element < needle) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\treturn mid;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tvar codeListFilter = function(codeTable) {\n\t\treturn function(request, response) {\n\t\t\tif(request.term.length < 3) {\n\t\t\t\tresponse();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"i\");\n\n\t\t\tvar matches = $.grep(codeTable, function(value) {\n\t\t\t\treturn matcher.test(value.label) || matcher.test(value.value);\n\t\t\t});\n\n\t\t\tresponse(matches);\n\t\t};\n\t};\n\n\t$.add123.inputField.types.code = {\n\t\tsetUp: function(ui) {\n\t\t\tvar e = ui.element,\n\t\t\t\to = ui.options;\n\n\n\t\t\tvar codeTableName = e.data('codes');\n\n\t\t\tif(!codeTableName) {\n\t\t\t\tthrow new Error('not data-codes attribute given for input ' + e.attr('name'));\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * save code table reference to options\n\t\t\t */\n\t\t\to._codeTable = window[codeTableName];\n\n\t\t\tif(!o._codeTable) {\n\t\t\t\tthrow new Error('ERROR: data-codes points to an undefined window property window[' + codeTableName + '] for input [name=' + e.attr('name') + ']');\n\t\t\t}\n\n\t\t\te.autocomplete({\n\t\t\t\tsource: codeListFilter(o._codeTable)\n\t\t\t}).on('autocompleteselect.type-code', function(ev, ui) {\n\t\t\t\t/*\n\t\t\t\tif(ui.item && ui.item.label) {\n\t\t\t\t\t//o._layers.notice.html(ui.item.label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t}).on('keyup.type-code', function(ev) {\n\t\t\t\t/*\n\t\t\t\tvar val = binarySearch(e.val(), o._codeTable);\n\t\t\t\tif(val > -1) {\n\t\t\t\t\t//o._layers.notice.html(o._codeTable[val].label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t});\n\n\t\t},\n\t\ttearDown: function(ui) {\n\t\t\tvar o = ui.options,\n\t\t\t\te = ui.element;\n\t\t\te.html('').off('.type-code').autocomplete('destroy');\n\t\t\tdelete o.codeTable;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\tvar e = ui.element;\n\t\t\tif(binarySearch(e.val(), ui.options._codeTable) < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/*\n * Data Type 'date'\n *\n * Has calendar popup (bootstrap-datepicker)\n *\n * Attribute Settings:\n * data-minyear (default [-=15]) - Can be set to 'CURRENT'\n * data-maxyear (default [+=2]) - Can be set to 'CURRENT'\n * data-startdate (default 01/01/[minyear]) - trumps minyear if both set. Can be set to 'TODAY'\n * data-enddate (default 12/31/[maxyear]) - trumps maxyear if both set. Can be set to 'TODAY'\n * data-enforce-min (default false) - marks dates <startDate as invalid\n * data-enforce-max (default false) - marks dates >endDate as invalid\n */\n\n/*global util:true, moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\n\n\ttypes.date = {\n\t\tattributes: ['minyear', 'maxyear', 'startdate', 'enddate','enforceMax','enforceMin'],\n\t\tmomentStoreFormat: 'YYYY-MM-DD',\n\n\t\t_dateFormat: 'MM/DD/YYYY', // for output + datepicker\n\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element,\n\t\t\t\ttmp, startDate, endDate;\n\n\t\t\tui.placeholder(self._dateFormat);\n\n\t\t\tself.enforceMin = !!e.data('enforceMin');\n\t\t\tself.enforceMax = !!e.data('enforceMax');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\t// Determine year ends\n\t\t\tvar minYear = new Date().getFullYear() - 15,\n\t\t\t\tmaxYear = new Date().getFullYear() + 2;\n\n\t\t\ttmp = e.data('minyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tminYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tminYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmp = e.data('maxyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tmaxYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tmaxYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.startDate = '01/1/' + minYear;\n\t\t\tself.endDate = '12/31/' + maxYear;\n\n\t\t\t// Determine date ends and save for validation\n\n\t\t\ttmp = e.data('startdate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.startDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.startDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = e.data('enddate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.endDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.endDate = tmp;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\n\t\t\t// Setup datepicker\n\t\t\tvar datePickerOptions = {\n\t\t\t\tstartDate: self.startDate, \n\t\t\t\tendDate: self.endDate,\n\t\t\t\tautoclose: true,\n\t\t\t\tforceParse: false,\n\t\t\t\tformat: 'mm/dd/yyyy',\n\t\t\t\ttodayBtn: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tlanguage: util.lang.code\n\t\t\t};\n\n\t\t\te.datepicker(datePickerOptions);\n\n\t\t\t// Setup inputFilter\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\/]/,\n\t\t\t\tmax : 10,\n\t\t\t\ttoUpper: true\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/*\n\t\t\t * Store date in XSD standard: yyyy-mm-dd, display in dd/mm/yyy \n\t\t\t */\n\t\t\t\n\t\t\t/**\n\t\t\t * yyyy-mm-dd => mm/dd/yyyy\n\t\t\t */\n\t\t\ttoField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(5, 7) + '/' + val.substring(8, 10) + '/' + val.substring(0, 4);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * mm/dd/yyyy (local) => yyyy-mm-dd (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn val.substring(6, 10) + '-' + val.substring(0, 2) + '-' + val.substring(3, 5);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ui) {\n\t\t\tui.element.datepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\tdate = moment(ui.element.val(),self._dateFormat,true);\n\n\n\t\t\tif(!date.isValid() || \n\t\t\t\t(self.enforceMin && date.isBefore(moment(self.startDate, self._dateFormat))) ||\n\t\t\t\t(self.enforceMax && moment(self.endDate, self._dateFormat).isBefore(date))) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'display'\n *\n * Displays data and acts as a read-only inputField\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.display = {\n\t\tsetUp: function (ui) {\n\t\t\tvar e = ui.element;\n\n\t\t\te.parents('.field-item').hide();\n\t\t\te.parents('.field-items').append('<div class=\"input-display\"></div>');\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function (val, ui) {\n\t\t\t\tui.element.parents('.field-items').find('.input-display').html(val);\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn ui.element.parents('.field-items').find('.input-display').html().trim();\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'money'\n *\n * Attribute Settings:\n * data-currency-symbol (default=$) - Can modify currency symbol to any other symbol\n * data-show-symbol (default=true) - Choose whether or not to show currency symbol \n */\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.money = {\n\n\t\tattributes: ['currency-symbol', 'show-symbol', 'max-amount', 'min-amount'],\n\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\tself.element = e;\n\n\t\t\tself.currency = e.data('currency-symbol');\n\t\t\tself.showSymbol = e.data('show-symbol');\n\t\t\tself.max = e.data('max-amount');\n\t\t\tself.min = e.data('min-amount');\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\.]/\n\t\t\t}).change(function () {\n\t\t\t\tself._onChange();\n\t\t\t}).blur(function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t\tif(self.showSymbol === undefined || !!self.showSymbol)\n\t\t\t{\n\t\t\t\tif(!self.currency) {\n\t\t\t\t\tui.addOn(-100, '$');\n\t\t\t\t} else {\n\t\t\t\t\tui.addOn(-100, self.currency);\n\t\t\t\t}\n\t\t\t}\t\n\n\t\t},\n\t\t_onChange: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tcaret = e.caret();\n\n\t\t\te.val(self.format(e.val())).caret(caret.begin, caret.end);\n\t\t},\n\n\t\tformat: function (money) {\n\t\t\tvar self = this; \n\t\t\tif($.trim(money) === ''){\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// MISC-916 removed extra decimals that cause NaN\n\t\t\t\tif(isNaN(money)) {\n\t\t\t\t\tmoney = money.toString();\n\t\t\t\t\tvar count = 0; \n\t\t\t\t\tfor(var i = 0; i < money.length; i++){\n\n\t\t\t\t\t\tif((money[i]) === '.'){\n\t\t\t\t\t\tcount++;}\n\t\t\t\t\t}\n\t\t\t\t\tvar dec = money.indexOf('.');\n\t\t\t\t\tif(dec !== -1) {\n\t\t\t\t\t\tmoney = money.replace(/\\./g,'');\n\t\t\t\t\t\tmoney = money.substring(0,dec) + '.' + money.substring(dec);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tmoney = parseFloat(money);\n\t\t\t\t}\n\t\t\t\treturn (+money).toFixed(2);\n\t\t\t} catch(err) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif($.trim(val) === ''){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn +this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function(ifw){\n\t\t\tvar self = this; \n\n\t\t\tif(self.max || self.min){\n\t\t\t\tvar e = ifw.element,\n\t\t\t\t\tenteredAmount = +ifw.get();\n\n\t\t\t\tif(self.max && enteredAmount > self.max){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'over'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(self.min && enteredAmount < self.min){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'under'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'phone'\n *\n * \n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.phone = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9()\\s\\-x]/\n\t\t\t});\n\n\t\t\te.on('blur', function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tformat: function (text) {\n\n\n\t\t\tif(!text){\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * find extension delimeter\n\t\t\t */\n\t\t\tvar extensionStart = 0,\n\t\t\t\txlocation = text.indexOf('x'),\n\t\t\t\tlastSpace = text.lastIndexOf(' '),\n\t\t\t\text = '',\n\t\t\t\textraExt = '';\n\n\t\t\tif(xlocation > 0){\n\t\t\t\textensionStart = xlocation;\n\t\t\t}else if(lastSpace > 7){\n\t\t\t\textensionStart = lastSpace;\n\t\t\t}\n\n\t\t\tif(extensionStart > 0){\n\t\t\t\text = text.substring(extensionStart + 1);\n\t\t\t\ttext = text.substring(0, extensionStart);\n\t\t\t}\n\n\t\t\tvar num = $.trim(text.replace(/[()\\s\\-]/g, '')),\n\t\t\t\tnumberLength = num.length;\n\n\n\t\t\tif(num[0] === '1'){\n\t\t\t\tnum = num.substring(1);\n\t\t\t\tnumberLength--;\n\t\t\t}\n\n\t\t\tif(numberLength > 10){\n\t\t\t\textraExt = num.substring(10);\n\t\t\t\tnum = num.substring(0, 10);\n\t\t\t\tnumberLength = 10;\n\t\t\t}\n\n\t\t\tif (numberLength === 7) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3);\n\t\t\t} else if (numberLength === 10) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3,6) + '-' + num.substring(6);\n\t\t\t}\n\n\t\t\text = extraExt + ext;\n\n\t\t\tnum = num.replace(/[^0-9^x^-]/g, '');\n\t\t\text = ext.replace(/[^0-9^x^-]/g, '');\n\n\t\t\tif(ext){\n\t\t\t\tnum += 'x' + ext;\n\t\t\t}\n\n\t\t\treturn num;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\t///^([0-9]{3}-)?[0-9]{3}-[0-9]{4}(x[0-9]+)?$/ simple regex\n\t\t\tif(!ui.element.val().match(/^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/)) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\t\n\n})(jQuery);","/**\n * Basic Regex data types\n * \n * Types defined:\n *  - utext\n *  - integer\n *  - number\n *  - state\n *  - feid\n *  - zip\n *  - email\n *\n * Type Creator defined:\n *  - createRegexType(pattern, filter, flags, max)\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\tvar cannedFormatters = {\n\t\ttrim: function(val) {\n\t\t\treturn $.trim(val);\n\t\t}\n\t};\n\n\t/*\n\t * helper function to build basic types\n\t */\n\tvar createRegexType = function(pattern, filter, flags, max) {\n\t\tif(flags === undefined) {\n\t\t\tflags = {};\n\t\t}\n\t\tif(flags.toUpper !== false) {\n\t\t\tflags.toUpper = true;\n\t\t}\n\n\t\tvar type = {\n\t\t\tvalidate: function(ui) {\n\t\t\t\tif(!ui.element.val().match(pattern)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(filter || max) {\n\t\t\ttype.setUp = function(ui) {\n\n\t\t\t\tvar filterData = {\n\t\t\t\t\tpattern: filter || /./,\n\t\t\t\t\ttoUpper: flags.toUpper,\n\t\t\t\t\tmax: max || 0\n\t\t\t\t};\n\n\t\t\t\tif(ui.element.attr('data-max')){\n\t\t\t\t\tfilterData.max = ui.element.attr('data-max');\n\t\t\t\t}\n\n\t\t\t\t//console.log('setup ', ui.element.attr('name'), filterData, max);\n\t\t\t\tui.element.inputFilter(filterData);\n\t\t\t};\n\t\t}\n\n\t\tif(flags.cannedFormatter !== undefined) {\n\t\t\tif($.isFunction(cannedFormatters[flags.cannedFormatter])) {\n\t\t\t\ttype.format = cannedFormatters[flags.cannedFormatter];\n\n\t\t\t\t// add converters\n\t\t\t\ttype.converter = {\n\t\t\t\t\ttoField: function (val, ui) { return type.format(val); },\n\t\t\t\t\tfromField: function (val, ui) { return type.format(val); }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t};\n\t$.add123.inputField.createRegexType = createRegexType;\n\n\n\t/*\n\t * basic types\n\t */\n\t$.extend(types, {\n\t\t'utext': createRegexType(/.*/, /.*/, {\n\t\t\ttoUpper: true\n\t\t}),\n\t\t'integer': createRegexType(/^[0-9]*$/, /[0-9]/),\n\t\t'number': createRegexType(/^-?[0-9]+\\.?[0-9]*$/, /[-0-9.]/),\n\t\t'state': createRegexType(/^[A-Z]{2}$/, /[A-Z]/, {}, 2),\n\t\t'feid': createRegexType(/^[0-9]{2}\\-?[0-9]{7}$/, /[0-9\\-]/, {}, 10),\n\t\t'zip': createRegexType(/(^\\d{5}(\\-?\\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} ?\\d{1}[A-Za]{1}\\d{1})$/, /[0-9A-Z\\s\\-]/, {}, 10),\n\t\t'email': createRegexType(/^(?!.*\\.{2})[A-Za-z0-9._%+\\-]+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,4}$/, /[A-Za-z0-9._%+\\-@]/, {\n\t\t\ttoUpper: false,\n\t\t\tcannedFormatter: 'trim'\n\t\t})\n\t});\n\t\n\n})(jQuery);","/**\n * Datatype 'select'\n * \n */\n\n(function($) {\n\t'use strict';\n\t\n\tvar doc = $(document);\n\t$.add123.inputField.types.select = {\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this, // Object = {}\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\t\t\tself.source = [];\n\t\t\tself.inputWidget = inputWidget;\n\n\t\t\tvar fieldGroup = self.fieldGroup = inputWidget.field.parents('.input-field-group');\n\n\t\t\tif(e.is('select')){\n\t\t\t\tconsole.log('** ERROR: deprecated use of <select> in the select type **');\n\t\t\t}\n\n\t\t\te.css('opacity', 0);\n\n\t\t\t/*\n\t\t\t * width(inputWidget.layers.items.width() - 26).\n\t\t\t */\n\t\t\tvar shim = self.shim = $('<div class=\"shim\" style=\"width:100%;height:100%;position:absolute;top:0;left:0;\"><div style=\"padding:0 25px 0 6px;overflow:hidden;\"><div style=\"overflow:hidden;\"></div></div></div>').insertAfter(e);\n\n\t\t\tinputWidget.field.addClass('select-box');\n\n\t\t\tself.iconClosed = $('<span class=\"tms-icon tms-icon-sort-down dropdown-closed-icon\"></span>').insertAfter(e);\n\t\t\tself.iconOpen = $('<span class=\"tms-icon tms-icon-sort-up dropdown-open-icon\"></span>').insertAfter(e).hide();\n\t\t\t/*\n\t\t\tself.iconClear = $('<span class=\"tms-icon tms-icon-erase clear-icon\"></span>').insertAfter(shim).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tself.clear();\n\t\t\t\te.change();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t*/\n\t\t\tvar panel = self.panel = $('<div class=\"dropdown-panel\"><div class=\"tms-select-dropdown-content\"><div class=\"search\" style=\"position:relative;\"/><div class=\"options\" style=\"position:relative;\"/></div></div>').hide();\n\t\t\tself.options = panel.find('.options');\n\n\t\t\tinputWidget.layers.items.append(panel).css('position', 'relative');\n\n\t\t\tvar selectionClass = self.sectionClass =  'selected';\n\n\t\t\tpanel.on('click', '.option', function () {\n\t\t\t\tself._setSelected();\n\t\t\t}).on('mouseenter', '.option', function () {\n\t\t\t\tpanel.find('.' + selectionClass).removeClass(selectionClass);\n\t\t\t\t$(this).addClass(selectionClass);\n\t\t\t}).on('mouseleave', '.option', function () {\n\t\t\t\t$(this).removeClass(selectionClass);\n\t\t\t});\n\n\t\t\tinputWidget.layers.items.on('click', function (ev) {\n\t\t\t\tif (inputWidget.states.disable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(target.childOf(panel, true)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * stop all enter and esc key events to leave the field\n\t\t\t */\n\t\t\t/*\n\t\t\tinputWidget.field.on('keydown', function (ev) {\n\n\t\t\t\tif(ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself._setSelected();\n\t\t\t\t}\n\n\n\t\t\t\tif(ev.which === 27 || ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.element.focus();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t*/\n\n\t\t\t/*\n\t\t\t * build filter input\n\t\t\t */\n\t\t\tvar filter = self.filter = $('<input type=\"text\" class=\"filter-box\" style=\"width:100%; position:relative; cursor:text;\" />').appendTo(panel.find('.search')).inputField();\n\t\t\tfilter.after('<span class=\"tms-icon tms-icon-search\" style=\"position:absolute;right: 7px;top: 1px; font-size: 15px; cursor: default; pointer-events:none;\"></span>');\n\t\t\tfilter.parents('.field-item').first().addClass('first');\n\n\t\t\tfilter.parent().css('display', 'block').parent().css('display', 'block').parent().css('display', 'block');\n\t\t\tfilter.parent().css('padding-right', '30px');\n\t\t\t/*\n\t\t\t * kill click event, to prevent the inputField from grabbing focus\n\t\t\t */\n\n\t\t\tfilter.on('click', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * down 40\n\t\t\t * up 39\n\t\t\t * left 37\n\t\t\t * right 39\n\t\t\t */\n\n\n\t\t\te.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keyup', $.proxy(self._onKeyup, self));\n\n\t\t\tfilter.on('dirty clean', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\tself.closeListener = function (ev) {\n\t\t\t\tvar which = ev.which;\n\t\t\t\t/*\n\t\t\t\tif(ev.which === 9){\n\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif(which === 27 || which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\tif(which === 13){\n\t\t\t\t\t\tself._setSelected();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!target.childOf(panel, true) && !target.childOf(fieldGroup, true)){\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.update();\n\t\t},\n\n\t\t_keyDownNavigate: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tselectionClass = self.sectionClass,\n\t\t\t\twhich = ev.which;\n\n\t\t\t/*\n\t\t\t * special handling for tab, does not perform any function (keeping for legacy)\n\t\t\t */\n\t\t\tif(which === 9){\n\t\t\t\tself.element.next('input').focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif(which === 27 || which === 13){\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar selected, next;\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 40){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:first').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.next();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 38){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:last').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.prev();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\tif(which < 32 || which > 126){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.open();\n\t\t},\n\n\t\t_onKeyup: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tfilter = self.filter,\n\t\t\t\twhich = ev.which,\n\t\t\t\tval = filter.val();\n\n\t\t\tif(self.filterValue === val){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = val;\n\n\n\t\t\tself._filterOptions();\n\t\t},\n\n\t\t_setSelected: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\t/*\n\t\t\t * use the first value if none of the options are selected\n\t\t\t */\n\t\t\tif(!selected.length){\n\t\t\t\tself._selectFirstNonEmptyOption();\n\t\t\t}\n\n\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\tvar item = self.item = selected.data('item');\n\t\t\t/*\n\t\t\t * TMS-1137\n\t\t\t * if nothing is selected, ignore this call\n\t\t\t */\n\t\t\tif(!item){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._setLabel(self.renderLabel(item));\n\n\t\t\tself.close();\n\t\t\te.val(self.item.value);\n\t\t\te.focus();\n\t\t\te.change();\n\t\t\tself.inputWidget.redraw();\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\t_selectFirstNonEmptyOption: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.find('.option:not(.filtered):visible').each(function () {\n\t\t\t\tvar option = $(this);\n\t\t\t\tif(option.html()){\n\t\t\t\t\toption.addClass('selected');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_set: function (val) {\n\t\t\tvar self = this;\n\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\n\t\t\tself.item = undefined;\n\n\t\t\tself.loaded.done(function () {\n\t\t\t\tself._removeSelection();\n\t\t\t\tvar options = self.panel.find('.option');\n\n\t\t\t\toptions.each(function () {\n\t\t\t\t\tvar item = $(this),\n\t\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\t\tif(self._equal(itemData, val)){\n\t\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\t\tself.item = itemData;\n\t\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!self.item || !self.item.value){\n\t\t\t\t\tif(self.inputWidget._trigger('itemnotfound', null, [val])){\n\t\t\t\t\t\tself._handleItemNotFound();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_removeSelection: function () {\n\t\t\tthis.panel.find('.option.selected').removeClass('selected');\n\t\t},\n\n\t\t_handleItemNotFound: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tself._setDefaultItem();\n\n\t\t\tif(!self.item || !self.item.value){\n\t\t\t\tself._selectFirstItem();\n\t\t\t}\n\t\t},\n\n\t\t_setDefaultItem: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option'),\n\t\t\t\tdefaultValue =  { value: e.attr('data-default')};\n\n\t\t\toptions.each(function () {\n\t\t\t\tvar item = $(this),\n\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\tif(self._equal(itemData, defaultValue)){\n\t\t\t\t\tif(e.attr('name') === 'params.category'){\n\t\t\t\t\t\tconsole.log('found defaultValue', defaultValue, itemData);\n\t\t\t\t\t}\n\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\tself.item = itemData;\n\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_selectFirstItem: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option');\n\n\t\t\tself.item = options.first().addClass('selected').data('item');\n\t\n\t\t\tif(self.item && self.item.label) {\n\t\t\t\tself._setLabel(self.item.label);\n\t\t\t} else {\n\t\t\t\tself._setLabel('');\n\t\t\t}\n\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\tshowHideCommand: function () {\n\t\t\tvar self = this,\n\t\t\t\tshowClass = self.item && self.item.showClass,\n\t\t\t\tsections = self.showHideSections;\n\n\t\t\tif(!sections){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.hide();\n\n\t\t\tif(!showClass){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.filter('.' + showClass).show();\n\t\t},\n\n\t\tclear: function (andSelectNothing) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.item = {};\n\t\t\tself.panel.find('.selected').removeClass('selected');\n\t\t\te.val('');\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\t\t\tself.shim.children().children().text('');\n\n\t\t\tif(!andSelectNothing) {\n\t\t\t\tself._handleItemNotFound();\n\t\t\t}\n\n\t\t\tself.inputWidget.redraw();\n\t\t},\n\n\t\t_equal: function (a, b) {\n\t\t\treturn a && b && a.value === b.value;\n\t\t},\n\n\t\t_setLabel: function (text) {\n\t\t\tthis.shim.children().children().text(text);\n\t\t},\n\n\t\t/*\n\t\t * used for testing\n\t\t */\n\t\t_getLabel: function () {\n\t\t\treturn this.shim.children().children().text();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tvar self = this;\n\t\t\tif(self.panel.is(':visible')){\n\t\t\t\tself.close();\n\t\t\t}else{\n\t\t\t\tself.open();\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * this options was built for testing\n\t\t */\n\t\tgetOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\toptionPanel = self.panel.find('.option'),\n\t\t\t\toptions = [];\n\n\t\t\toptionPanel.each(function () {\n\t\t\t\toptions.push($(this).data('item'));\n\t\t\t});\n\n\t\t\treturn options;\n\t\t},\n\n\t\t_filterOptions: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.addClass('filtering');\n\t\t\tif(self.filterTimer){\n\t\t\t\tclearTimeout(self.filterTimer);\n\t\t\t}\n\t\t\tself.filterTimer = setTimeout(function() {\n\t\t\t\tself.__filterOptionsWork();\n\t\t\t}, 200);\n\t\t},\n\n\t\t__filterOptionsWork: function (optionsElements) {\n\t\t\tvar self = this,\n\t\t\t\tval = self.filterValue;\n\t\t\t/*\n\t\t\tif(val && item.label && item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/\n\n\t\t\tself.panel.addClass('filtering');\n\n\t\t\tif(!optionsElements){\n\t\t\t\toptionsElements = self.panel.find('.option');\n\t\t\t}\n\t\t\t\n\t\t\tif(!optionsElements.length){\n\t\t\t\tself.panel.removeClass('filtering');\n\t\t\t\tself.inputWidget._trigger('filterdone');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar optionsToProcessNow = optionsElements.splice(0,1000);\n\n\t\t\t$.each(optionsToProcessNow, function (i, optionsEl) {\n\t\t\t\tself._filterItem($(optionsEl), val);\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.__filterOptionsWork(optionsElements);\n\t\t\t}, 0);\n\t\t},\n\n\t\t_filterItem: function (optionEl, val) {\n\t\t\tvar self = this,\n\t\t\t\titem = optionEl.data('item');\n\n\t\t\tif(self._itemShoudBeFiltered(item, val)){\n\t\t\t\toptionEl.addClass('filtered');\n\t\t\t}else{\t\t\t\n\t\t\t\toptionEl.removeClass('filtered');\n\t\t\t}\n\t\t},\n\n\t\t_itemShoudBeFiltered: function (item, val) {\n\t\t\tif(!val){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(!item.label){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null;\n\t\t},\n\n\t\t_clearFilter: function () {\n\t\t\tvar self = this;\n\t\t\tself.filter.val('');\n\t\t\tself.panel.find('.option.filtered').removeClass('filtered');\n\t\t},\n\n\t\t_buildEmptyOption: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\temptyLabel = e.data('emptyLabel');\n\n\t\t\tif(emptyLabel !== '' && !emptyLabel){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.source.unshift({\n\t\t\t\tlabel: emptyLabel,\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t},\n\n\t\t_buildOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\toptions = self.options;\n\n\t\t\tself.element.trigger('tmsselectbeforebuild');\n\n\t\t\toptions.empty();\n\n\t\t\tvar optionsbuffer = $('<div/>');\n\n\t\t\tif (!e.data('noSort')) {\n\t\t\t\tself._sort(self.source);\n\t\t\t}\n\n\t\t\tself._buildEmptyOption();\n\n\t\t\t$.each(self.source, function (i, item) {\n\t\t\t\t\n\t\t\t\tvar option = $('<div class=\"option\"/>'),\n\t\t\t\t\trenderedItem = self.renderItem(item);\n\n\t\t\t\tif(renderedItem !== null){\n\t\t\t\t\toption.append(renderedItem).data('item', item);\n\t\t\t\t\toptionsbuffer.append(option);\n\t\t\t\t}\n\n\t\t\t\tif(renderedItem === ''){\n\t\t\t\t\toption.height(20);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.append(optionsbuffer);\n\t\t\tself.element.trigger('tmsselectafterbuild', [options]);\n\t\t},\n\n\t\t_sort: function (items) {\n\t\t\titems.sort(function (a, b) {\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar al = a.label.toLowerCase(), bl = b.label.toLowerCase();\n\t\t\t\treturn al > bl ? 1 : al < bl ? -1 : a.label > b.label ? 1 : a.label < b.label ? -1 : 0;\n\t\t\t});\n\t\t},\n\n\t\t_scroll: function () {\n\t\t\tvar self = this,\n\t\t\t\toptions = self.options;\n\n\t\t\tif(!self.panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar selected = self.panel.find('.selected');\n\n\t\t\t\tif(selected.length === 0){\n\t\t\t\t\toptions.scrollTop(0);\n\t\t\t\t}else{\n\t\t\t\t\toptions.scrollTop(selected.position().top - selected.before().outerHeight());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}, 0);\n\n\n\t\t\t/*\n\t\t\tsetTimeout(function() {\n\t\t\t\tpanel.find('.options').scrollTop(0);\n\t\t\t}, 0);\n\t\t\t*/\n\t\t},\n\n\t\topen: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tinputLayer = self.inputWidget.layers.input,\n\t\t\t\titemsLayer = self.inputWidget.layers.items;\n\n\n\t\t\tif(panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = '';\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tvar leftOffset = 0;\n\t\t\tif(inputLayer.index()){\n\t\t\t\tleftOffset = inputLayer.position().left - 1;\n\t\t\t}\n\n\t\t\tpanel.width(e.width()).css({\n\t\t\t\tleft: leftOffset,\n\t\t\t\ttop: (itemsLayer.height() - 1) + 'px',\n\t\t\t\twidth: (e.outerWidth() ) + 'px'\n\t\t\t}).hide();\n\n\t\t\tself.iconClosed.hide();\n\t\t\tself.iconOpen.show();\n\t\t\tpanel.show();\n\t\t\tself.filter.focus();\n\t\t\t//self.filter.hide();\n\n\t\t\tself._scroll();\n\t\t},\n\n\t\trenderLabel: function (item) {\n\t\t\treturn (item && item.label) || '';\n\t\t},\n\n\t\trenderItem: function (item) {\n\t\t\treturn item.label;\n\t\t},\n\n\t\tclose: function () {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tfilter = self.filter;\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tpanel.hide();\n\n\t\t\tself._clearFilter();\n\n\t\t\tself.iconClosed.show();\n\t\t\tself.iconOpen.hide();\n\t\t},\n\n\t\tupdate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\t// Clear any selected option \n\t\t\tself.clear(true);\n\n\t\t\t// Setup the new options \n\t\t\tself.loaded = $.Deferred();\n\t\t\tself.load().done(function (source) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = [];\n\t\t\t\t}\n\t\t\t\tself.source = source;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.removeInvalid();\n\t\t\t\t}, 0);\n\n\t\t\t\tself._buildOptions();\n\n\t\t\t\t/*\n\t\t\t\t * hide the filter if less then five items are returned\n\t\t\t\t */\n\t\t\t\tif (self.filter && self.filter.data('inputField')) {\n\t\t\t\t\tif(source.length < 5){\n\t\t\t\t\t\tself.filter.inputField('hide');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.filter.inputField('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * scan for showClass commands\n\t\t\t\t */\n\t\t\t\tvar form, sections = $([]);\n\n\t\t\t\t$.each(source, function (i, item) {\n\t\t\t\t\tif(item.showClass){\n\t\t\t\t\t\tif(!form){\n\t\t\t\t\t\t\tform = e.parents(':add123-formBuilder').first();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsections = sections.add(form.find('.' + item.showClass));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.showHideSections = sections;\n\t\t\t\tself.loaded.resolve();\n\t\t\t\tself.showHideCommand();\n\t\t\t});\n\t\t\treturn self.loaded;\n\t\t},\n\n\t\tremoveInvalid: function (ev, ui) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element, \n\t\t\t\tval = e.val(),\n\t\t\t\tsource = self.source, \n\t\t\t\tl = source.length, \n\t\t\t\ti; \n\n\t\t\t/*\n\t\t\t * if ui.item is set, the autocomplete just set this\n\t\t\t * and it does not need to be checked\n\t\t\t */\n\t\t\tif(ui && ui.item){\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t/*\n\t\t\t * verify that the current self.item matches an id in the source and that the label matches\n\t\t\t */\n\t\t\tfor(i = 0; i < l; i++){\n\t\t\t\tif(source[i].label === val && self.item && self.item.value === source[i].value){\n\t\t\t\t\tself.item = source[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.val('');\n\t\t},\n\n\t\tsetOptions: function(options) {\n\t\t\tvar self = this;\n\n\t\t\tself.optionsMap = options;\n\t\t\tself.optionsSetDynamically = true;\n\t\t\tself.update();\n\t\t},\n\t\t/*\n\t\t * returns a sorted array of objects that have value and label properties\n\t\t */\n\t\tload: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tsource = [],\n\t\t\t\tdataOptions;\n\n\t\t\tif(self.optionsSetDynamically) {\n\t\t\t\t// Options already loaded from setOptions\n\t\t\t\tself.optionsSetDynamically = false;\n\t\t\t\treturn $.when(self.optionsMap);\n\t\t\t}\n\n\t\t\t// Load options from DOM\n\t\t\tdataOptions = e.attr('data-options');\n\n\t\t\tif(dataOptions) {\n\t\t\t\tsource = $.parseJSON(dataOptions);\n\t\t\t} else {\n\t\t\t\te.find('option').each(function () {\n\t\t\t\t\tvar option = $(this);\n\t\t\t\t\tsource.push({\n\t\t\t\t\t\tlabel: option.text(),\n\t\t\t\t\t\tvalue: option.val()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $.when(source); // returns a promise object\n\t\t},\n\n\t\tmap: function (raw) {\n\t\t\treturn {\n\t\t\t\tlabel: raw,\n\t\t\t\tvalue: raw\n\t\t\t};\n\t\t},\n\n\t\tdeMap: function (obj) {\n\t\t\tif(!obj){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj.value || null;\n\t\t},\n\n\t\tisEmpty: function () {\n\t\t\tvar self = this,\n\t\t\t\tdata = self.deMap(self.item);\n\n\t\t\treturn data !== 0 && !data;\n\t\t},\n\n\t\tconverter: {\n\n\t\t\tfromField: function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdata = self.item;\n\t\t\t\tif(data === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar val = self.deMap(data);\n\n\t\t\t\tif(val === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\ttoField: function (rawdata) {\n\t\t\t\tvar self = this,\n\t\t\t\t\te = self.element,\n\t\t\t\t\tdata = self.map(rawdata);\n\n\t\t\t\tif(!rawdata && typeof e.data('default') !== 'undefined') {\n\t\t\t\t\tdata = self.map(e.data('default'));\n\t\t\t\t}\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._set(data);\n\n\t\t\t\tif (!self.item) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn self.item.label;\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'text'\n *\n * This is the default type and has no special features.\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\t\n\n})(jQuery);","/**\n * Data Type 'time'\n *\n * Has a dropdown with shortcuts.\n *\n * Attribute Settings:\n * data-step (default=30) - Minute increment between times in dropdown\n * data-military - Converts time into 24-hour\n * data-store-utc (default true) - keeps set/get in utc time zone format, rather than local.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.time = {\n\t\tattributes: ['step', 'military','storeUtc'],\n\t\tmomentStoreFormat: 'HH:mm',\n\n\t\t_regex: /^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,\n\t\t_regex2400: /^(([01]?[0-9])|(2[0-3])):[0-5][0-9]$/,\n\n\t\tsetUp: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element;\n\n\t\t\tself.military = !!e.data('military');\n\t\t\tself.step = e.data('step');\n\t\t\tself.storeUtc = e.data('storeUtc');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tif(!self.military)\n\t\t\t{\n\t\t\t\tifw.placeholder('H:MMam/pm');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:apm]/,\n\t\t\t\t\tmax: 7\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tifw.placeholder('HH:MM');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:]/,\n\t\t\t\t\tmax: 5\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\n\t\t\te.timepicker({\n\t\t\t\tappendTo: ifw.getField(),\n\t\t\t\tselectOnBlur: false,\n\t\t\t\tstep: self.step, //default is 30 and will be set if undefined\n\t\t\t\ttimeFormat: self.military?'H:i':'g:ia'\n\t\t\t});\n\n\t\t\t// Make sure the timepicker width matches the field width\n\t\t\te.on('showTimepicker', function(){\n\t\t\t\tvar newWidth = e.outerWidth();\n\t\t\t\tif(newWidth < 80) {\n\t\t\t\t\tnewWidth = 80;\n\t\t\t\t}\n\t\t\t\tifw.getField().children('.ui-timepicker-wrapper').width(newWidth);\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * convert from moment format HH:mm (utc) to h:mma (local)\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}:[0-9]{2}$/)){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\ttime = moment.utc(val, self.momentStoreFormat, true);\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert utc back to local for display\n\t\t\t\t\ttime.local();\n\t\t\t\t}\n\n\t\t\t\treturn time.format(self.military? 'H:mm' : 'h:mma');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * convert from moment format h:mma (local) to HH:mm (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\t\t\t\t\n\t\t\t\tif(!val || !val.match(self.military? self._regex2400 : self._regex)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\n\t\t\t\ttime = moment(val, self.military? 'H:mm' : 'h:mma');\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert to utc for storage\n\t\t\t\t\ttime.utc();\n\t\t\t\t}\n\n\t\t\t\t// Return in 24hr format\n\t\t\t\treturn time.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tifw.element.timepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tinvalidMessage = {message: 'invalid'},\n\t\t\t\tvalid;\n\n\t\t\tvalid = self.military? val.match(self._regex2400) : val.match(self._regex);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn invalidMessage;\n\t\t\t}\n\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data Type 'tmsQuantityUnit'\n * \n * For general unit input with some autocompletes\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\tvar units = ['MI', 'KM', 'HR', 'MIN', 'DAYS', 'PKGS'];\n\ttypes.tmsQuantityUnit = {\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\to = ui.options,\n\t\t\t\te = ui.element;\n\n\t\t\tself.e = e;\n\n\t\t\te.inputFilter({\n\t\t\t\ttoUpper: true,\n\t\t\t\tpattern: /./\n\t\t\t});\n\n\t\t\te.autocomplete({\n\t\t\t\tminLength: 0,\n\t\t\t\tautoFocus: false,\n\t\t\t\tappendTo: ui.getField(),\n\t\t\t\tposition: {\n\t\t\t\t\tmy: \"left top+6\", // may be theme dependent\n\t\t\t\t\tat: \"left bottom\",\n\t\t\t\t\tof: e,\n\t\t\t\t\tcollision: \"none\"\n\t\t\t\t},\n\n\t\t\t\tsource: units\n\t\t\t});\n\t\t}\n\t};\n\t\n})(jQuery);\n"],"sourceRoot":"/source/"}
=======
{"version":3,"sources":["_english.en.js","_spanish.es.js","spin.js","util.js","caret.js","dateRangePicker.js","formBuilder.js","inputField.js","inputFilter.js","popOver.js","submitButton.js","tms-arrayField.js","tms-textSubmitter.js","tier0/code.js","tier0/date.js","tier0/display.js","tier0/money.js","tier0/phone.js","tier0/regexTypes.js","tier0/select.js","tier0/text.js","tier0/time.js","tier0/tmsQuantityUnit.js","tier1/dateTime.js","tier1/phone.tmsPhone.js","tier1/select-generators.js","tier1/utext.tmsFullname.js"],"names":["$","lang","code","window","util","locales","extend","remove","mobile","home","work","fax","yes","no","from","to","custom","day","week","month","year","jQuery","fn","datepicker","dates","es","days","daysShort","daysMin","months","monthsShort","today","clear","rtl","widget","options","lines","length","width","radius","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","top","left","_spinner","undefined","_create","self","this","Spinner","_init","start","spin","element","stop","_destroy","console","log","dir","timeStamp","time","timeEnd","Object","create","o","F","prototype","setLanguage","dict","selectPath","namespace","domKey","i","a","toString","split","key","match","parseInt","isArray","insertPath","obj","type","origRef","types","k","v","push","deletePath","childOf","b","includeSelf","p","parents","isEmpty","equals","hasOwnProperty","removeEqual","ignoreDiffKeys","removeTmp","inArray","caret","begin","end","range","input","is","l","val","setSelectionRange","selectionStart","selectionEnd","document","selection","createRange","duplicate","moveStart","text","focus","value","scrollLeft","err","createTextRange","collapse","moveEnd","select","_dateRangePickerTemplate","e","form","html","find","formBuilder","append","fromDate","on","toDate","button","_moveRange","setRange","number","unit","inputField","deserialize","add","moment","endOf","_setFromAndTo","startOf","serialize","momentDate","format","sDate","get","set","data","test","isDirty","clearDirty","validate","converter","fromForm","toForm","ignoreHidden","baseData","defaultRequired","fieldsWidgets","fields","scanForNewFields","dirty","ev","stopPropagation","show","each","el","attr","Error","has","label","addClass","wrap","before","not","newInput","require","_proxyCommandToWidget","widgetElement","widgetName","instance","method","Array","splice","call","arguments","args","slice","apply","flashDirty","numberOfTimes","flashError","filter","error","disable","enable","formData","_readDataFromDom","isFunction","conflicts","ignoreKeys","_convertFormData","aData","bData","conflict","concat","setOptions","_trigger","_writeDataToDom","values","valid","getFields","repeat","delay","count","idx","setTimeout","statusNames","loadDomData","aKey","flash","placeholder","min","max","empty","tooltip","tooltipContent","next","field","layers","items","setLabel","appendTo","trim","removeAttr","preinput","addOn","postinput","suffix","setSuffix","prefix","setPrefix","addon","popOver","target","onShow","onHide","removeClass","one","autoValidate","states","updateStatus","status","blur","_onBlur","change","_onKeyup","suffixShim","_onKeydown","mouseenter","mouseleave","setType","prevValue","setMax","prependTo","t","inputFilter","toUpper","pattern","_showLayer","checkDirty","redraw","cleanCheckTimer","clearTimeout","prev","isEmptyObject","trigger","weight","pre","found","children","hasClass","eWeight","insertBefore","s","hide","vOld","vNew","vDirty","autoClean","hasStatus","_formatToField","f","_clean","_formatFromField","skipRequired","setError","message","clearError","flashTimer","toField","fromField","hasVal","showError","showNotice","showPlaceholder","css","paddingLeft","startPaddingLeft","startInputWidth","prefixPaddingAdded","replace","isNaN","outerWidth","paddingRight","startPaddingRight","suffixPaddingAdded","valWidth","maxWidth","layer","ph","parseFloat","sType","add123","tearDown","setUp","getType","displayValue","getField","isDisabled","statusName","bool","fireEvents","cleanBool","height","outerHeight","memory","nativeChange","proxy","_onKeyDown","_onKeyPress","_onPaste","setPattern","regex","which","ctrlKey","_type","String","fromCharCode","c","tmp","keytypedEvent","keyignoredEvent","toUpperCase","activeElement","substring","off","doc","win","showing","detach","content","clone","title","onClick","delegateTarget","onResize","position","setAppendTo","titleElement","toggle","fadeIn","my","at","collision","of","disabled","waiting","preventDefault","enterKeyListenerProvider","first","onKeyDown","keyCode","submit","_showLoading","h","getButtonLabel","spinner","_hideLoading","destroyed","bOptions","icons","listenerProvider","listener","arrayFieldId","nextArrayFieldId","_arrayFieldTemplate","_arrayFieldItemTemplate","subField","id","itemsContent","_handleAddButtonClick","_onDirty","sortable","axis","handle","containment","tolerance","_checkDirty","_onClean","getId","addItem","curData","newData","getFieldInstances","subWidget","_empty","item","drawItem","index","itemEl","eq","itemView","_drawWidgetItem","_drawInternalMarkupItem","subFieldMarkup","parent","_textSubmitterTemplate","sendInstruction","rows","ignoreEmptySubmit","container","textEntry","statusUpdate","shiftKey","_submit","onComplete","success","setInstruction","binarySearch","needle","haystack","mid","high","low","toLowerCase","codeListFilter","codeTable","request","response","term","matcher","RegExp","ui","autocomplete","escapeRegex","matches","grep","codeTableName","_codeTable","source","date","attributes","momentStoreFormat","_dateFormat","enforceMin","enforceMax","storeUtc","minYear","Date","getFullYear","maxYear","startDate","endDate","datePickerOptions","autoclose","forceParse","todayBtn","todayHighlight","language","isValid","isBefore","display","money","currency","showSymbol","_onChange","dec","indexOf","toFixed","ifw","enteredAmount","phone","extensionStart","xlocation","lastSpace","lastIndexOf","ext","extraExt","num","numberLength","cannedFormatters","createRegexType","flags","filterData","cannedFormatter","utext","integer","state","feid","zip","email","inputWidget","fieldGroup","shim","insertAfter","iconClosed","iconOpen","panel","selectionClass","sectionClass","_setSelected","after","_keyDownNavigate","closeListener","close","update","selected","_scroll","open","filterValue","_filterOptions","_selectFirstNonEmptyOption","_setLabel","renderLabel","showHideCommand","_removeSelection","option","_set","loaded","done","itemData","_equal","_handleItemNotFound","_setDefaultItem","_selectFirstItem","defaultValue","showClass","sections","showHideSections","andSelectNothing","_getLabel","getOptions","optionPanel","filterTimer","__filterOptionsWork","optionsElements","optionsToProcessNow","optionsEl","_filterItem","optionEl","_itemShoudBeFiltered","_clearFilter","_buildEmptyOption","emptyLabel","unshift","_buildOptions","optionsbuffer","_sort","renderedItem","renderItem","sort","al","bl","scrollTop","inputLayer","itemsLayer","leftOffset","Deferred","load","removeInvalid","resolve","optionsMap","optionsSetDynamically","dataOptions","when","parseJSON","map","raw","deMap","rawdata","_regex","_regex2400","military","step","timepicker","selectOnBlur","timeFormat","newWidth","utc","local","invalidMessage","units","tmsQuantityUnit","minLength","autoFocus","dateTime","inputFieldWidgetInstance","_setUpFields","_refreshFieldWidth","_setUpCleanDirtyEvents","fieldItems","dateWidget","timeWidget","timeWidgetInstance","dateWidgetInstance","timeWidthRatio","minWidth","fullWidth","elDate","elTime","splitDate","_splitDateAndTime","localDate","isDST","subtract","_joinDateAndTimeMoments","dateTimeString","result","localDateMoment","localTimeMoment","utcOffset","second","minute","hour","tmsPhone","_phoneTypeTemplate","desc","icon","_setupMenu","toggleMenu","menu","menuBuilt","control","destroy","Widget","arraySelectCreator","array","d","booleanSelectCreator","trueString","falseString","years","tmsExpYear","tmsYesNo","tmsFullname","countH","countA"],"mappings":"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","file":"jquery.formBuilder.min.js","sourcesContent":["/**\n * Localization support\n *\n * Language: English\n * Code: 'en'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'en',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Remove',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mobile',\n\t\thome: 'Home',\n\t\twork: 'Work',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'Yes',\n\t\tno: 'No',\n\n\t\t// dateRangePicker\n\t\tfrom :'From',\n\t\tto : 'To',\n\t\tcustom :'Custom',\n\t\tday : 'Day',\n\t\tweek:'Week',\n\t\tmonth :'Month',\n\t\tyear :'Year'\n\t});\n\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker (default english included)\n\t\n\n})(jQuery);","/**\n * Localization support\n *\n * Language: Spanish\n * Code: 'es'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'es',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Quitar',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mvil',\n\t\thome: 'Casa',\n\t\twork: 'Trabajo',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'S',\n\t\tno: 'No'\n\t});\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker\n\t$.fn.datepicker.dates.es = {\n\t\tdays: ['Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves', 'Viernes', 'S&aacute;bado'],\n\t\tdaysShort: ['Dom', 'Lun', 'Mar', 'Mi&eacute;', 'Juv', 'Vie', 'S&aacute;b'],\n\t\tdaysMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'S&aacute;'],\n\t\tmonths: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n\t\tmonthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\n\t\ttoday: \"Hoy\",\n\t\tclear: \"Borre\",\n\t\trtl: false\n\t};\n\n})(jQuery);","/**\n * jQuery UI Widget support for spin.js\n *\n * http://fgnass.github.com/spin.js/\n */\n\n/*global Spinner:true */\n(function($){\n\t'use strict';\n\n\t$.widget('add123.spin', {\n\n\t\toptions: {\n\t\t\tlines: 10,\n\t\t\t// The number of lines to draw\n\t\t\tlength: 4,\n\t\t\t// The length of each line\n\t\t\twidth: 2,\n\t\t\t// The line thickness\n\t\t\tradius: 3,\n\t\t\t// The radius of the inner circle\n\t\t\trotate: 0,\n\t\t\t// The rotation offset\n\t\t\tcolor: '#000',\n\t\t\t// #rgb or #rrggbb\n\t\t\tspeed: 1.5,\n\t\t\t// Rounds per second\n\t\t\ttrail: 60,\n\t\t\t// Afterglow percentage\n\t\t\tshadow: false,\n\t\t\t// Whether to render a shadow\n\t\t\thwaccel: false,\n\t\t\t// Whether to use hardware acceleration\n\t\t\tclassName: 'spinner',\n\t\t\t// The CSS class to assign to the spinner\n\t\t\tzIndex: 0,\n\t\t\t// The z-index (defaults to 2000000000)\n\t\t\ttop: '0',\n\t\t\t// Top position relative to parent in px\n\t\t\tleft: '0' // Left position relative to parent in px\n\t\t},\n\n\t\t_spinner: undefined,\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tself._spinner = new Spinner(self.options);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tthis.start();\n\t\t},\n\n\t\tstart: function() {\n\t\t\tthis._spinner.spin(this.element[0]);\n\t\t},\n\n\t\tstop: function() {\n\t\t\tthis._spinner.stop();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.stop();\n\t\t\tdelete self._spinner;\n\t\t}\n\t});\n\n})(jQuery);\n","/*\n * A subset of the ADD Utility library. \n *\n * It only declares objects/functions when they do not already exist\n */\n\n/*global util:true */\n\n\n\n(function($) {\n\t\"use strict\";\n\n\tif(typeof(window.util) === 'undefined') {\n\t\twindow.util = {};\n\t}\n\n\t/*\n\t * If console is not defined build a mock console to avoid script errors in production\n\t */\n\tif(typeof(window.console) === 'undefined') {\n\t\twindow.console = {\n\t\t\tlog: function() {},\n\t\t\tdir: function() {},\n\t\t\ttimeStamp: function () {},\n\t\t\ttime: function () {},\n\t\t\ttimeEnd: function () {}\n\t\t};\n\t}\n\n\tif(typeof(console.timeStamp) === 'undefined'){\n\t\tconsole.timeStamp = function () {};\n\t}\n\tif(typeof(console.time) === 'undefined'){\n\t\tconsole.time = function () {};\n\t}\n\tif(typeof(console.timeEnd) === 'undefined'){\n\t\tconsole.timeEnd = function () {};\n\t}\n\n\n\t/*\n\t * Object create polyfill\n\t */\n\tif(typeof(Object.create) === 'undefined') {\n\t\tObject.create = function(o) {\n\t\t\tfunction F() {}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t}\n\n\n\n\t/**\n\t * Language Support Setup\n\t */\n\t\n\tif(typeof(util.lang) === 'undefined') {\n\t\tutil.lang = {};\n\t}\n\n\t// TODO: Make this actually change everything in the code\n\tif(typeof(util.lang.setLanguage) === 'undefined') {\n\t\tutil.lang.setLanguage = function(code) {\n\t\t\tvar lang = util.lang;\n\n\t\t\tif(!code || !lang.locales[code]) {\n\t\t\t\t// Default to english\n\t\t\t\tcode = 'en';\n\t\t\t}\n\n\t\t\tif(!lang.dict) {\n\t\t\t\t// Initialize the dictonary\n\t\t\t\tlang.dict = {};\n\t\t\t} \n\n\t\t\t// Override and/or add the words into the dictionary\n\t\t\t$.extend(true, lang.dict, lang.locales[code]);\n\n\t\t\t// Update the language code\n\t\t\tlang.code = code;\n\t\t};\n\t}\n\n\t// Set language (english by default)\n\tutil.lang.setLanguage();\n\n\t/*\n\t * Retrieve from a namespace given the dot-notated key\n\t *\n\t * Since the form has a flat structure and therefore has prefixes to avoid naming conflicts, we need a way to map\n\t * the prefixed DOM Keys to the hierarchical data maps. Keys that are not found will be saved in the extraKeys object\n\t * in the correct hierarchical order\n\t *\n\t * DOM -> Data Examples: given dealFile = efsResponse['efs']['deal-file']\n\t *\n\t * basic:\n\t *   'deal.acquired-date' -> dealFile['deal']['acquired-date']\n\t *   'purchase-vehicle.data.vin' -> dealFile['purchase-vehicle']['data']['vin']\n\t *\n\t * arrays:\n\t *   'customer.0.first-name' -> dealFile['customer'][0]['first-name']\n\t *\n\t */\n\n\tif(typeof(util.selectPath) === 'undefined') {\n\t\tutil.selectPath = function(namespace, domKey) {\n\t\t\t\n\t\t\tif(namespace === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(domKey === undefined || domKey === ''){\n\t\t\t\treturn namespace;\n\t\t\t}\n\n\t\t\tvar i, a = domKey.toString().split('.');\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tvar key = a[i];\n\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\t\t\t\t\t/*\n\t\t\t\t\t * treat this as an array index\n\t\t\t\t\t */\n\t\t\t\t\tkey = parseInt(key, 10);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * arrays with index might be pulled out of the array, so check if we can find the correct mapping without the array\n\t\t\t\t */\n\t\t\t\tif(key === 0 && !$.isArray(namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(namespace === undefined || namespace === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\tif(i === a.length - 1 || namespace === undefined) {\n\t\t\t\t\treturn namespace;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}\n\n\t/*\n\t * Given and namespace object and a dot-notated key, save the given object to\n\t * the proper path in the namespace\n\t *\n\t */\n\tif(typeof(util.insertPath) === 'undefined') {\n\t\tutil.insertPath = function(namespace, domKey, obj) {\n\t\t\tvar i, a = domKey.split('.'),\n\t\t\t\torigRef = namespace;\n\t\t\tvar types = [],\n\t\t\t\tkey, type;\n\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tkey = a[i];\n\n\t\t\t\tif(i === a.length - 1) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * clean this logic up, use this test case : https://secure.add123.com/apps/web/res/js/_test/qunit.html\n\t\t\t\t\t */\n\t\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\t\tv: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: key,\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\tv: []\n\t\t\t\t\t};\n\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: key,\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i = 0; i < types.length; i += 1) {\n\t\t\t\ttype = types[i];\n\t\t\t\tkey = type.k;\n\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t} else {\n\n\t\t\t\t\tif(typeof namespace[key] === 'undefined') {\n\t\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t\t}\n\n\t\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn origRef;\n\n\t\t};\n\t}\n\n\t/*\n\t * var ns = {test: {foo: 1, bar: 2, baz: 3}};\n\t * deletePath(ns, 'test.foo');\n\t * console.log(ns);\n\t *\n\t * TODO: make this work for arrays\n\t */\n\tif(typeof(util.deletePath) === 'undefined') {\n\t\tutil.deletePath = function(namespace, domKey) {\n\t\t\tvar a = domKey.split('.'),\n\t\t\t\ti;\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tdelete namespace[a[i]];\n\t\t\t\t} else {\n\t\t\t\t\tif(typeof namespace[a[i]] === \"undefined\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnamespace = namespace[a[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/*\n\t * parameter can be a jQuery object or HTML element object\n\t */\n\tif(typeof($.fn.childOf) === 'undefined') {\n\t\t$.fn.childOf = function(b, includeSelf) {\n\t\t\tvar i;\n\n\t\t\tif(b instanceof jQuery) {\n\t\t\t\tb = b[0];\n\t\t\t}\n\n\t\t\tif(includeSelf && b === this[0]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar p = this.parents();\n\t\t\tfor(i = 0; i < p.length; i++) {\n\t\t\t\tif(b === p[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tif(typeof(window.isEmpty) === 'undefined') {\n\t\twindow.isEmpty = function isEmpty(a) {\n\t\t\tif(a === 0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !a;\n\t\t};\n\t}\n\n\tif(typeof(util.equals) === 'undefined') {\n\t\tutil.equals = function(a, b) {\n\t\t\tvar p;\n\n\t\t\tif(a === b){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) && window.isEmpty(b)){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) || window.isEmpty(b)){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(p in b) {\n\t\t\t\t\tif(b.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tif(typeof(b) === 'undefined' || (a.toString() !== b.toString())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(a.toString() !== b.toString()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tif(typeof(util.removeEqual) === 'undefined') {\n\t\tutil.removeEqual = function (a, b, ignoreDiffKeys) {\n\t\t\tvar p, remove, removeTmp;\n\n\t\t\tif(!ignoreDiffKeys){\n\t\t\t\tignoreDiffKeys = [];\n\t\t\t}\n\n\t\t\tif(a === undefined || b === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tremove = true;\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($.inArray(p, ignoreDiffKeys) > -1){\n\t\t\t\t\t\t\tremoveTmp = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tremoveTmp = util.removeEqual(a[p], b[p]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(removeTmp){\n\t\t\t\t\t\t\tdelete a[p];\n\t\t\t\t\t\t\tdelete b[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremove = remove && removeTmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remove;\n\t\t\tdefault:\n\t\t\t\treturn a.toString() === b.toString();\n\t\t\t}\n\t\t};\n\t}\n})(jQuery);\n","/**\n * caret plugin\n */\n\n(function($){\n\t'use strict';\n\t\n\t/*\n\t * This plugin only operates on the first element of the working set\n\t */\n\t$.fn.caret = function(begin, end) {\n\n\t\tif(this.length === 0) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar input = this[0],\n\t\t\trange;\n\n\t\tif(typeof begin === 'number') {\n\t\t\t/*\n\t\t\t * setter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\t\tinput.focus();\n\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * chrome hack\n\t\t\t\t * TMS-2049\n\t\t\t\t * Still need a better way to do this, chrome fails to set the scrolLeft\n\t\t\t\t * whem the cursor moves, still will only work it they are at the end of the text\n\t\t\t\t */\n\t\t\t\ttry{\n\t\t\t\t\tif(end === input.value.length){\n\t\t\t\t\t\tinput.scrollLeft = 9999999999;\n\t\t\t\t\t}\n\t\t\t\t}catch(err){}\n\t\t\t} else if(input.createTextRange) {\n\t\t\t\trange = input.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', begin);\n\t\t\t\trange.select();\n\t\t\t}\n\n\n\t\t} else {\n\t\t\t/*\n\t\t\t * getter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\tvar l = $(input).val().length;\n\t\t\t\treturn {\n\t\t\t\t\tbegin: l,\n\t\t\t\t\tend: l\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\tbegin = input.selectionStart;\n\t\t\t\tend = input.selectionEnd;\n\t\t\t} else if(document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = -range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbegin: begin,\n\t\t\t\tend: end\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t};\n})(jQuery);","\n/*global util:true, moment:true */\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.dateRangePicker\", {\n\t\t_dateRangePickerTemplate:\n\t\t\t'<div class=\"date-range-picker form\">'+\n\t\t\t\t'<input type=\"text\" name=\"from\" data-type=\"date\" data-label=\"'+util.lang.dict.from+'\"/>' +\n\t\t\t\t'<input type=\"text\" name=\"to\" data-type=\"date\" data-label=\"'+util.lang.dict.to+'\"/>' +\n\t\t\t\t\n\t\t\t\t'<button type=\"button\" class=\"previous-range\">&lt;&lt;</button>' +\n\t\t\t\t\n\t\t\t\t'<div class=\"input-field-group range-select\">' +\n\t\t\t\t\t'<select name=\"range\" style=\"width: 138px;\">' +\n\t\t\t\t\t\t'<option value=\"custom\">'+util.lang.dict.custom+'</option>' +\n\t\t\t\t\t\t'<option value=\"day\">'+util.lang.dict.day+'</option>' +\n\t\t\t\t\t\t'<option value=\"week\">'+util.lang.dict.week+'</option>' +\n\t\t\t\t\t\t'<option value=\"month\">'+util.lang.dict.month+'</option>' +\n\t\t\t\t\t\t'<option value=\"year\">'+util.lang.dict.year+'</option>' +\n\t\t\t\t\t'</select>' +\n\t\t\t\t'</div>'+\n\n\t\t\t\t'<button type=\"button\" class=\"next-range\">&gt;&gt;</button>' +\n\t\t\t'</div>',\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tvar form = self.form = $('<div></div>').html(self._dateRangePickerTemplate).find('.date-range-picker').formBuilder();\n\n\t\t\te.append(form);\n\n\t\t\tself.fromDate = form.find('input[name=\"from\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tself.toDate = form.find('input[name=\"to\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tform.find('button.previous-range').button().on('click', function () {\n\t\t\t\tself._moveRange(-1, $(self.range).val());\n\t\t\t});\n\n\t\t\tform.find('button.next-range').button().on('click', function () {\n\t\t\t\tself._moveRange(1, $(self.range).val());\n\t\t\t});\n\n\t\t\tself.range = form.find('select[name=\"range\"]').on('change', function () {\n\t\t\t\tself.setRange($(this).val());\n\t\t\t});\n\t\t},\n\n\t\t_moveRange: function (number, unit) {\n\t\t\tvar self = this,\n\t\t\t\tfromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate || unit === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = self.deserialize(fromDate);\n\n\t\t\t// console.log(fromDate);\n\n\t\t\tvar begin = fromDate.add(number, unit);\n\t\t\tvar end = moment(begin).endOf(unit);\n\n\t\t\t// console.log(begin);\n\n\t\t\tself._setFromAndTo(begin, end);\n\t\t},\n\n\t\tsetRange: function (range) {\n\t\t\tvar self = this;\n\t\t\tif (range === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate) {\n\t\t\t\tfromDate = moment();\n\t\t\t}\n\n\t\t\tif (typeof fromDate === 'string') {\n\t\t\t\tfromDate = self.deserialize(fromDate);\t\n\t\t\t}\n\n\t\t\tvar from = fromDate.startOf(range);\n\t\t\tvar to = moment(from).endOf(range);\n\n\t\t\tself._setFromAndTo(from, to);\n\t\t},\n\t\t\n\t\t_setFromAndTo: function (from, to) {\n\t\t\tvar self = this;\n\n\t\t\tif (typeof from !== 'string') {\n\t\t\t\tfrom = self.serialize(from);\n\t\t\t}\n\t\t\tif (typeof to !== 'string') {\n\t\t\t\tto = self.serialize(to);\n\t\t\t}\n\n\t\t\tself.fromDate.inputField('set', from);\n\t\t\tself.toDate.inputField('set', to);\n\t\t},\n\n\t\tserialize: function (momentDate) {\t\n\t\t\tif (!momentDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn momentDate.format('YYYY-MM-DD');\n\t\t},\n\n\t\tdeserialize: function (sDate) {\n\t\t\tif (!sDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn moment(sDate, 'YYYY-MM-DD');\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.form.formBuilder('get');\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this;\n\t\t\tvar test = 'daterange';\n\n\t\t\tself.form.formBuilder('set', data, test);\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.form.formBuilder('isDirty');\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('clearDirty');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.set({\n\t\t\t\tfrom: '',\n\t\t\t\tto: '',\n\t\t\t\trange: 'custom'\n\t\t\t});\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tform = self.form;\n\n\t\t\tif (!form.formBuilder('validate')) {\n\t\t\t\treturn false;\n\t\t\t}\t\t\t\n\t\t}\n\t});\n\n}(jQuery));","/**\n * formBuilder Widget\n *\n * TODO: improve codes type\n *\n * TODO: handle submission, bind to buttons somehow, and on-submit event\n *\n * TODO: maintain a model, take in the model, link to the fields and make is\n * accessible by a getter model linker? listen to changes\n *\n * TODO: can you call _init() a second type with more options? is that how you\n * call _setOption from outside?\n */\n\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.formBuilder\", {\n\n\t\toptions: {\n\t\t\tconverter: {\n\t\t\t\tfromForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\ttoForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * set to true to ignore fields that are not $(':visible')\n\t\t\t */\n\t\t\tignoreHidden: false\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.baseData = {};\n\n\t\t\to.defaultRequired = e.data('default-required');\n\n\t\t\tself.fieldsWidgets = $([]);\n\t\t\tself.fields = $([]);\n\n\t\t\tself.scanForNewFields();\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * proxy the dirty events from all of the fields in the form\n\t\t\t */\n\t\t\te.on('dirty', function (ev) {\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.dirty = true;\n\t\t\t}).on('clean', function (ev) {\n\n\t\t\t\t/*\n\t\t\t\t * if the form is clean kill the clean event\n\t\t\t\t */\n\t\t\t\tif(!self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * check if form is really clean\n\t\t\t\t */\n\t\t\t\tself.dirty = self.isDirty();\n\n\t\t\t\t/*\n\t\t\t\t * if form is still dirty, kill the clean event\n\t\t\t\t */\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\te.show();\n\t\t},\n\n\t\tscanForNewFields: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\t/*\n\t\t\t * expected methods for a widget to act a as field:\n\t\t\t *\n\t\t\t * set()\n\t\t\t * get()\n\t\t\t * isDirty()\n\t\t\t * clearDirty()\n\t\t\t * flashDirty()\n\t\t\t * flashError()\n\t\t\t * disable()\n\t\t\t * enable()\n\t\t\t * clear()\n\t\t\t * validate()\n\t\t\t *\n\t\t\t */\n\t\t\te.find('[data-load-widget-as-field]').each(function () {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(!el.attr('name')){\n\t\t\t\t\tthrow new Error('data-load-widget-as-field must have name attribute');\n\t\t\t\t}\n\n\t\t\t\tif(self.fieldsWidgets.has(el[0]).length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tel[el.attr('data-load-widget-as-field')]();\n\n\t\t\t\t/*\n\t\t\t\t * check if the widget extends the base FieldWidget widget\n\t\t\t\t */\n\n\t\t\t\tself.fieldsWidgets = self.fieldsWidgets.add(el);\n\n\t\t\t\t/*\n\t\t\t\t * wrap if label is found\n\t\t\t\t */\n\t\t\t\tvar label = el.attr('data-label');\n\n\t\t\t\tif(!label){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tel.addClass('field-items').wrap('<div class=\"input-field-group\"><div class=\"input-field\"></div></div>').before('<label>' + label + '</label>');\n\t\t\t});\n\t\t\t/*\n\t\t\tself.fields = e.find('input[type!=submit], select, textarea').not(':add123-inputField').inputField({\n\t\t\t\trequire: typeof o.defaultRequired !== 'undefined' && o.defaultRequired === true\n\t\t\t});\n\t\t\t*/\n\t\t\te.find('input[type!=submit], select, textarea').not(':add123-inputField').not('.form-builder-ignore *').each(function () {\n\t\t\t\tvar newInput = $(this);\n\t\t\t\tif(newInput.is('[data-load-widget-as-field]') || newInput.parents('[data-load-widget-as-field]').length){\n\t\t\t\t\t//console.log('ingnore input in field widgets: ', newInput.attr('name'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//console.log('ADDING FIELD: ', newInput.attr('name'));\n\t\t\t\tnewInput.inputField({\n\t\t\t\t\trequire: !!o.defaultRequired\n\t\t\t\t});\n\n\t\t\t\tself.fields = self.fields.add(newInput);\n\n\n\t\t\t});\n\n\n\n\t\t\t/*\n\t\t\t * set the first class on the first fields for proper styling\n\t\t\t */\n\t\t\t//setTimeout(function() {\n\t\t\t\t//var ingroup = e.find('.input-field-group .input-field .field-item:nth(0)').addClass('first');\n\t\t\t\t//\n\t\t\t\te.find('.input-field-group').each(function () {\n\t\t\t\t\t$(this).find('.field-item:first').addClass('first');\n\t\t\t\t});\n\t\t\t\t//console.log(ingroup);\n\t\t\t\t//e.find('.input-field .field-item:first-child').not('.input-field-group .input-field:first-child .field-item:first-child').addClass('first');\n\t\t\t//}, 0);\n\t\t},\n\n\t\t_proxyCommandToWidget: function (widgetElement) {\n\t\t\tvar self = this,\n\t\t\t\twidgetName = widgetElement.data('load-widget-as-field') || 'inputField',\n\t\t\t\tinstance = widgetElement.data(widgetName),\n\t\t\t\tmethod = Array.prototype.splice.call(arguments, 1, 1),\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\t\ttry {\n\t\t\t\treturn instance[method].apply(instance, args);\n\t\t\t}catch(err){\n\t\t\t\tthrow new Error('ERROR: widget field error NAME[' + widgetName + '] METHOD[' + method + ']');\n\t\t\t}\n\t\t},\n\t\n\n\t\tisDirty: function() {\n\t\t\tvar self = this,\n\t\t\t\tdirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tdirty = !!$(this).inputField('isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\tif(dirty){\n\t\t\t\treturn dirty;\n\t\t\t}\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tdirty = !!self._proxyCommandToWidget($(this), 'isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\treturn dirty;\n\t\t},\n\n\t\tclearDirty: function() {\n\t\t\tvar self = this;\n\t\t\tself.dirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clearDirty');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tflashDirty: function(numberOfTimes) {\n\t\t\t//this.dirty.inputField('flash', numberOfTimes);\n\t\t\t/*\n\t\t\tvar self = this;\n\t\t\tself.dirty.each(function () {\n\t\t\t\tself._proxyCommandToWidget($(this), 'flash', numberOfTimes);\n\t\t\t});\n\t\t\t*/\n\t\t},\n\n\t\tflashError: function(numberOfTimes) {\n\t\t\tthis.fields.filter(function() {\n\t\t\t\treturn $(this).data('inputField').options.error;\n\t\t\t}).inputField('flash', numberOfTimes);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', true);\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', false);\n\t\t},\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tformData = self._readDataFromDom();\n\n\t\t\tif($.isFunction(o.converter.fromForm)) {\n\t\t\t\tformData = o.converter.fromForm(formData);\n\t\t\t}\n\n\t\t\tif(!formData){\n\t\t\t\tformData = {};\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.baseData = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clear');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clear');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * check if the given data would overwrite any dirty fields if set\n\t\t *\n\t\t * returns an array of conflict data, and false for no conflicts\n\t\t */\n\t\tconflicts: function (data, ignoreKeys) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data),\n\t\t\t\tconflicts = [];\n\n\t\t\t/*\n\t\t\t * if dirty flag is not set, assume there is no conflict\n\t\t\t */\n\t\t\tif(!self.isDirty()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar aData = $.extend(true, {}, self.baseData),\n\t\t\t\tbData = $.extend(true, {}, formData);\n\n\t\t\tconsole.log('aData', aData);\n\t\t\tconsole.log('bData', bData);\n\n\t\t\t/*\n\t\t\t * only check fields that are different than the base value\n\t\t\t */\n\t\t\tutil.removeEqual(aData, bData, ignoreKeys);\n\n\t\t\tconsole.log('changes from base:', aData);\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar conflict = $(this).inputField('conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar conflict = self._proxyCommandToWidget($(this), 'conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tif($.isArray(conflict)){\n\t\t\t\t\t\tconflicts.concat(conflict);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(conflicts.length){\n\t\t\t\treturn conflicts;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tset: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data);\n\t\t\t\n\t\t\tself._trigger('beforeset', null, formData);\n\t\t\tself._writeDataToDom(formData, setOptions);\n\t\t\tself._trigger('afterset', null, formData);\n\t\t},\n\n\t\t_convertFormData: function (data) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * clone data object so form can not change the original\n\t\t\t */\n\t\t\tvar formData = $.extend(true, {}, data || {});\n\n\t\t\tif($.isFunction(o.converter.toForm)) {\n\t\t\t\tformData = o.converter.toForm(formData);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tval: function(values) {\n\t\t\t//TODO: forgot to implement this, there is logic taking its place in efsfl.js\n\t\t\tif(values === undefined) {\n\t\t\t\t/*\n\t\t\t\t * getter\n\t\t\t\t */\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * setter\n\t\t\t\t */\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tvalid = true;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && el.inputField('validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && self._proxyCommandToWidget(el, 'validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.fields.inputField('destroy');\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'destroy');\n\t\t\t});\n\t\t},\n\n\t\tgetFields: function() {\n\t\t\treturn this.fields;\n\t\t},\n\n\t\t_writeDataToDom: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\t//debugger;\n\t\t\t\tself._proxyCommandToWidget($(this), 'set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\t\t},\n\n\t\t_readDataFromDom: function() {\n\t\t\tvar self = this,\n\t\t\t\tignoreHidden = self.options.ignoreHidden,\n\t\t\t\tdata = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar val = el.inputField('get');\n\n\t\t\t\tif($.isArray(val)) {\n\t\t\t\t\tval = val[0];\n\t\t\t\t}\n\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this),\n\t\t\t\t\tignoreHidden = self.options.ignoreHidden;\n\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar val = self._proxyCommandToWidget(el, 'get');\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t\n\n}(jQuery));","/**\n * inputField Widget\n *\n * This widget wraps the operation of a single field of a form\n *\n * Public Methods:\n *   value(value)\n *   validate()\n *   flash()\n *   setError()\n *   clearError()\n *   redraw()\n *   status(statusName, bool)\n */\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\tvar repeat = function(work, delay, count, idx) {\n\t\tidx = idx || 0;\n\t\tif(idx < count) {\n\t\t\twork();\n\t\t\tsetTimeout(function() {\n\t\t\t\trepeat(work, delay, count, idx + 1);\n\t\t\t}, delay);\n\t\t}\n\t};\n\n\tvar statusNames = ['require', 'disable', 'error', 'hover', 'warn', 'focus'];\n\n\tvar loadDomData = function(namespace, aKey) {\n\t\tvar self = this;\n\t\t$.each(aKey, function(i, key) {\n\t\t\t/*\n\t\t\tif(namespace){\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tvar data = self.element.data(key);\n\t\t\tif(data !== undefined && data !== null) {\n\t\t\t\tnamespace[key] = data;\n\t\t\t}\n\t\t});\n\t};\n\n\t$.widget('add123.fieldWidget', {\n\n\t\tisDirty: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\treturn true;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\t\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.set();\n\t\t},\n\n\t\tflash: function () {\n\t\t\t\n\t\t},\n\n\t\tset: function (data) {\n\t\t\t\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\t$.widget(\"add123.inputField\", {\n\t\toptions: {\n\n\t\t\ttype: 'text',\n\n\t\t\t/*\n\t\t\t * the text shown\n\t\t\t */\n\t\t\tlabel: '',\n\n\t\t\trequire: '',\n\n\t\t\t/*\n\t\t\t * text to show when the field is empty, this uses the suggest layer\n\t\t\t */\n\t\t\tplaceholder: '',\n\n\t\t\t/*\n\t\t\t * min and max, there meaning depends on the type that is loaded\n\t\t\t */\n\t\t\tmin: '', // min does nothing in formbuilder\n\t\t\tmax: ''\n\n\t\t\t/*\n\t\t\t * values: false/undefined, 'keyup', 'blur'\n\t\t\t */\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tif(!e.is('input[type!=submit], select, textarea')) {\n\t\t\t\tthrow new Error(\"invalid element\");\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * load DOM settings from field into options\n\t\t\t */\n\t\t\tloadDomData.call(self, o, ['require', 'empty', 'placeholder', 'type', 'label', 'min', 'max', 'preinput', 'postinput', 'suffix', 'prefix']);\n\n\t\t\t/*\n\t\t\t * legacy support\n\t\t\t */\n\t\t\tif(!o.placeholder && o.empty) {\n\t\t\t\to.placeholder = o.empty;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check if a tool-tip was given\n\t\t\t */\n\t\t\tvar tooltip, tooltipContent = e.next();\n\t\t\tif(tooltipContent.is('div.form-input-tooltip') || tooltipContent.is('div.tooltip')) {\n\t\t\t\ttooltip = tooltipContent;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * convert the simple input into the full field format\n\t\t\t */\n\t\t\tvar field = self.field = $('<div class=\"input-field\"><div class=\"field-items\"><span class=\"field-item field-item-input\"></span></div></div>');\n\n\t\t\tvar layers = self.layers = {\n\t\t\t\titems: field.find('.field-items'),\n\t\t\t\tinput: field.find('.field-item-input')\n\t\t\t};\n\n\t\t\tif(o.label){\n\t\t\t\tself.setLabel(o.label);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move the DOM elements around\n\t\t\t */\n\t\t\te.before(field).appendTo(layers.input);\n\n\t\t\t/*\n\t\t\t * move classes\n\t\t\t */\n\t\t\tfield.attr('class', $.trim(field.attr('class') + ' ' + e.attr('class')));\n\t\t\te.removeAttr('class');\n\n\t\t\tif(e.is('textarea')) {\n\t\t\t\tfield.addClass('textarea-fix');\n\t\t\t\te.wrap('<div class=\"textarea-wrapper\"></div>');\n\t\t\t}\n\t\t\tif (e.is('select')) {\n\t\t\t\tfield.addClass('select-fix');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if this field is not part of a group, add a group class to this field for proper styling\n\t\t\t */\n\t\t\tif(!field.parents('.input-field-group').length){\n\t\t\t\tfield.wrap('<div class=\"input-field-group\"/>');\n\t\t\t\tfield.find('.field-item:first').addClass('first');\n\t\t\t}\n\n\t\t\tif(o.placeholder){\n\t\t\t\tself.placeholder(o.placeholder);\n\t\t\t}\n\n\t\t\tif(o.preinput) {\n\t\t\t\tself.addOn(-1, o.preinput);\n\t\t\t}\n\n\t\t\tif(o.postinput) {\n\t\t\t\tself.addOn(1, o.postinput);\n\t\t\t}\n\n\t\t\tif(o.suffix){\n\t\t\t\tself.setSuffix(o.suffix);\n\t\t\t}\n\n\t\t\tif(o.prefix){\n\t\t\t\tself.setPrefix(o.prefix);\n\t\t\t}\n\n\t\t\tif(tooltip) {\n\t\t\t\tvar addon = self.addOn(1000, '<span class=\"tooltip noselect\">?</span>', 'clickable');\n\n\t\t\t\tfield.addClass('has-tooltip');\n\n\t\t\t\ttooltip.popOver({\n\t\t\t\t\ttarget: addon,\n\t\t\t\t\tonShow: function () {\n\t\t\t\t\t\taddon.addClass('open');\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function () {\n\t\t\t\t\t\taddon.removeClass('open');\n\t\t\t\t\t}\n\t\t\t\t}).on('click', function () {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\n\n\n\t\t\t\ttooltip.popOver('hide');\n\n\n\t\t\t\taddon.on('click', function() {\n\t\t\t\t\ttooltip.popOver('toggle');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move element style\n\t\t\t */\n\t\t\t// field.attr('style', e.attr('style'));\n\t\t\t// e.removeAttr('style');\n\t\t\t/*\n\t\t\t * add the pad1 class to make way for the drop down handle\n\t\t\t */\n\t\t\t// if(e.is('select')){\n\t\t\t// field.addClass('pad1');\n\t\t\t// }\n\t\t\t/*\n\t\t\t * if someone tries to select text from one of the layers, this will focus the input field\n\t\t\t */\n\t\t\t/* this causes problems when extra dialogs like dropdown panels are placed inside the field container */\n\t\t\t//field.on('mousedown.inputField', function() {\n\t\t\tlayers.input.on('mousedown.inputField', function() {\n\t\t\t\t$('body').one('mouseup.inputField', function() {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tself.autoValidate = 'blur';\n\n\t\t\tself.states = {};\n\n\t\t\t/*\n\t\t\t * set the require option as a status\n\t\t\t */\n\t\t\tself.updateStatus('require', o.require, false);\n\n\t\t\t/*\n\t\t\t * activate focus classes and suggestion layer\n\t\t\t */\n\t\t\te.focus(function() {\n\t\t\t\tself.status('focus', true);\n\t\t\t}).blur(function(ev) {\n\t\t\t\tself.status('focus', false);\n\t\t\t\tself._onBlur(ev);\n\t\t\t}).change(function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('inputfilterkeyignored.inputField', function() {\n\t\t\t\tself.flash();\n\t\t\t}).on('inputfilterkeytyped.inputField', function() {\n\t\t\t\tif(self.suffixShim){\n\t\t\t\t\tself.suffixShim.text(self.element.val());\n\t\t\t\t}\n\t\t\t}).on('keyup', function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('keydown', function(ev) {\n\t\t\t\tself._onKeydown(ev);\n\t\t\t});\n\n\t\t\tfield.mouseenter(function() {\n\t\t\t\tself.status('hover', true);\n\t\t\t}).mouseleave(function() {\n\t\t\t\tself.status('hover', false);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * set the type of this field\n\t\t\t */\n\t\t\tself.setType(o.type);\n\n\t\t\tself.prevValue = e.val();\n\n\t\t\tif(o.max){\n\t\t\t\tself.setMax(o.max);\n\t\t\t}\n\t\t},\n\n\t\tsetLabel: function (label) {\n\t\t\tvar self = this,\n\t\t\t\tfield = self.field;\n\n\t\t\tif(!self.label){\n\t\t\t\tself.label = $('<label>' + label + '</label>');\n\t\t\t\tself.label.prependTo(field);\n\t\t\t}\n\n\t\t\tself.label.html(label);\n\t\t},\n\n\t\tsetSuffix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.suffix){\n\t\t\t\tlayers.suffix = $('<div class=\"suffix-overlay\"><div class=\"shim\"></div><span class=\"value noselect\">' + t + '</span></div>').prependTo(layers.items);\n\t\t\t\tself.suffixShim = layers.suffix.find('.shim');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlayers.suffix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetPrefix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.prefix){\n\t\t\t\tlayers.prefix = $('<div class=\"prefix-overlay noselect\">' + t + '</div>').prependTo(layers.items);\n\t\t\t}else{\n\t\t\t\tself.layers.prefix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(e.is(':add123-inputFilter')){\n\t\t\t\te.inputFilter('setMax', max);\n\t\t\t}else{\n\t\t\t\te.inputFilter({\n\t\t\t\t\ttoUpper: false,\n\t\t\t\t\tmax: max,\n\t\t\t\t\tpattern: /./\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_onKeydown: function(ev) {\n\t\t\tvar self = this;\n\t\t\tself._showLayer('placeholder', false);\n\t\t},\n\n\t\t_onKeyup: function(ev) {\n\t\t\tvar self = this;\n\n\t\t\tif(self.autoValidate === 'keyup') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tself.checkDirty();\n\t\t\tself.redraw();\n\t\t},\n\n\t\tcheckDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tval;\n\n\t\t\t//console.log('checkDirty', self.prevValue, self.get());\n\n\t\t\tif(!self.dirty){\n\t\t\t\tval = self.get();\n\n\t\t\t\t/*\n\t\t\t\t * TMS-350 Save/Cancel become greyed out on Ticket Details page even when changes are present\n\t\t\t\t */\n\t\t\t\tif(!util.equals(self.prevValue, val) && !(typeof self.prevValue === 'undefined' && val === '')){\n\t\t\t\t\te.trigger('dirty');\n\t\t\t\t\tself.dirty = true;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t/*\n\t\t\t\t * clean checks can be fired many times, so debouce them with a timer\n\t\t\t\t */\n\t\t\t\tif(self.cleanCheckTimer){\n\t\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t\t}\n\t\t\t\tself.cleanCheckTimer = setTimeout(function() {\n\t\t\t\t\tvar prev = self.prevValue,\n\t\t\t\t\t\tval = self.get();\n\n\t\t\t\t\tif(prev !== 0 && (!prev || $.isEmptyObject(prev))){\n\t\t\t\t\t\tprev = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(val !== 0 && (!val || $.isEmptyObject(val))){\n\t\t\t\t\t\tval = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(util.equals(prev,val)){\n\t\t\t\t\t\tself.dirty = false;\n\t\t\t\t\t\te.trigger('clean');\n\t\t\t\t\t\tself.redraw();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\t_onBlur: function(ev) {\n\t\t\tvar self = this;\n\t\t\tif(self.autoValidate === 'blur') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * weight < 0 goest to left\n\t\t *\n\t\t * Overly complex weight logic, maybe this can be refactored!\n\t\t */\n\t\taddOn: function(weight, html, className) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(typeof(weight) !== 'number') {\n\t\t\t\tweight = 0;\n\t\t\t}\n\n\t\t\tvar addon = $('<span data-weight=\"' + weight + '\" class=\"field-item addon\">' + html + '</span>');\n\n\t\t\tif(className) {\n\t\t\t\taddon.addClass(className);\n\t\t\t}\n\n\t\t\tvar pre = true, found = false;\n\t\t\tlayers.items.children().each(function () {\n\t\t\t\tvar el = $(this);\n\n\t\t\t\tif(el.hasClass('field-item-input')){\n\t\t\t\t\tpre = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Get correct element weight\n\t\t\t\tvar eWeight = el.data('weight');\n\t\t\t\tif(typeof(eWeight) !== 'number') {\n\t\t\t\t\teWeight = 0;\n\t\t\t\t}\n\n\t\t\t\tif(pre && weight < 0 && weight <= eWeight){\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\t// refresh first\n\t\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(!pre && weight >= 0 && weight <= eWeight) {\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found && weight < 0){\n\t\t\t\t// Must just left of input\n\t\t\t\tlayers.items.find('.field-item-input').before(addon);\n\t\t\t\t\n\t\t\t\t// refresh first\n\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t} else if(!found){\n\t\t\t\t// Must go all the way right\n\t\t\t\tlayers.items.append(addon);\n\t\t\t}\n\n\t\t\treturn addon;\n\t\t},\n\n\t\tplaceholder: function (s) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.placeholder){\n\t\t\t\tlayers.placeholder = $('<div class=\"placeholder noselect\"></div>').hide().appendTo(layers.input);\n\t\t\t}\n\n\t\t\tlayers.placeholder.text(s);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tself.set(self.element.attr('value'));\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tself.clearDirty();\n\n\t\t\tif(type && $.isFunction(type.clear)) {\n\t\t\t\ttype.clear.call(type, self);\n\t\t\t}else{\n\t\t\t\tself.prevValue = '';\n\t\t\t\tself.set('');\n\t\t\t}\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.cleanCheckTimer){\n\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\t\t\tself.field.removeClass('dirty');\n\t\t\tself.element.trigger('clean');\n\t\t},\n\n\t\tconflicts: function (value) {\n\t\t\tvar self = this;\n\t\t\tif(self.dirty){\n\t\t\t\treturn {\n\t\t\t\t\tkey: self.element.attr('name'),\n\t\t\t\t\tvOld: self.prevValue,\n\t\t\t\t\tvNew: value,\n\t\t\t\t\tvDirty: self.get()\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tset: function(value, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tvar val;\n\n\t\t\tif(setOptions === 'daterange'){\n\t\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\t\tif (setOptions.autoClean) {\n\t\t\t\t\t/*\n\t\t\t\t\t * store the base value\n\t\t\t\t\t */\n\t\t\t\t\tself.prevValue = value;\n\n\t\t\t\t\tself.clearDirty();\n\t\t\t\t}\n\n\t\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\t\tif(self.hasStatus('error')) {\n\t\t\t\t\tself.status('error', false, false);\n\t\t\t\t}\n\n\t\t\t\tval = value;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\t\tif (setOptions.autoClean) {\n\t\t\t\t\t/*\n\t\t\t\t\t * store the base value\n\t\t\t\t\t */\n\t\t\t\t\tself.prevValue = value;\n\n\t\t\t\t\tself.clearDirty();\n\t\t\t\t}\n\n\t\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\t\tif(self.hasStatus('error')) {\n\t\t\t\t\tself.status('error', false, false);\n\t\t\t\t}\n\n\t\t\t\tval = self._formatToField(value);\n\t\t\t}\n\n\t\t\t// var val = value;\n\t\t\t/*\n\t\t\t * some complex types might not want input.val() to be called,\n\t\t\t * so ignore all undefined variables\n\t\t\t */\n\t\t\tif(typeof(val) !== 'undefined') {\n\t\t\t\te.val(val);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run the inputFilter if one exists on this field\n\t\t\t */\n\t\t\tvar f = e.data('inputFilter');\n\t\t\tif(f) {\n\t\t\t\tf._clean();\n\t\t\t}\n\n\t\t\tself._trigger('afterset', null, [val, value]);\n\t\t\t\n\t\t\t// Redraw synchronously to avoid display errors (was not working perfectly with setTimeout)\n\t\t\tself.redraw();\n\n\t\t},\n\t\t\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\treturn self._formatFromField(e.val());\n\t\t},\n\n\t\t/*\n\t\t * Legacy Method, use get() and set()\n\t\t *\n\t\t * value getter/setter for this field\n\t\t */\n\t\tvalue: function(value) {\n\t\t\tvar self = this;\n\n\t\t\tif(value === undefined) {\n\t\t\t\treturn self.get();\n\t\t\t} else {\n\t\t\t\treturn self.set(value);\n\t\t\t}\n\t\t},\n\n\t\tisEmpty: function() {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\t// check if type declares an isEmpty method\n\t\t\tif($.isFunction(type.isEmpty)) {\n\t\t\t\treturn type.isEmpty.call(type, self);\n\t\t\t}\n\t\t\t\n\t\t\treturn $.trim(self.element.val()) === '';\n\t\t},\n\n\t\tvalidate: function(skipRequired) {\n\t\t\tvar self = this,\n\t\t\t\tstates = self.states,\n\t\t\t\ttype = self.type,\n\t\t\t\tempty = self.isEmpty();\n\n\t\t\t/*\n\t\t\t * check required, compare against the actual value in the field\n\t\t\t */\n\t\t\t\n\t\t\tif(!skipRequired && states.require && empty) {\n\t\t\t\tself.setError({\n\t\t\t\t\tmessage: 'required'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * only call validate if not empty\n\t\t\t */\n\t\t\tif(empty) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif($.isFunction(self.format)) {\n\t\t\t\tself.format.call(self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check the type validation\n\t\t\t */\n\t\t\tif($.isFunction(type.validate)) {\n\t\t\t\tvar err = type.validate.call(type, self);\n\t\t\t\tif(typeof err === 'undefined') {\n\t\t\t\t\tself.clearError();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tself.setError(err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.clearError();\n\t\t\treturn true;\n\t\t},\n\n\t\t/*\n\t\t * flashes the field to get the users attention\n\t\t *\n\t\t * TODO: support flashing patterns\n\t\t */\n\t\tflash: function(numberOfTimes) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\trepeat(function() {\n\t\t\t\tself.field.addClass('flash');\n\t\t\t\tself.flashTimer = setTimeout(function() {\n\t\t\t\t\tself.field.removeClass('flash');\n\t\t\t\t}, 150);\n\t\t\t}, 150, numberOfTimes || 1);\n\t\t},\n\n\t\t/*\n\t\t * err: {\n\t\t *   message: '',\n\t\t *   code: '',\n\t\t *   description: ''\n\t\t * }\n\t\t */\n\t\tsetError: function(err) {\n\t\t\tvar self = this,\n\t\t\t\terror = self.states.error,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t/*\n\t\t\t * check if we need to clear the error\n\t\t\t */\n\t\t\tif(err === undefined) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!layers.error) {\n\t\t\t\tlayers.error = $('<div class=\"error-overlay noselect\"></div>').appendTo(layers.input);\n\t\t\t}\n\n\t\t\t//TODO: place error then check for overlaps\n\t\t\tlayers.error.text(err.message);\n\n\t\t\tself.status('error', true);\n\n\t\t\t/*\n\t\t\t * listen to keyUp events and rerun validate on this field\n\t\t\t */\n\t\t\tself.autoValidate = 'keyup';\n\t\t},\n\n\t\tclearError: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.states.error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.autoValidate = 'blur';\n\t\t\tself.status('error', false);\n\t\t},\n\n\t\t_formatToField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(value === null || value === undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.toField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.toField.call(type, value, self);\n\t\t},\n\n\t\t_formatFromField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.fromField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.fromField.call(type, value, self);\n\t\t},\n\n\t\t/*\n\t\t * decide what layers should be shown or hidden in the field\n\t\t *\n\t\t * warning: this function gets called a lot!\n\t\t */\n\t\tredraw: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\thasVal = !!e.val(),\n\t\t\t\tshowError = false,\n\t\t\t\tshowNotice = true,\n\t\t\t\tshowPlaceholder = true,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t\t//self.inputWidth = self.element.width(); // Added this line to fix display issue \n\n\t\t\tif(hasVal) {\n\t\t\t\tshowPlaceholder = false;\n\t\t\t}\n\n\t\t\tif(self.suffixShim && !showPlaceholder){\n\t\t\t\tself.suffixShim.text(e.val());\n\t\t\t}\n\n\t\t\tif(layers.prefix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.prefixPaddingAdded) {\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingLeft = e.css('padding-left').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingLeft = isNaN(self.startPaddingLeft)? 5 : parseInt(self.startPaddingLeft, 10);\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingLeft: (self.startPaddingLeft + layers.prefix.outerWidth()) + \"px\",\n\t\t\t\t\t\t\twidth: (self.startInputWidth - layers.prefix.outerWidth())  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.prefixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingLeft: self.startPaddingLeft,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tself.prefixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(layers.suffix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.suffixPaddingAdded) {\n\t\t\t\t\t\tvar valWidth = layers.suffix.find('.value').outerWidth();\n\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingRight = e.css('padding-right').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingRight = isNaN(self.startPaddingRight)? 0 : parseInt(self.startPaddingRight, 10);\n\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingRight: (self.startPaddingRight + valWidth) + 'px',\n\t\t\t\t\t\t\twidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.suffixShim.css({\n\t\t\t\t\t\t\tmaxWidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.suffixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\t\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingRight: self.startPaddingRight,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tself.suffixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif(o.hover){\n\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.focus){\n\t\t\t\tshowSuggest = false;\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.warn){\n\n\t\t\t}\n\t\t\t*/\n\t\t\tif(self.states.error) {\n\t\t\t\tshowNotice = false;\n\t\t\t\tshowError = true;\n\t\t\t}\n\n\t\t\tif(self.dirty){\n\t\t\t\tself.field.addClass('dirty');\n\t\t\t}else{\n\t\t\t\tself.field.removeClass('dirty');\n\t\t\t}\n\n\t\t\tself._showLayer('error', showError);\n\t\t\tself._showLayer('notice', showNotice);\n\t\t\tself._showLayer('placeholder', showPlaceholder);\n\t\t\tself._showLayer('suffix', !showPlaceholder);\n\t\t\tself._showLayer('prefix', !showPlaceholder);\n\t\t},\n\n\t\t_showLayer: function(layer, show) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(!self.layers[layer]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'visible');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].show();\n\t\t\t\t}\n\n\t\t\t\t// MISC-919 make sure placeholder stays in input box\n\t\t\t\tif(layer === 'placeholder' && e.width() > 0) {\n\t\t\t\t\tvar ph = self.layers[layer];\n\t\t\t\t\twhile((ph.outerWidth(true)) > e.width() && (parseFloat(ph.css('font-size'),10) >= 8.0)) {\n\t\t\t\t\t\tph.css('font-size','-=1.0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'hidden');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetType: function(sType) {\n\t\t\tvar self = this,\n\t\t\t\ttypes = $.add123.inputField.types,\n\t\t\t\ttype = self.type;\n\n\t\t\t/*\n\t\t\t * run the type tear down if it exists\n\t\t\t */\n\t\t\tif(type && $.isFunction(type.tearDown)) {\n\t\t\t\ttype.tearDown().call(type, self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if type doesn't exist set to the default of text\n\t\t\t */\n\t\t\tif(!sType || !types[sType]) {\n\t\t\t\tsType = 'text';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * setup the field type\n\t\t\t */\n\t\t\ttype = Object.create(types[sType]);\n\n\t\t\t/*\n\t\t\t * run the type setup\n\t\t\t */\n\t\t\tif($.isFunction(type.setUp)) {\n\t\t\t\ttype.setUp.call(type, self);\n\t\t\t}\n\n\t\t\tself.type = type;\n\t\t},\n\n\t\t/*\n\t\t * returns the type object\n\t\t */\n\t\tgetType: function () {\n\t\t\treturn this.type;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.field.hide();\n\t\t},\n\n\t\tshow: function(displayValue) {\n\t\t\tif (displayValue) {\n\t\t\t\tthis.field.css('display', displayValue);\n\t\t\t} else {\n\t\t\t\tthis.field.show();\n\t\t\t}\n\t\t},\n\n\t\tgetField: function() {\n\t\t\treturn this.field;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.status('disable', false);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.status('disable', true);\n\t\t},\n\n\t\tisDisabled: function() {\n\t\t\treturn this.hasStatus('disable');\n\t\t},\n\n\t\t/*\n\t\t * public status setters\n\t\t */\n\t\tstatus: function(statusName, bool, fireEvents) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * only allow changes to status flags\n\t\t\t */\n\t\t\tif($.inArray(statusName, statusNames) < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * clean and set status in options\n\t\t\t */\n\t\t\tvar cleanBool = !!bool,\n\t\t\t\tstates = self.states;\n\n\t\t\tif(cleanBool === states[statusName]) {\n\t\t\t\t/*\n\t\t\t\t * this status is already set, ignore\n\t\t\t\t */\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstates[statusName] = cleanBool;\n\t\t\tself.redraw();\n\n\t\t\t/*\n\t\t\t * set the status class to the field\n\t\t\t */\n\t\t\tif(states[statusName]) {\n\t\t\t\tself.field.addClass(statusName);\n\t\t\t} else {\n\t\t\t\tself.field.removeClass(statusName);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run any updates to the field needed\n\t\t\t */\n\t\t\tvar layers = self.layers;\n\t\t\tif(statusName === 'disable') {\n\n\t\t\t\tif(!layers.disable) {\n\t\t\t\t\tlayers.disable = $('<div class=\"disable-overlay\"></div>').appendTo(layers.items);\n\t\t\t\t}\n\n\t\t\t\tif(cleanBool) {\n\t\t\t\t\tlayers.disable.css({\n\t\t\t\t\t\twidth: (layers.items.outerWidth() - 2) + 'px',\n\t\t\t\t\t\theight: (layers.items.outerHeight() - 2) + 'px'\n\t\t\t\t\t}).show();\n\t\t\t\t} else {\n\t\t\t\t\tlayers.disable.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * fire statusUpdated event\n\t\t\t */\n\t\t\tif(fireEvents !== false) {\n\t\t\t\tself._trigger(\"statusUpdate\", null, {\n\t\t\t\t\t'statusName': statusName,\n\t\t\t\t\t'value': states[statusName]\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t * legacy status method\n\t\t */\n\t\tupdateStatus: function(statusName, bool, fireEvents) {\n\t\t\tthis.status(statusName, bool, fireEvents);\n\t\t},\n\n\t\thasStatus: function (statusName) {\n\t\t\treturn !!this.states[statusName];\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tvar self = this;\n\n\t\t\t//TODO remove all handlers\n\t\t\t//\n\n\t\t\t/*\n\t\t\t * tearDown type object\n\t\t\t */\n\t\t\tif(self.type && self.type.tearDown){\n\t\t\t\tself.type.tearDown.call(self.type, self);\n\t\t\t}\n\t\t}\n\t});\n\n\t\n\n\n\n\t/*\n\t * InputField Types\n\t *\n\t * Stored in $.add123.inputField.types\n\t *\n\t * The context (this) will get set to the context of the type object, use the ui parameter to obtain access to the inputField widget\n\t *\n\t * setUp: add any events, elements, etc.\n\t *\n\t * tearDown: reverse whatever setUp did\n\t *\n\t * converter: used to convert data between \"human\" and transport formats (e.g. mm/dd/yyyy <-> yyyymmdd)\n\t *\n\t * format: attempt to format the human readable value (e.g. mm/ dd/yyyy -> mm/dd/yyyy, '  foo ' -> 'foo')\n\t *    format is called on before validate\n\t *\n\t * validate: returns an error object on error or undefined on success\n\t * err: {\n\t *   message: '',\n\t *   code: '',\n\t *   description: ''\n\t * }\n\t *\n\t */\n\t$.add123.inputField.types = {};\n\n\t/* Basic Type Structure\n\t$.add123.inputField.types = {\n\t\tsetUp: function(ui) {},\n\t\ttearDown: function(ui) {},\n\t\tconverter: {\n\t\t\ttoField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\treturn {\n\t\t\t\tmessage: 'invalid'\n\t\t\t};\n\t\t}\n\t};\n\t*/\n\n\n}(jQuery));\n\n","/**\n * inputFilter widget\n */\n\n\n(function($) {\n\t'use strict';\n\n\t$.widget('add123.inputFilter', {\n\n\t\toptions: {\n\t\t\ttoUpper: false,\n\t\t\t//TODO: support max, flash when at end of string, other wise just splice off the end\n\t\t\tmax: 0,\n\t\t\tpattern: /[\\w\\s]/ \t// was [A-Z]\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tmemory;\n\n\t\t\t/*\n\t\t\t * track if a native change event will be fired by the browser\n\t\t\t */\n\t\t\tself.nativeChange = false;\n\n\t\t\tif(!e.is('input[type=text], textarea')) {\n\t\t\t\tthrow new Error('inputFilter must be applied to a text input ');\n\t\t\t}\n\n\t\t\te.on('keydown.inputFilter', $.proxy(this._onKeyDown, self));\n\t\t\te.on('keypress.inputFilter', $.proxy(this._onKeyPress, self));\n\t\t\te.on('paste.inputFilter', $.proxy(this._onPaste, self));\n\n\t\t\t/*\n\t\t\t * support change events\n\t\t\t */\n\t\t\te.on('focus.inputFilter', function() {\n\t\t\t\tmemory = e.val();\n\t\t\t});\n\t\t\te.on('blur.inputFilter', function() {\n\t\t\t\tif(!self.nativeChange && memory !== e.val()) {\n\t\t\t\t\te.change();\n\t\t\t\t}\n\t\t\t\tself.nativeChange = false;\n\t\t\t});\n\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tthis.options.max = max;\n\t\t},\n\n\t\tsetPattern: function (regex) {\n\t\t\tthis.options.pattern = regex;\n\t\t},\n\n\t\t_onPaste: function(ev) {\n\t\t\t/*\n\t\t\t * on the paste event, schedule a clean\n\t\t\t */\n\t\t\tsetTimeout($.proxy(this._clean, this), 0);\n\t\t},\n\n\t\t_onKeyDown: function(ev) {\n\t\t\t/*\n\t\t\t * detect when the native change event will be fired\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\tthis.nativeChange = true;\n\t\t\t}\n\t\t},\n\n\n\t\t_onKeyPress: function(ev) {\n\t\t\tvar self = this;\n\t\t\t/*\n\t\t\t * Weird IE glitch fix\n\t\t\t *\n\t\t\t * TODO: this needs an explaination of the problem\n\t\t\t */\n\t\t\t//if (!ev.which && ((ev.charCode || ev.charCode === 0) ? ev.charCode : ev.keyCode)) {\n\t\t\t//\tev.which = ev.charCode || ev.keyCode;\n\t\t\t//}\n\t\t\t/*\n\t\t\t * bypass command keys\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tself._type(String.fromCharCode(ev.which));\n\t\t\treturn false;\n\t\t},\n\n\t\t/*\n\t\t * retype all the characters in the field so they are passed through the filter\n\t\t */\n\t\t_clean: function() {\n\t\t\tvar v = this.element.val();\n\t\t\tthis.element.val('');\n\t\t\t$.each(v.split(''), $.proxy(function(i, c) {\n\t\t\t\tthis._type(c);\n\t\t\t}, this));\n\t\t},\n\n\t\t/*\n\t\t * manually enter the given text into the input field\n\t\t * obeying the regular expression and triggering events\n\t\t * when characters are ignored\n\t\t */\n\t\t_type: function(text) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tkeytypedEvent = 'keytyped',\n\t\t\t\tkeyignoredEvent = 'keyignored',\n\t\t\t\tp, tmp;\n\n\t\t\tif(o.toUpper) {\n\t\t\t\ttext = text.toUpperCase();\n\t\t\t}\n\n\t\t\tif(text.match(o.pattern)) {\n\t\t\t\t/*\n\t\t\t\t * only deal with the caret if the field is focused\n\t\t\t\t *\n\t\t\t\t * (changed focus check because of a PhantomJS bug)\n\t\t\t\t * https://github.com/ariya/phantomjs/issues/10427\n\t\t\t\t */\n\t\t\t\tif(e[0] === document.activeElement) {\n\t\t\t\t\tp = e.caret();\n\t\t\t\t\ttmp = val.slice(0, p.begin) + text + val.slice(p.end);\n\t\t\t\t\tif(o.max && tmp.length > o.max){\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.val(tmp);\n\t\t\t\t\t\te.caret(p.begin + text.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp = val + text;\n\n\t\t\t\t\tif(o.max && p.length > o.max){\n\t\t\t\t\t\tp = p.substring(0, o.max);\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.val(p);\n\t\t\t\t}\n\n\t\t\t\tself._trigger(keytypedEvent);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.inputFilter');\n\t\t}\n\n\t});\n})(jQuery);","/**\n * add123.popOver widget\n */\n\n(function($){\n\t'use strict';\n\n\tvar doc = $(document),\n\t\twin = $(window),\n\t\tbody = $('body');\n\n\t$.widget(\"add123.popOver\", {\n\n\t\toptions: {\n\t\t\ttarget: '',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tappendTo: 'body'\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.showing = false;\n\n\t\t\te.detach();\n\t\t\tvar content = e.clone().addClass('form-input-tooltip');\n\t\t\tself.title = $('<h3 class=\"tooltip-title\"></h3>');\n\n\t\t\te.addClass('tooltip-wrapper').css('position', 'absolute');\n\n\t\t\te.empty();\n\n\t\t\te.append(self.title).append(content);\n\n\t\t\te.appendTo(o.appendTo);\n\n\t\t\tself.onClick = function(ev) {\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!target.childOf(e, true) && !$(ev.delegateTarget.activeElement).childOf(e, true) && !target.childOf(o.target, true)) {\n\t\t\t\t\tif(self._trigger('beforeoffclick', ev, target)) {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.onResize = function(ev) {\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.position();\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * listen for off clicks\n\t\t\t */\n\t\t\tdoc.on('mousedown', self.onClick);\n\n\t\t\t/*\n\t\t\t * listen for window resizes\n\t\t\t */\n\t\t\twin.on('resize', self.onResize);\n\t\t},\n\n\t\tsetAppendTo: function (el) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\to.appendTo = el;\n\t\t\te.appendTo(el);\n\t\t},\n\n\t\t_init: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\ttitleElement = self.title;\n\n\t\t\tvar title = e.attr('title');\n\n\t\t\tif(title) {\n\t\t\t\ttitleElement.text(title).show();\n\t\t\t}else{\n\t\t\t\ttitleElement.hide();\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.showing) {\n\t\t\t\tself.hide();\n\t\t\t} else {\n\t\t\t\tself.show();\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * show must be deferred with a timeout to avoid being affected by an offclick\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.showing = true;\n\t\t\t\tself.position();\n\t\t\t\t/*\n\t\t\t\t * fadeIn is used instead of show() so that the popover\n\t\t\t\t * posistioning is not visible\n\t\t\t\t */\n\t\t\t\tself.element.fadeIn(10);\n\t\t\t\tself._trigger('onShow');\n\t\t\t}, 0);\n\t\t},\n\n\t\thide: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.showing = false;\n\n\t\t\tself.element.hide();\n\t\t\tself._trigger('onHide');\n\t\t},\n\n\t\tposition: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tmy = 'left+' + (o.left - 3) + ' top+' + (o.top + 3),\n\t\t\t\tat = 'left bottom',\n\t\t\t\tcollision = 'flipfit none';\n\n\t\t\tif (o.my) {\n\t\t\t\tmy = o.my;\n\t\t\t}\n\n\t\t\tif (o.at) {\n\t\t\t\tat = o.at;\n\t\t\t}\n\n\t\t\tif (o.collision) {\n\t\t\t\tcollision = o.collision;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\te.position({\n\t\t\t\t\tmy: my,\n\t\t\t\t\tat: at,\n\t\t\t\t\tof: o.target,\n\t\t\t\t\tcollision: collision\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tdoc.off('mousedown', self.onClick);\n\t\t\twin.off('resize', self.onResize);\n\t\t}\n\t});\n\n})(jQuery);","/**\n * submitButton Widget\n */\n(function($) {\n\t'use strict';\n\n\t/*\n\t * when you catch the submitbuttonsubmit event, you need to call execute\n\t * 'event.data.onComplete' when the processing is done\n\t */\n\t$.widget('add123.submitButton', {\n\t\toptions: {\n\t\t\tcolor: '#000',\n\t\t\tdelay: 10,\n\t\t\tdisabled: false,\n\t\t\twaiting: false,\n\t\t\t// label: undefined, //ignored by create\n\t\t\tpreventDefault: true,\n\t\t\tenterKeyListenerProvider: function() {\n\t\t\t\treturn this.parents('form').first();\n\t\t\t},\n\t\t\tonKeyDown: function (ev) {\n\t\t\t\tif(ev.keyCode === 13 && !$(ev.target).is('textarea')) {\n\t\t\t\t\tthis.submit.call(this, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\tw = e.width(),\n\t\t\t\th = e.height();\n\n\t\t\te.addClass('submitting');\n\n\t\t\tself.getButtonLabel().css('visibility', 'hidden');\n\n\t\t\tself.spinner.appendTo(e).spin({\n\t\t\t\tcolor: o.color,\n\t\t\t\ttop: -h + 4,\n\t\t\t\tleft: -7\n\t\t\t});\n\t\t},\n\n\t\tgetButtonLabel: function () {\n\t\t\treturn this.element.find('.ui-button-text');\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.destroyed){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.removeClass('submitting');\n\t\t\tself.spinner.spin('stop');\n\t\t\tself.getButtonLabel().css('visibility', 'visible');\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\t\t\tvar e = self.element,\n\t\t\t\tbOptions = {};\n\n\t\t\tif(o.icons) {\n\t\t\t\tbOptions.icons = o.icons;\t// does nothing\n\t\t\t}\n\n\t\t\tif(o.disabled) {\n\t\t\t\tbOptions.disabled = o.disabled;\n\t\t\t}\n\n\t\t\tif(o.text !== undefined){\n\t\t\t\tbOptions.text = o.text;\n\t\t\t}\n\n\t\t\to.label = e.html();\n\t\t\te.button(bOptions).on('click.submitButton', $.proxy(self.submit, self));\n\n\t\t\tself.spinner = $('<div class=\"spinner\" style=\"display: inline-block; position: absolute;\"></div>');\n\t\t\te.append(this.spinner);\n\n\t\t\t// This actually doesn't seem to do anything. The browser will do it automatically\n\t\t\tvar listenerProvider = o.enterKeyListenerProvider;\n\t\t\tif($.isFunction(listenerProvider)) {\n\t\t\t\tvar listener = listenerProvider.call(e);\n\t\t\t\tif(typeof listener !== 'undefined') {\n\t\t\t\t\tlistener.on('keydown.submitButton', $.proxy(o.onKeyDown, self));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsubmit: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\n\t\t\tif(o.preventDefault && ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t}\n\n\t\t\tif(o.waiting === true || o.disabled === true) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif(!ev) {\n\t\t\t\tev = null;\n\t\t\t}\n\n\t\t\tif(self._trigger('beforesubmit', ev) === false) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\to.waiting = true;\n\t\t\tself._showLoading.call(self);\n\n\t\t\t/*\n\t\t\t * submit clicks are delayed so that the UI can update before\n\t\t\t * doing all of the submit work\n\t\t\t *\n\t\t\t * passes the onComplete callback as the data for this event\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself._trigger('submit', ev, function() {\n\t\t\t\t\to.waiting = false;\n\t\t\t\t\tself._hideLoading.call(self);\n\t\t\t\t\tself._trigger('aftersubmit', ev);\n\t\t\t\t});\n\t\t\t}, o.delay);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.options.disabled = false;\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.options.disabled = true;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.submitButton');\n\t\t\tself.destroyed = true;\n\t\t}\n\t});\n})(jQuery);","/**\n * Array Field Widget.\n *\n * - We may want to put this in formBuilder-os\n * - May require css from dyn\n *\n * Attribute Settings:\n * data-addmessage=\"Some message\"\t- Message next to the '+' button\n * data-sub-widget=\"widgetName\"\t\t- Name of jQuery widget to be used as the items\n */\n/*global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar arrayFieldId = 0;\n\tvar nextArrayFieldId = function () {\n\t\treturn arrayFieldId++;\n\t};\n\n\t// Localization\n\tif(!util.lang.remove) {\n\t\tswitch(util.lang.code) {\n\t\t\tcase 'es': util.lang.remove = 'Quitar'; break;\n\n\t\t\t//add more lang code translations here\n\n\t\t\tdefault: //'en'\n\t\t\t\tutil.lang.remove = 'Remove'; \n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\n\t$.widget(\"tms.arrayField\", {\n\t\t_arrayFieldTemplate: \n\t\t\t'<div class=\"array-field\">' + \n\t\t\t\t'<div class=\"items\"><div class=\"items-content\"></div></div>' + \n\t\t\t\t'<div class=\"input-field\">' + \n\t\t\t\t\t'<div class=\"field-items\">' + \n\t\t\t\t\t\t'<span class=\"first field-item addon clickable array-field-add noselect\"><a href=\"#\">+</a></span>' + \n\t\t\t\t\t\t'<span class=\"field-item array-field-add-message\"></span>' + \n\t\t\t\t\t'</div>' + \n\t\t\t\t'</div>' + \n\t\t\t'</div>',\n\n\t\t_arrayFieldItemTemplate:\n\t\t\t'<div class=\"input-field-group array-field-item\">' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"first field-item addon clickable sort-handle noselect\" style=\"width:8px;\">::</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<span class=\"sub-field\"></span>' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"field-item addon clickable array-field-delete\">' +\n\t\t\t\t\t\t\t'<span class=\"tms-icon tms-icon-remove\" title=\"'+util.lang.remove+'\"></span>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>', \n\n\t\t_create: function(){\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.subField = e.html();\n\n\t\t\tself.id = nextArrayFieldId();\n\n\t\t\te.html(self._arrayFieldTemplate);\n\n\t\t\tif(e.attr('data-addmessage')){\n\t\t\t\te.find('.array-field-add-message').text(e.attr('data-addmessage'));\n\t\t\t}\n\n\t\t\tvar items = self.items = e.find('.items');\n\t\t\tself.itemsContent = items.find('.items-content');\n\n\t\t\t//CDH 2013-12-05 removed this during the rafactor needed for waypoints\n\t\t\t//self.data = [];\n\t\t\t//self.draw();\n\n\n\t\t\te.on('click', '.array-field-add, .array-field-add-message', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._handleAddButtonClick();\n\t\t\t});\n\n\t\t\te.on('click', '.array-field-delete', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\t$(this).parents('.array-field-item').first().remove();\n\t\t\t\tself._onDirty();\n\t\t\t\tself._trigger('afterdelete', ev);\n\t\t\t});\n\n\t\t\tself.itemsContent.sortable({\n\t\t\t\taxis: \"y\",\n\t\t\t\thandle: '.sort-handle',\n\t\t\t\tcontainment: self.itemsContent,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\tself._checkDirty();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * proxy dirty and clean events\n\t\t\t */\n\t\t\tself.dirty = false;\n\t\t\t//items.on('dirty', $.proxy(self._onDirty, self)).on('clean', $.proxy(self._onClean, self));\n\n\n\t\t\t/*\n\t\t\t * proxy clean/dirty events to hanlder functions\n\t\t\t */\n\t\t\te.on('dirty clean', function (ev) {\n\t\t\t\t/*\n\t\t\t\t * only listen to events from children of the widget,\n\t\t\t\t * that way a loop will not form when the element triggers\n\t\t\t\t * the same events\n\t\t\t\t */\n\t\t\t\tif(!$(ev.target).childOf(e)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\n\t\t\t\tif(ev.type === 'dirty'){\n\t\t\t\t\tself._onDirty();\n\t\t\t\t}else{\n\t\t\t\t\tself._onClean();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetId: function(){\n\t\t\treturn this.id;\n\t\t},\n\n\t\t_handleAddButtonClick: function () {\n\t\t\tvar self = this;\n\t\t\tif(self._trigger('beforeaddnewitem')){\n\t\t\t\t//default can be prevented\n\t\t\t\tself.addItem();\n\t\t\t}\n\t\t},\n\n\t\t_checkDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcurData = self.data,\n\t\t\t\tnewData = self.get();\n\n\t\t\tif(util.equals(newData, curData)){\n\t\t\t\tself.dirty = false;\n\t\t\t\tself.element.trigger('clean');\n\t\t\t}else{\n\t\t\t\tself.dirty = true;\n\t\t\t\tself.element.trigger('dirty');\n\t\t\t}\n\t\t},\n\n\t\t_onDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\t_onClean: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\tgetFieldInstances: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tfields = [];\n\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tfields.push($(this).find('.array-field-input-' + self.id));\n\t\t\t});\n\t\t\treturn fields;\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget') || 'inputField',\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tdata = [];\n\n\t\t\t/*\n\t\t\t$.each(self.fields, function (i, field) {\n\t\t\t\tvar val = field[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t*/\n\t\t\t\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tvar val = $(this).find('.array-field-input-' + self.id)[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\n\t\t\treturn data;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tvalid = true;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\tvalid = valid && $(this).find(':add123-inputField').inputField('validate');\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\tself.dirty = false;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\t\t\tself.set([]);\n\t\t},\n\n\t\tflash: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('flash');\n\t\t\t});\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this,\n\t\t\t\titems = self.items,\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tself._empty();\n\n\t\t\tif(!$.isArray(data)){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tself.data = data;\n\n\t\t\t$.each(data, function (i, item) {\n\t\t\t\tcontent.append(self.drawItem(item));\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * allows a different cleanup behavior for special lists (example: tms.tmsLocationTicketRoute)\n\t\t */\n\t\t_empty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcontent = self.itemsContent;\n\t\t\tcontent.children().remove(); // calls the destroy on widgets + removed them\n\t\t\t// content.empty(); //redundant\n\t\t},\n\n\t\taddItem: function (index, item) {\n\t\t\tvar self = this,\n\t\t\t\titemEl = self.drawItem(item),\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tif((index || index === 0) && index >= 0){\n\t\t\t\tcontent.children().eq(index).before(itemEl);\n\t\t\t}else{\n\t\t\t\t/*\n\t\t\t\t * if no insert index is defined, just append\n\t\t\t\t */\n\t\t\t\tcontent.append(itemEl);\n\t\t\t}\n\n\t\t\tself._trigger('afteradd', null, itemEl);\n\n\t\t\treturn itemEl || null;\n\t\t},\n\n\t\tdrawItem: function (item) {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget'),\n\t\t\t\titemView = $(self._arrayFieldItemTemplate);\n\n\t\t\tif(subWidget) {\n\t\t\t\tself._drawWidgetItem(item, itemView, subWidget);\n\t\t\t}else{\n\t\t\t\tself._drawInternalMarkupItem(item, itemView);\n\t\t\t}\n\t\t\treturn itemView;\n\t\t},\n\n\t\t_drawInternalMarkupItem: function (item, itemView) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $(self.subFieldMarkup());\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').html(field);\n\t\t\tfield.parent().find('input[type!=submit], select, textarea, [data-load-widget-as-field]')\n\t\t\t\t.inputField()\n\t\t\t\t.inputField('set', item)\n\t\t\t\t.addClass('array-field-input-' + self.id);\n\t\t},\n\n\t\t_drawWidgetItem: function (item, itemView, subWidget) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $('<div/>')[subWidget]();\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').append(field);\n\t\t\tfield[subWidget]('set', item).addClass('array-field-input-' + self.id).css('display', 'inline');\n\t\t},\n\n\t\tsubFieldMarkup: function () {\n\t\t\treturn this.subField;\n\t\t},\n\n\n\t\t_destroy: function(){\n\t\t\tvar self = this;\n\n\t\t\t// Remove everything and put the inital back\n\t\t\tself._empty(); //destroys the widgets gracefully\n\t\t\tself.element.empty();\n\t\t\tself.element.html(self.subField);\n\t\t}\n\t});\n})(jQuery);\n","/**\n * tms.textSubmitter widget\n *\n * You can type text then hit enter to trigger a submit event with the data and a callback.\n * Once submitted, the textbox is cleared and ready for new input.\n *\n * A send instruction message appears when focused\n */\n\n(function($){\n\t'use strict';\n\t\n\t// Converted the lang.sendInstruction to an option with 'press enter to submit' as a default\n\t// Note: this differs from the tms 'press enter to add note'\n\n\t$.widget(\"tms.textSubmitter\", {\n\t\t_textSubmitterTemplate:\n\t\t\t'<div class=\"text-submitter\">' +\n\t\t\t\t'<textarea name=\"text-entry\" rows=\"3\" />' +\n\t\t\t\t'<div class=\"send-instruction noselect\"></div>' +\n\t\t\t'</div>',\n\n\t\toptions: {\n\t\t\twidth: '300px',\n\t\t\tplaceholder: '',\n\t\t\tsendInstruction: 'press enter to submit',\n\t\t\trows: undefined, // default 3\n\t\t\tignoreEmptySubmit: false\t// submit when empty yes/no\n\t\t},\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\ttmp;\n\n\t\t\t/**\n\t\t\t * Setup html\n\t\t\t */\n\t\t\tself.container = $(self._textSubmitterTemplate);\n\n\t\t\te.append(self.container);\n\n\t\t\tself.textEntry = e.find('textarea[name=\"text-entry\"]');\n\n\t\t\tif(!isNaN(o.rows)) {\n\t\t\t\tself.textEntry.attr('rows', o.rows);\n\t\t\t}\n\n\t\t\tself.sendInstruction = e.find('.send-instruction').text(o.sendInstruction);\n\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\n\t\t\tself.textEntry.width(o.width).inputField({\n\t\t\t\tplaceholder: o.placeholder,\n\t\t\t\tstatusUpdate: function(ev, data) {\n\t\t\t\t\tif(data.statusName === 'disable'){\n\t\t\t\t\t\tif(data.value === false && self.textEntry.is(':focus')) {\n\t\t\t\t\t\t\t// Just been enabled and still on it\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t\t\t\tself.textEntry.removeAttr('readonly');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Just been disabled\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t\t\t\tself.textEntry.attr('readonly', true); // prevents edits during submit\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.element.width(o.width);\n\n\t\t\t/**\n\t\t\t * Handle events\n\t\t\t */\n\t\t\tself.textEntry\n\t\t\t\t.on('focus',function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t})\n\t\t\t\t.on('blur', function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t})\n\t\t\t\t.on('keydown', function (ev) {\n\t\t\t\t\tif (ev.which === 13 && !ev.shiftKey) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tself._submit();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t_submit: function () {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tif(self.textEntry.inputField('isDisabled') || \n\t\t\t\t(o.ignoreEmptySubmit && self.textEntry.inputField('isEmpty'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tself.disable();\n\n\t\t\tvar onComplete = function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\tself.clear();\n\t\t\t\t}\n\t\t\t\tself.enable();\n\t\t\t};\n\t\t\tself._trigger('submit', null, {text: self.get(), onComplete: onComplete});\n\t\t},\n\n\t\tset: function (text) {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('set', text);\n\t\t},\n\n\t\tsetInstruction: function(text){\n\t\t\tvar self = this;\n\n\t\t\tself.sendInstruction.text(text);\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.textEntry.inputField('get');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('clear');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('disable');\n\t\t},\n\n\t\tenable: function () {\n\t\t\tvar self = this;\n\t\t\tself.textEntry.inputField('enable');\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.container.remove();\n\t\t}\n\t});\n\t\n})(jQuery);\n","/*\n\t * Large Code Type Support (code)\n\t *\n\t * TODO: update this so that the code table does not have to global (e.g. assigned to window)\n\t *\n\t * Example Code Table:\n\t * [\n\t *   {\"value\" : \"100\",  \"label\" : \"BROWARD TRAILER\"},\n\t *   {\"value\" : \"AAA\",  \"label\" : \"122 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"BBB\",  \"label\" : \"22 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"CCC\",  \"label\" : \"333 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"EEE\",  \"label\" : \"444 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"ZZZ\",  \"label\" : \"MEADOW CREEK WELDING LLC.\"}\n\t * ]\n\t */\n\n\n\n(function($) {\n\t'use strict';\n\n\t/*\n\t * binary array search, codes must be in alpha order!\n\t */\n\tvar binarySearch = function(needle, haystack) {\n\t\tvar mid, element;\n\n\t\tif(!haystack.length) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar high = haystack.length - 1;\n\t\tvar low = 0;\n\n\t\tneedle = needle.toLowerCase();\n\n\t\t//TODO: only supporting case insensitive right now\n\t\twhile(low <= high) {\n\t\t\tmid = parseInt((low + high) / 2, 10);\n\t\t\telement = haystack[mid].value.toLowerCase();\n\t\t\tif(element > needle) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if(element < needle) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\treturn mid;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tvar codeListFilter = function(codeTable) {\n\t\treturn function(request, response) {\n\t\t\tif(request.term.length < 3) {\n\t\t\t\tresponse();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"i\");\n\n\t\t\tvar matches = $.grep(codeTable, function(value) {\n\t\t\t\treturn matcher.test(value.label) || matcher.test(value.value);\n\t\t\t});\n\n\t\t\tresponse(matches);\n\t\t};\n\t};\n\n\t$.add123.inputField.types.code = {\n\t\tsetUp: function(ui) {\n\t\t\tvar e = ui.element,\n\t\t\t\to = ui.options;\n\n\n\t\t\tvar codeTableName = e.data('codes');\n\n\t\t\tif(!codeTableName) {\n\t\t\t\tthrow new Error('not data-codes attribute given for input ' + e.attr('name'));\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * save code table reference to options\n\t\t\t */\n\t\t\to._codeTable = window[codeTableName];\n\n\t\t\tif(!o._codeTable) {\n\t\t\t\tthrow new Error('ERROR: data-codes points to an undefined window property window[' + codeTableName + '] for input [name=' + e.attr('name') + ']');\n\t\t\t}\n\n\t\t\te.autocomplete({\n\t\t\t\tsource: codeListFilter(o._codeTable)\n\t\t\t}).on('autocompleteselect.type-code', function(ev, ui) {\n\t\t\t\t/*\n\t\t\t\tif(ui.item && ui.item.label) {\n\t\t\t\t\t//o._layers.notice.html(ui.item.label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t}).on('keyup.type-code', function(ev) {\n\t\t\t\t/*\n\t\t\t\tvar val = binarySearch(e.val(), o._codeTable);\n\t\t\t\tif(val > -1) {\n\t\t\t\t\t//o._layers.notice.html(o._codeTable[val].label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t});\n\n\t\t},\n\t\ttearDown: function(ui) {\n\t\t\tvar o = ui.options,\n\t\t\t\te = ui.element;\n\t\t\te.html('').off('.type-code').autocomplete('destroy');\n\t\t\tdelete o.codeTable;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\tvar e = ui.element;\n\t\t\tif(binarySearch(e.val(), ui.options._codeTable) < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/*\n * Data Type 'date'\n *\n * Has calendar popup (bootstrap-datepicker)\n *\n * Attribute Settings:\n * data-minyear (default [-=15]) - Can be set to 'CURRENT'\n * data-maxyear (default [+=2]) - Can be set to 'CURRENT'\n * data-startdate (default 01/01/[minyear]) - trumps minyear if both set. Can be set to 'TODAY'\n * data-enddate (default 12/31/[maxyear]) - trumps maxyear if both set. Can be set to 'TODAY'\n * data-enforce-min (default false) - marks dates <startDate as invalid\n * data-enforce-max (default false) - marks dates >endDate as invalid\n */\n\n/*global util:true, moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\n\n\ttypes.date = {\n\t\tattributes: ['minyear', 'maxyear', 'startdate', 'enddate','enforceMax','enforceMin'],\n\t\tmomentStoreFormat: 'YYYY-MM-DD',\n\n\t\t_dateFormat: 'MM/DD/YYYY', // for output + datepicker\n\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element,\n\t\t\t\ttmp, startDate, endDate;\n\n\t\t\tui.placeholder(self._dateFormat);\n\n\t\t\tself.enforceMin = !!e.data('enforceMin');\n\t\t\tself.enforceMax = !!e.data('enforceMax');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\t// Determine year ends\n\t\t\tvar minYear = new Date().getFullYear() - 15,\n\t\t\t\tmaxYear = new Date().getFullYear() + 2;\n\n\t\t\ttmp = e.data('minyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tminYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tminYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmp = e.data('maxyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tmaxYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tmaxYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.startDate = '01/1/' + minYear;\n\t\t\tself.endDate = '12/31/' + maxYear;\n\n\t\t\t// Determine date ends and save for validation\n\n\t\t\ttmp = e.data('startdate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.startDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.startDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = e.data('enddate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.endDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.endDate = tmp;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\n\t\t\t// Setup datepicker\n\t\t\tvar datePickerOptions = {\n\t\t\t\tstartDate: self.startDate, \n\t\t\t\tendDate: self.endDate,\n\t\t\t\tautoclose: true,\n\t\t\t\tforceParse: false,\n\t\t\t\tformat: 'mm/dd/yyyy',\n\t\t\t\ttodayBtn: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tlanguage: util.lang.code\n\t\t\t};\n\n\t\t\te.datepicker(datePickerOptions);\n\n\t\t\t// Setup inputFilter\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\/]/,\n\t\t\t\tmax : 10,\n\t\t\t\ttoUpper: true\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/*\n\t\t\t * Store date in XSD standard: yyyy-mm-dd, display in dd/mm/yyy \n\t\t\t */\n\t\t\t\n\t\t\t/**\n\t\t\t * yyyy-mm-dd => mm/dd/yyyy\n\t\t\t */\n\t\t\ttoField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(5, 7) + '/' + val.substring(8, 10) + '/' + val.substring(0, 4);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * mm/dd/yyyy (local) => yyyy-mm-dd (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn val.substring(6, 10) + '-' + val.substring(0, 2) + '-' + val.substring(3, 5);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ui) {\n\t\t\tui.element.datepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\tdate = moment(ui.element.val(),self._dateFormat,true);\n\n\n\t\t\tif(!date.isValid() || \n\t\t\t\t(self.enforceMin && date.isBefore(moment(self.startDate, self._dateFormat))) ||\n\t\t\t\t(self.enforceMax && moment(self.endDate, self._dateFormat).isBefore(date))) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'display'\n *\n * Displays data and acts as a read-only inputField\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.display = {\n\t\tsetUp: function (ui) {\n\t\t\tvar e = ui.element;\n\n\t\t\te.parents('.field-item').hide();\n\t\t\te.parents('.field-items').append('<div class=\"input-display\"></div>');\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function (val, ui) {\n\t\t\t\tui.element.parents('.field-items').find('.input-display').html(val);\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn ui.element.parents('.field-items').find('.input-display').html().trim();\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'money'\n *\n * Attribute Settings:\n * data-currency-symbol (default=$) - Can modify currency symbol to any other symbol\n * data-show-symbol (default=true) - Choose whether or not to show currency symbol \n */\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.money = {\n\n\t\tattributes: ['currency-symbol', 'show-symbol', 'max-amount', 'min-amount'],\n\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\tself.element = e;\n\n\t\t\tself.currency = e.data('currency-symbol');\n\t\t\tself.showSymbol = e.data('show-symbol');\n\t\t\tself.max = e.data('max-amount');\n\t\t\tself.min = e.data('min-amount');\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\.]/\n\t\t\t}).change(function () {\n\t\t\t\tself._onChange();\n\t\t\t}).blur(function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t\tif(self.showSymbol === undefined || !!self.showSymbol)\n\t\t\t{\n\t\t\t\tif(!self.currency) {\n\t\t\t\t\tui.addOn(-100, '$');\n\t\t\t\t} else {\n\t\t\t\t\tui.addOn(-100, self.currency);\n\t\t\t\t}\n\t\t\t}\t\n\n\t\t},\n\t\t_onChange: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tcaret = e.caret();\n\n\t\t\te.val(self.format(e.val())).caret(caret.begin, caret.end);\n\t\t},\n\n\t\tformat: function (money) {\n\t\t\tvar self = this; \n\t\t\tif($.trim(money) === ''){\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// MISC-916 removed extra decimals that cause NaN\n\t\t\t\tif(isNaN(money)) {\n\t\t\t\t\tmoney = money.toString();\n\t\t\t\t\tvar count = 0; \n\t\t\t\t\tfor(var i = 0; i < money.length; i++){\n\n\t\t\t\t\t\tif((money[i]) === '.'){\n\t\t\t\t\t\tcount++;}\n\t\t\t\t\t}\n\t\t\t\t\tvar dec = money.indexOf('.');\n\t\t\t\t\tif(dec !== -1) {\n\t\t\t\t\t\tmoney = money.replace(/\\./g,'');\n\t\t\t\t\t\tmoney = money.substring(0,dec) + '.' + money.substring(dec);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tmoney = parseFloat(money);\n\t\t\t\t}\n\t\t\t\treturn (+money).toFixed(2);\n\t\t\t} catch(err) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif($.trim(val) === ''){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn +this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function(ifw){\n\t\t\tvar self = this; \n\n\t\t\tif(self.max || self.min){\n\t\t\t\tvar e = ifw.element,\n\t\t\t\t\tenteredAmount = +ifw.get();\n\n\t\t\t\tif(self.max && enteredAmount > self.max){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'over'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(self.min && enteredAmount < self.min){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'under'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'phone'\n *\n * \n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.phone = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9()\\s\\-x]/\n\t\t\t});\n\n\t\t\te.on('blur', function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tformat: function (text) {\n\n\n\t\t\tif(!text){\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * find extension delimeter\n\t\t\t */\n\t\t\tvar extensionStart = 0,\n\t\t\t\txlocation = text.indexOf('x'),\n\t\t\t\tlastSpace = text.lastIndexOf(' '),\n\t\t\t\text = '',\n\t\t\t\textraExt = '';\n\n\t\t\tif(xlocation > 0){\n\t\t\t\textensionStart = xlocation;\n\t\t\t}else if(lastSpace > 7){\n\t\t\t\textensionStart = lastSpace;\n\t\t\t}\n\n\t\t\tif(extensionStart > 0){\n\t\t\t\text = text.substring(extensionStart + 1);\n\t\t\t\ttext = text.substring(0, extensionStart);\n\t\t\t}\n\n\t\t\tvar num = $.trim(text.replace(/[()\\s\\-]/g, '')),\n\t\t\t\tnumberLength = num.length;\n\n\n\t\t\tif(num[0] === '1'){\n\t\t\t\tnum = num.substring(1);\n\t\t\t\tnumberLength--;\n\t\t\t}\n\n\t\t\tif(numberLength > 10){\n\t\t\t\textraExt = num.substring(10);\n\t\t\t\tnum = num.substring(0, 10);\n\t\t\t\tnumberLength = 10;\n\t\t\t}\n\n\t\t\tif (numberLength === 7) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3);\n\t\t\t} else if (numberLength === 10) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3,6) + '-' + num.substring(6);\n\t\t\t}\n\n\t\t\text = extraExt + ext;\n\n\t\t\tnum = num.replace(/[^0-9^x^-]/g, '');\n\t\t\text = ext.replace(/[^0-9^x^-]/g, '');\n\n\t\t\tif(ext){\n\t\t\t\tnum += 'x' + ext;\n\t\t\t}\n\n\t\t\treturn num;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\t///^([0-9]{3}-)?[0-9]{3}-[0-9]{4}(x[0-9]+)?$/ simple regex\n\t\t\tif(!ui.element.val().match(/^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/)) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\t\n\n})(jQuery);","/**\n * Basic Regex data types\n * \n * Types defined:\n *  - utext\n *  - integer\n *  - number\n *  - state\n *  - feid\n *  - zip\n *  - email\n *\n * Type Creator defined:\n *  - createRegexType(pattern, filter, flags, max)\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\tvar cannedFormatters = {\n\t\ttrim: function(val) {\n\t\t\treturn $.trim(val);\n\t\t}\n\t};\n\n\t/*\n\t * helper function to build basic types\n\t */\n\tvar createRegexType = function(pattern, filter, flags, max) {\n\t\tif(flags === undefined) {\n\t\t\tflags = {};\n\t\t}\n\t\tif(flags.toUpper !== false) {\n\t\t\tflags.toUpper = true;\n\t\t}\n\n\t\tvar type = {\n\t\t\tvalidate: function(ui) {\n\t\t\t\tif(!ui.element.val().match(pattern)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(filter || max) {\n\t\t\ttype.setUp = function(ui) {\n\n\t\t\t\tvar filterData = {\n\t\t\t\t\tpattern: filter || /./,\n\t\t\t\t\ttoUpper: flags.toUpper,\n\t\t\t\t\tmax: max || 0\n\t\t\t\t};\n\n\t\t\t\tif(ui.element.attr('data-max')){\n\t\t\t\t\tfilterData.max = ui.element.attr('data-max');\n\t\t\t\t}\n\n\t\t\t\t//console.log('setup ', ui.element.attr('name'), filterData, max);\n\t\t\t\tui.element.inputFilter(filterData);\n\t\t\t};\n\t\t}\n\n\t\tif(flags.cannedFormatter !== undefined) {\n\t\t\tif($.isFunction(cannedFormatters[flags.cannedFormatter])) {\n\t\t\t\ttype.format = cannedFormatters[flags.cannedFormatter];\n\n\t\t\t\t// add converters\n\t\t\t\ttype.converter = {\n\t\t\t\t\ttoField: function (val, ui) { return type.format(val); },\n\t\t\t\t\tfromField: function (val, ui) { return type.format(val); }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t};\n\t$.add123.inputField.createRegexType = createRegexType;\n\n\n\t/*\n\t * basic types\n\t */\n\t$.extend(types, {\n\t\t'utext': createRegexType(/.*/, /.*/, {\n\t\t\ttoUpper: true\n\t\t}),\n\t\t'integer': createRegexType(/^[0-9]*$/, /[0-9]/),\n\t\t'number': createRegexType(/^-?[0-9]+\\.?[0-9]*$/, /[-0-9.]/),\n\t\t'state': createRegexType(/^[A-Z]{2}$/, /[A-Z]/, {}, 2),\n\t\t'feid': createRegexType(/^[0-9]{2}\\-?[0-9]{7}$/, /[0-9\\-]/, {}, 10),\n\t\t'zip': createRegexType(/(^\\d{5}(\\-?\\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} ?\\d{1}[A-Za]{1}\\d{1})$/, /[0-9A-Z\\s\\-]/, {}, 10),\n\t\t'email': createRegexType(/^(?!.*\\.{2})[A-Za-z0-9._%+\\-]+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,4}$/, /[A-Za-z0-9._%+\\-@]/, {\n\t\t\ttoUpper: false,\n\t\t\tcannedFormatter: 'trim'\n\t\t})\n\t});\n\t\n\n})(jQuery);","/**\n * Datatype 'select'\n * \n */\n\n(function($) {\n\t'use strict';\n\t\n\tvar doc = $(document);\n\t$.add123.inputField.types.select = {\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this, // Object = {}\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\t\t\tself.source = [];\n\t\t\tself.inputWidget = inputWidget;\n\n\t\t\tvar fieldGroup = self.fieldGroup = inputWidget.field.parents('.input-field-group');\n\n\t\t\tif(e.is('select')){\n\t\t\t\tconsole.log('** ERROR: deprecated use of <select> in the select type **');\n\t\t\t}\n\n\t\t\te.css('opacity', 0);\n\n\t\t\t/*\n\t\t\t * width(inputWidget.layers.items.width() - 26).\n\t\t\t */\n\t\t\tvar shim = self.shim = $('<div class=\"shim\" style=\"width:100%;height:100%;position:absolute;top:0;left:0;\"><div style=\"padding:0 25px 0 6px;overflow:hidden;\"><div style=\"overflow:hidden;\"></div></div></div>').insertAfter(e);\n\n\t\t\tinputWidget.field.addClass('select-box');\n\n\t\t\tself.iconClosed = $('<span class=\"tms-icon tms-icon-sort-down dropdown-closed-icon\"></span>').insertAfter(e);\n\t\t\tself.iconOpen = $('<span class=\"tms-icon tms-icon-sort-up dropdown-open-icon\"></span>').insertAfter(e).hide();\n\t\t\t/*\n\t\t\tself.iconClear = $('<span class=\"tms-icon tms-icon-erase clear-icon\"></span>').insertAfter(shim).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tself.clear();\n\t\t\t\te.change();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t*/\n\t\t\tvar panel = self.panel = $('<div class=\"dropdown-panel\"><div class=\"tms-select-dropdown-content\"><div class=\"search\" style=\"position:relative;\"/><div class=\"options\" style=\"position:relative;\"/></div></div>').hide();\n\t\t\tself.options = panel.find('.options');\n\n\t\t\tinputWidget.layers.items.append(panel).css('position', 'relative');\n\n\t\t\tvar selectionClass = self.sectionClass =  'selected';\n\n\t\t\tpanel.on('click', '.option', function () {\n\t\t\t\tself._setSelected();\n\t\t\t}).on('mouseenter', '.option', function () {\n\t\t\t\tpanel.find('.' + selectionClass).removeClass(selectionClass);\n\t\t\t\t$(this).addClass(selectionClass);\n\t\t\t}).on('mouseleave', '.option', function () {\n\t\t\t\t$(this).removeClass(selectionClass);\n\t\t\t});\n\n\t\t\tinputWidget.layers.items.on('click', function (ev) {\n\t\t\t\tif (inputWidget.states.disable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(target.childOf(panel, true)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * stop all enter and esc key events to leave the field\n\t\t\t */\n\t\t\t/*\n\t\t\tinputWidget.field.on('keydown', function (ev) {\n\n\t\t\t\tif(ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself._setSelected();\n\t\t\t\t}\n\n\n\t\t\t\tif(ev.which === 27 || ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.element.focus();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t*/\n\n\t\t\t/*\n\t\t\t * build filter input\n\t\t\t */\n\t\t\tvar filter = self.filter = $('<input type=\"text\" class=\"filter-box\" style=\"width:100%; position:relative; cursor:text;\" />').appendTo(panel.find('.search')).inputField();\n\t\t\tfilter.after('<span class=\"tms-icon tms-icon-search\" style=\"position:absolute;right: 7px;top: 1px; font-size: 15px; cursor: default; pointer-events:none;\"></span>');\n\t\t\tfilter.parents('.field-item').first().addClass('first');\n\n\t\t\tfilter.parent().css('display', 'block').parent().css('display', 'block').parent().css('display', 'block');\n\t\t\tfilter.parent().css('padding-right', '30px');\n\t\t\t/*\n\t\t\t * kill click event, to prevent the inputField from grabbing focus\n\t\t\t */\n\n\t\t\tfilter.on('click', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * down 40\n\t\t\t * up 39\n\t\t\t * left 37\n\t\t\t * right 39\n\t\t\t */\n\n\n\t\t\te.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keyup', $.proxy(self._onKeyup, self));\n\n\t\t\tfilter.on('dirty clean', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\tself.closeListener = function (ev) {\n\t\t\t\tvar which = ev.which;\n\t\t\t\t/*\n\t\t\t\tif(ev.which === 9){\n\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif(which === 27 || which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\tif(which === 13){\n\t\t\t\t\t\tself._setSelected();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!target.childOf(panel, true) && !target.childOf(fieldGroup, true)){\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.update();\n\t\t},\n\n\t\t_keyDownNavigate: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tselectionClass = self.sectionClass,\n\t\t\t\twhich = ev.which;\n\n\t\t\t/*\n\t\t\t * special handling for tab, does not perform any function (keeping for legacy)\n\t\t\t */\n\t\t\tif(which === 9){\n\t\t\t\tself.element.next('input').focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif(which === 27 || which === 13){\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar selected, next;\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 40){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:first').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.next();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 38){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:last').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.prev();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\tif(which < 32 || which > 126){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.open();\n\t\t},\n\n\t\t_onKeyup: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tfilter = self.filter,\n\t\t\t\twhich = ev.which,\n\t\t\t\tval = filter.val();\n\n\t\t\tif(self.filterValue === val){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = val;\n\n\n\t\t\tself._filterOptions();\n\t\t},\n\n\t\t_setSelected: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\t/*\n\t\t\t * use the first value if none of the options are selected\n\t\t\t */\n\t\t\tif(!selected.length){\n\t\t\t\tself._selectFirstNonEmptyOption();\n\t\t\t}\n\n\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\tvar item = self.item = selected.data('item');\n\t\t\t/*\n\t\t\t * TMS-1137\n\t\t\t * if nothing is selected, ignore this call\n\t\t\t */\n\t\t\tif(!item){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._setLabel(self.renderLabel(item));\n\n\t\t\tself.close();\n\t\t\te.val(self.item.value);\n\t\t\te.focus();\n\t\t\te.change();\n\t\t\tself.inputWidget.redraw();\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\t_selectFirstNonEmptyOption: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.find('.option:not(.filtered):visible').each(function () {\n\t\t\t\tvar option = $(this);\n\t\t\t\tif(option.html()){\n\t\t\t\t\toption.addClass('selected');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_set: function (val) {\n\t\t\tvar self = this;\n\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\n\t\t\tself.item = undefined;\n\n\t\t\tself.loaded.done(function () {\n\t\t\t\tself._removeSelection();\n\t\t\t\tvar options = self.panel.find('.option');\n\n\t\t\t\toptions.each(function () {\n\t\t\t\t\tvar item = $(this),\n\t\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\t\tif(self._equal(itemData, val)){\n\t\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\t\tself.item = itemData;\n\t\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!self.item || !self.item.value){\n\t\t\t\t\tif(self.inputWidget._trigger('itemnotfound', null, [val])){\n\t\t\t\t\t\tself._handleItemNotFound();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_removeSelection: function () {\n\t\t\tthis.panel.find('.option.selected').removeClass('selected');\n\t\t},\n\n\t\t_handleItemNotFound: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tself._setDefaultItem();\n\n\t\t\tif(!self.item || !self.item.value){\n\t\t\t\tself._selectFirstItem();\n\t\t\t}\n\t\t},\n\n\t\t_setDefaultItem: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option'),\n\t\t\t\tdefaultValue =  { value: e.attr('data-default')};\n\n\t\t\toptions.each(function () {\n\t\t\t\tvar item = $(this),\n\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\tif(self._equal(itemData, defaultValue)){\n\t\t\t\t\tif(e.attr('name') === 'params.category'){\n\t\t\t\t\t\tconsole.log('found defaultValue', defaultValue, itemData);\n\t\t\t\t\t}\n\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\tself.item = itemData;\n\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_selectFirstItem: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option');\n\n\t\t\tself.item = options.first().addClass('selected').data('item');\n\t\n\t\t\tif(self.item && self.item.label) {\n\t\t\t\tself._setLabel(self.item.label);\n\t\t\t} else {\n\t\t\t\tself._setLabel('');\n\t\t\t}\n\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\tshowHideCommand: function () {\n\t\t\tvar self = this,\n\t\t\t\tshowClass = self.item && self.item.showClass,\n\t\t\t\tsections = self.showHideSections;\n\n\t\t\tif(!sections){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.hide();\n\n\t\t\tif(!showClass){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.filter('.' + showClass).show();\n\t\t},\n\n\t\tclear: function (andSelectNothing) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.item = {};\n\t\t\tself.panel.find('.selected').removeClass('selected');\n\t\t\te.val('');\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\t\t\tself.shim.children().children().text('');\n\n\t\t\tif(!andSelectNothing) {\n\t\t\t\tself._handleItemNotFound();\n\t\t\t}\n\n\t\t\tself.inputWidget.redraw();\n\t\t},\n\n\t\t_equal: function (a, b) {\n\t\t\treturn a && b && a.value === b.value;\n\t\t},\n\n\t\t_setLabel: function (text) {\n\t\t\tthis.shim.children().children().text(text);\n\t\t},\n\n\t\t/*\n\t\t * used for testing\n\t\t */\n\t\t_getLabel: function () {\n\t\t\treturn this.shim.children().children().text();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tvar self = this;\n\t\t\tif(self.panel.is(':visible')){\n\t\t\t\tself.close();\n\t\t\t}else{\n\t\t\t\tself.open();\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * this options was built for testing\n\t\t */\n\t\tgetOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\toptionPanel = self.panel.find('.option'),\n\t\t\t\toptions = [];\n\n\t\t\toptionPanel.each(function () {\n\t\t\t\toptions.push($(this).data('item'));\n\t\t\t});\n\n\t\t\treturn options;\n\t\t},\n\n\t\t_filterOptions: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.addClass('filtering');\n\t\t\tif(self.filterTimer){\n\t\t\t\tclearTimeout(self.filterTimer);\n\t\t\t}\n\t\t\tself.filterTimer = setTimeout(function() {\n\t\t\t\tself.__filterOptionsWork();\n\t\t\t}, 200);\n\t\t},\n\n\t\t__filterOptionsWork: function (optionsElements) {\n\t\t\tvar self = this,\n\t\t\t\tval = self.filterValue;\n\t\t\t/*\n\t\t\tif(val && item.label && item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/\n\n\t\t\tself.panel.addClass('filtering');\n\n\t\t\tif(!optionsElements){\n\t\t\t\toptionsElements = self.panel.find('.option');\n\t\t\t}\n\t\t\t\n\t\t\tif(!optionsElements.length){\n\t\t\t\tself.panel.removeClass('filtering');\n\t\t\t\tself.inputWidget._trigger('filterdone');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar optionsToProcessNow = optionsElements.splice(0,1000);\n\n\t\t\t$.each(optionsToProcessNow, function (i, optionsEl) {\n\t\t\t\tself._filterItem($(optionsEl), val);\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.__filterOptionsWork(optionsElements);\n\t\t\t}, 0);\n\t\t},\n\n\t\t_filterItem: function (optionEl, val) {\n\t\t\tvar self = this,\n\t\t\t\titem = optionEl.data('item');\n\n\t\t\tif(self._itemShoudBeFiltered(item, val)){\n\t\t\t\toptionEl.addClass('filtered');\n\t\t\t}else{\t\t\t\n\t\t\t\toptionEl.removeClass('filtered');\n\t\t\t}\n\t\t},\n\n\t\t_itemShoudBeFiltered: function (item, val) {\n\t\t\tif(!val){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(!item.label){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null;\n\t\t},\n\n\t\t_clearFilter: function () {\n\t\t\tvar self = this;\n\t\t\tself.filter.val('');\n\t\t\tself.panel.find('.option.filtered').removeClass('filtered');\n\t\t},\n\n\t\t_buildEmptyOption: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\temptyLabel = e.data('emptyLabel');\n\n\t\t\tif(emptyLabel !== '' && !emptyLabel){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.source.unshift({\n\t\t\t\tlabel: emptyLabel,\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t},\n\n\t\t_buildOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\toptions = self.options;\n\n\t\t\tself.element.trigger('tmsselectbeforebuild');\n\n\t\t\toptions.empty();\n\n\t\t\tvar optionsbuffer = $('<div/>');\n\n\t\t\tif (!e.data('noSort')) {\n\t\t\t\tself._sort(self.source);\n\t\t\t}\n\n\t\t\tself._buildEmptyOption();\n\n\t\t\t$.each(self.source, function (i, item) {\n\t\t\t\t\n\t\t\t\tvar option = $('<div class=\"option\"/>'),\n\t\t\t\t\trenderedItem = self.renderItem(item);\n\n\t\t\t\tif(renderedItem !== null){\n\t\t\t\t\toption.append(renderedItem).data('item', item);\n\t\t\t\t\toptionsbuffer.append(option);\n\t\t\t\t}\n\n\t\t\t\tif(renderedItem === ''){\n\t\t\t\t\toption.height(20);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.append(optionsbuffer);\n\t\t\tself.element.trigger('tmsselectafterbuild', [options]);\n\t\t},\n\n\t\t_sort: function (items) {\n\t\t\titems.sort(function (a, b) {\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar al = a.label.toLowerCase(), bl = b.label.toLowerCase();\n\t\t\t\treturn al > bl ? 1 : al < bl ? -1 : a.label > b.label ? 1 : a.label < b.label ? -1 : 0;\n\t\t\t});\n\t\t},\n\n\t\t_scroll: function () {\n\t\t\tvar self = this,\n\t\t\t\toptions = self.options;\n\n\t\t\tif(!self.panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar selected = self.panel.find('.selected');\n\n\t\t\t\tif(selected.length === 0){\n\t\t\t\t\toptions.scrollTop(0);\n\t\t\t\t}else{\n\t\t\t\t\toptions.scrollTop(selected.position().top - selected.before().outerHeight());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}, 0);\n\n\n\t\t\t/*\n\t\t\tsetTimeout(function() {\n\t\t\t\tpanel.find('.options').scrollTop(0);\n\t\t\t}, 0);\n\t\t\t*/\n\t\t},\n\n\t\topen: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tinputLayer = self.inputWidget.layers.input,\n\t\t\t\titemsLayer = self.inputWidget.layers.items;\n\n\n\t\t\tif(panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = '';\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tvar leftOffset = 0;\n\t\t\tif(inputLayer.index()){\n\t\t\t\tleftOffset = inputLayer.position().left - 1;\n\t\t\t}\n\n\t\t\tpanel.width(e.width()).css({\n\t\t\t\tleft: leftOffset,\n\t\t\t\ttop: (itemsLayer.height() - 1) + 'px',\n\t\t\t\twidth: (e.outerWidth() ) + 'px'\n\t\t\t}).hide();\n\n\t\t\tself.iconClosed.hide();\n\t\t\tself.iconOpen.show();\n\t\t\tpanel.show();\n\t\t\tself.filter.focus();\n\t\t\t//self.filter.hide();\n\n\t\t\tself._scroll();\n\t\t},\n\n\t\trenderLabel: function (item) {\n\t\t\treturn (item && item.label) || '';\n\t\t},\n\n\t\trenderItem: function (item) {\n\t\t\treturn item.label;\n\t\t},\n\n\t\tclose: function () {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tfilter = self.filter;\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tpanel.hide();\n\n\t\t\tself._clearFilter();\n\n\t\t\tself.iconClosed.show();\n\t\t\tself.iconOpen.hide();\n\t\t},\n\n\t\tupdate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\t// Clear any selected option \n\t\t\tself.clear(true);\n\n\t\t\t// Setup the new options \n\t\t\tself.loaded = $.Deferred();\n\t\t\tself.load().done(function (source) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = [];\n\t\t\t\t}\n\t\t\t\tself.source = source;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.removeInvalid();\n\t\t\t\t}, 0);\n\n\t\t\t\tself._buildOptions();\n\n\t\t\t\t/*\n\t\t\t\t * hide the filter if less then five items are returned\n\t\t\t\t */\n\t\t\t\tif (self.filter && self.filter.data('inputField')) {\n\t\t\t\t\tif(source.length < 5){\n\t\t\t\t\t\tself.filter.inputField('hide');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.filter.inputField('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * scan for showClass commands\n\t\t\t\t */\n\t\t\t\tvar form, sections = $([]);\n\n\t\t\t\t$.each(source, function (i, item) {\n\t\t\t\t\tif(item.showClass){\n\t\t\t\t\t\tif(!form){\n\t\t\t\t\t\t\tform = e.parents(':add123-formBuilder').first();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsections = sections.add(form.find('.' + item.showClass));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.showHideSections = sections;\n\t\t\t\tself.loaded.resolve();\n\t\t\t\tself.showHideCommand();\n\t\t\t});\n\t\t\treturn self.loaded;\n\t\t},\n\n\t\tremoveInvalid: function (ev, ui) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element, \n\t\t\t\tval = e.val(),\n\t\t\t\tsource = self.source, \n\t\t\t\tl = source.length, \n\t\t\t\ti; \n\n\t\t\t/*\n\t\t\t * if ui.item is set, the autocomplete just set this\n\t\t\t * and it does not need to be checked\n\t\t\t */\n\t\t\tif(ui && ui.item){\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t/*\n\t\t\t * verify that the current self.item matches an id in the source and that the label matches\n\t\t\t */\n\t\t\tfor(i = 0; i < l; i++){\n\t\t\t\tif(source[i].label === val && self.item && self.item.value === source[i].value){\n\t\t\t\t\tself.item = source[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.val('');\n\t\t},\n\n\t\tsetOptions: function(options) {\n\t\t\tvar self = this;\n\n\t\t\tself.optionsMap = options;\n\t\t\tself.optionsSetDynamically = true;\n\t\t\tself.update();\n\t\t},\n\t\t/*\n\t\t * returns a sorted array of objects that have value and label properties\n\t\t */\n\t\tload: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tsource = [],\n\t\t\t\tdataOptions;\n\n\t\t\tif(self.optionsSetDynamically) {\n\t\t\t\t// Options already loaded from setOptions\n\t\t\t\tself.optionsSetDynamically = false;\n\t\t\t\treturn $.when(self.optionsMap);\n\t\t\t}\n\n\t\t\t// Load options from DOM\n\t\t\tdataOptions = e.attr('data-options');\n\n\t\t\tif(dataOptions) {\n\t\t\t\tsource = $.parseJSON(dataOptions);\n\t\t\t} else {\n\t\t\t\te.find('option').each(function () {\n\t\t\t\t\tvar option = $(this);\n\t\t\t\t\tsource.push({\n\t\t\t\t\t\tlabel: option.text(),\n\t\t\t\t\t\tvalue: option.val()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $.when(source); // returns a promise object\n\t\t},\n\n\t\tmap: function (raw) {\n\t\t\treturn {\n\t\t\t\tlabel: raw,\n\t\t\t\tvalue: raw\n\t\t\t};\n\t\t},\n\n\t\tdeMap: function (obj) {\n\t\t\tif(!obj){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj.value || null;\n\t\t},\n\n\t\tisEmpty: function () {\n\t\t\tvar self = this,\n\t\t\t\tdata = self.deMap(self.item);\n\n\t\t\treturn data !== 0 && !data;\n\t\t},\n\n\t\tconverter: {\n\n\t\t\tfromField: function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdata = self.item;\n\t\t\t\tif(data === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar val = self.deMap(data);\n\n\t\t\t\tif(val === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\ttoField: function (rawdata) {\n\t\t\t\tvar self = this,\n\t\t\t\t\te = self.element,\n\t\t\t\t\tdata = self.map(rawdata);\n\n\t\t\t\tif(!rawdata && typeof e.data('default') !== 'undefined') {\n\t\t\t\t\tdata = self.map(e.data('default'));\n\t\t\t\t}\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._set(data);\n\n\t\t\t\tif (!self.item) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn self.item.label;\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'text'\n *\n * This is the default type and has no special features.\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\t\n\n})(jQuery);","/**\n * Data Type 'time'\n *\n * Has a dropdown with shortcuts.\n *\n * Attribute Settings:\n * data-step (default=30) - Minute increment between times in dropdown\n * data-military - Converts time into 24-hour\n * data-store-utc (default true) - keeps set/get in utc time zone format, rather than local.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.time = {\n\t\tattributes: ['step', 'military','storeUtc'],\n\t\tmomentStoreFormat: 'HH:mm',\n\n\t\t_regex: /^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,\n\t\t_regex2400: /^(([01]?[0-9])|(2[0-3])):[0-5][0-9]$/,\n\n\t\tsetUp: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element;\n\n\t\t\tself.military = !!e.data('military');\n\t\t\tself.step = e.data('step');\n\t\t\tself.storeUtc = e.data('storeUtc');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tif(!self.military)\n\t\t\t{\n\t\t\t\tifw.placeholder('H:MMam/pm');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:apm]/,\n\t\t\t\t\tmax: 7\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tifw.placeholder('HH:MM');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:]/,\n\t\t\t\t\tmax: 5\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\n\t\t\te.timepicker({\n\t\t\t\tappendTo: ifw.getField(),\n\t\t\t\tselectOnBlur: false,\n\t\t\t\tstep: self.step, //default is 30 and will be set if undefined\n\t\t\t\ttimeFormat: self.military?'H:i':'g:ia'\n\t\t\t});\n\n\t\t\t// Make sure the timepicker width matches the field width\n\t\t\te.on('showTimepicker', function(){\n\t\t\t\tvar newWidth = e.outerWidth();\n\t\t\t\tif(newWidth < 80) {\n\t\t\t\t\tnewWidth = 80;\n\t\t\t\t}\n\t\t\t\tifw.getField().children('.ui-timepicker-wrapper').width(newWidth);\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * convert from moment format HH:mm (utc) to h:mma (local)\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}:[0-9]{2}$/)){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\ttime = moment.utc(val, self.momentStoreFormat, true);\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert utc back to local for display\n\t\t\t\t\ttime.local();\n\t\t\t\t}\n\n\t\t\t\treturn time.format(self.military? 'H:mm' : 'h:mma');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * convert from moment format h:mma (local) to HH:mm (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\t\t\t\t\n\t\t\t\tif(!val || !val.match(self.military? self._regex2400 : self._regex)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\n\t\t\t\ttime = moment(val, self.military? 'H:mm' : 'h:mma');\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert to utc for storage\n\t\t\t\t\ttime.utc();\n\t\t\t\t}\n\n\t\t\t\t// Return in 24hr format\n\t\t\t\treturn time.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tifw.element.timepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tinvalidMessage = {message: 'invalid'},\n\t\t\t\tvalid;\n\n\t\t\tvalid = self.military? val.match(self._regex2400) : val.match(self._regex);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn invalidMessage;\n\t\t\t}\n\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data Type 'tmsQuantityUnit'\n * \n * For general unit input with some autocompletes\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\tvar units = ['MI', 'KM', 'HR', 'MIN', 'DAYS', 'PKGS'];\n\ttypes.tmsQuantityUnit = {\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\to = ui.options,\n\t\t\t\te = ui.element;\n\n\t\t\tself.e = e;\n\n\t\t\te.inputFilter({\n\t\t\t\ttoUpper: true,\n\t\t\t\tpattern: /./\n\t\t\t});\n\n\t\t\te.autocomplete({\n\t\t\t\tminLength: 0,\n\t\t\t\tautoFocus: false,\n\t\t\t\tappendTo: ui.getField(),\n\t\t\t\tposition: {\n\t\t\t\t\tmy: \"left top+6\", // may be theme dependent\n\t\t\t\t\tat: \"left bottom\",\n\t\t\t\t\tof: e,\n\t\t\t\t\tcollision: \"none\"\n\t\t\t\t},\n\n\t\t\t\tsource: units\n\t\t\t});\n\t\t}\n\t};\n\t\n})(jQuery);\n","/**\n * Data Type 'dateTime'\n * \n * A combination of two InputFields, date & time.\n *\n * The original inputfield is hidden between them.\n *\n * Format: 'YYYY-MM-DDTHH:mm:ssZ' in UTC\n *\n * Attribute Settings:\n * data-time-width-ratio (default=0.5, min=.2, max=.8) \n * data-store-utc (default true) keeps set/get in utc time zone format, rather than local.\n *\n * CSS Settings:\n * min-width (default=270px, min=100px)\n *\n * Attributes specific for date or time will be passed to them.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.dateTime = {\n\t\tmomentStoreFormat: 'YYYY-MM-DDTHH:mm:ss[Z]',\n\n\n\t\tsetUp: function(inputFieldWidgetInstance) {\n\t\t\tvar self = this,\n\t\t\t\te = inputFieldWidgetInstance.element;\n\n\n\t\t\t// Get option constants\n\t\t\tself.storeUtc = e.data('storeUtc');\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tself.ifw = inputFieldWidgetInstance;\n\n\t\t\tself._setUpFields();\n\t\t\tself._refreshFieldWidth();\n\t\t\tself._setUpCleanDirtyEvents();\n\n\t\t\tself.ifw.element.on('resize', function(ev){\n\t\t\t\tself._refreshFieldWidth();\n\t\t\t});\n\t\t},\n\n\t\t_setUpFields: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.ifw.element,\n\t\t\t\tfieldItems = self.ifw.element.parent().parent(),\n\t\t\t\toptions, tmp, i;\n\n\t\t\tself.ifw.element.parent().hide();\n\n\t\t\t// Create the elements\n\t\t\tself.dateWidget = $('<input type=\"text\" data-type=\"date\"/>');\n\t\t\tself.timeWidget = $('<input type=\"text\" data-type=\"time\"/>');\n\n\t\t\t// Pass date attributes\n\t\t\tfor(i = 0; i < types.date.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.date.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.dateWidget.data(types.date.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Pass time attributes\n\t\t\tfor(i = 0; i < types.time.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.time.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.timeWidget.data(types.time.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\trequire: true\n\t\t\t};\n\n\t\t\t// Create the widgets\n\t\t\tself.dateWidget.prependTo(fieldItems).inputField(options);\n\t\t\tself.timeWidget.appendTo(fieldItems).inputField(options);\n\n\t\t\tself.dateWidget.parent().addClass('first');\n\n\t\t\tself.timeWidgetInstance = self.timeWidget.data('add123InputField');\n\t\t\tself.dateWidgetInstance = self.dateWidget.data('add123InputField');\n\t\t},\n\n\t\t/**\n\t\t * Make sure the child widgets' total width is equal to the base element's width\n\t\t */\n\t\t_refreshFieldWidth: function() {\n\t\t\tvar self = this,\n\t\t\t\tfullWidth = self.ifw.element.width(),\n\t\t\t\telDate = self.dateWidget,\n\t\t\t\telTime = self.timeWidget,\n\t\t\t\ttimeWidthRatio,\n\t\t\t\tminWidth;\n\t\t\t\t\t\n\t\t\t\t// Take out widghet margins/padding from outer width\n\t\t\t\tfullWidth -= elDate.outerWidth(true) - elDate.width();\n\t\t\t\tfullWidth -= elTime.outerWidth(true) - elTime.width();\n\t\t\t\t\n\t\t\t\t// Prevent it from being too small\n\t\t\t\tminWidth = self.ifw.element.css('min-width');\n\t\t\t\tif(minWidth !== null) {\n\t\t\t\t\tminWidth = parseInt(minWidth, 10);\n\t\t\t\t}\n\t\t\t\tif(isNaN(minWidth) || minWidth < 100) {\n\t\t\t\t\tminWidth = 270; //default\n\t\t\t\t}\n\n\t\t\t\tif(fullWidth < minWidth) {\n\t\t\t\t\tfullWidth = minWidth;\n\t\t\t\t}\n\n\t\t\t\t// Set time width at ratio and give the rest to date\n\t\t\t\ttimeWidthRatio = self.ifw.element.data('timeWidthRatio');\n\t\t\t\tif(isNaN(timeWidthRatio) || timeWidthRatio < 0.2 || 0.8 < timeWidthRatio) {\n\t\t\t\t\ttimeWidthRatio = 0.5; //default\n\t\t\t\t}\n\n\t\t\t\telTime.width(fullWidth * timeWidthRatio);\n\t\t\t\telDate.width(fullWidth - elTime.width());\n\t\t},\n\n\t\t_setUpCleanDirtyEvents: function() {\n\t\t\tvar self = this;\t\n\n\t\t\tself.dateWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\n\t\t\tself.timeWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * No need to worry about utc/local. Handled in type time.\n\t\t\t * All retrived/set times should be in utc\n\t\t\t *\n\t\t\t * Seconds are included in the formatting but are ignored and \n\t\t\t * always set to 00\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tsplitDate = self._splitDateAndTime(val);\n\n\t\t\t\tself.timeWidgetInstance.set(splitDate.time);\n\t\t\t\tself.dateWidgetInstance.set(splitDate.date);\n\t\t\t}, \n\t\t\t\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tlocalDate = self.dateWidgetInstance.get(),\n\t\t\t\t\ttime = self.timeWidgetInstance.get(),\n\t\t\t\t\tdateTime;\n\n\t\t\t\t// If one is empty just return nothing\n\t\t\t\tif(!localDate.trim() || !time.trim()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\t// Convert them to moments\n\t\t\t\tlocalDate = moment(localDate, types.date.momentStoreFormat);\n\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Parse as UTC and localize\n\t\t\t\t\ttime = moment.utc(time, types.time.momentStoreFormat).local();\n\t\t\t\t} else {\n\t\t\t\t\t// Parse as local\n\t\t\t\t\ttime = moment(time, types.time.momentStoreFormat);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t// Account for DST shifts \n\t\t\t\tif(localDate.isDST() && !time.isDST()) {\n\t\t\t\t\ttime.add(1,'h');\n\t\t\t\t} else if(!localDate.isDST() && time.isDST()) {\n\t\t\t\t\ttime.subtract(1,'h');\n\t\t\t\t}\n\n\t\t\t\t// Combine them\n\t\t\t\tdateTime = self._joinDateAndTimeMoments(localDate,time);\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\tdateTime.utc();\n\t\t\t\t}\n\n\t\t\t\tif(!dateTime.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn dateTime.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\t_splitDateAndTime: function (dateTimeString) {\n\t\t\tvar self = this,\n\t\t\t\tdateTime,\n\t\t\t\tresult = {};\n\t\t\t\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// Parse as UTC\n\t\t\t\tdateTime = moment.utc(dateTimeString, self.momentStoreFormat);\n\t\t\t} else {\n\t\t\t\t// Parse as local\n\t\t\t\tdateTime = moment(dateTimeString, self.momentStoreFormat);\n\t\t\t}\n\n\t\t\tif(!dateTime.isValid()){\n\t\t\t\treturn {\n\t\t\t\t\tdate: '',\n\t\t\t\t\ttime: ''\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tresult.time = dateTime.format(types.time.momentStoreFormat);\n\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// need local for date type\n\t\t\t\tdateTime.local();\n\t\t\t}\n\n\t\t\tresult.date = dateTime.format(types.date.momentStoreFormat);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t_joinDateAndTimeMoments: function(localDateMoment, localTimeMoment) {\n\t\t\treturn moment().utcOffset(localTimeMoment.utcOffset())\n\t\t\t\t.second(localTimeMoment.second())\n\t\t\t\t.minute(localTimeMoment.minute())\n\t\t\t\t.hour(localTimeMoment.hour())\n\n\t\t\t\t.date(localDateMoment.date())\n\t\t\t\t.month(localDateMoment.month())\n\t\t\t\t.year(localDateMoment.year());\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\tvalid = true,\n\t\t\t\tskipRequired = !self.ifw.hasStatus('require');\n\n\t\t\t// Do not skip require check when only one is empty\n\t\t\tif(skipRequired){\n\t\t\t\tskipRequired = !self.dateWidgetInstance.isEmpty();\n\t\t\t\tskipRequired = skipRequired && !self.timeWidgetInstance.isEmpty();\n\t\t\t}\n\n\t\t\tvalid = valid && self.dateWidgetInstance.validate(skipRequired);\n\t\t\tvalid = valid && self.timeWidgetInstance.validate(skipRequired);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t// will not validate if empty\n\t\tisEmpty: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn ($.trim(self.dateWidget.val()) + $.trim(self.timeWidget.val())) === '';\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tvar self = this;\n\n\t\t\tself.dateWidget.inputField('getField').remove();\n\t\t\tself.timeWidget.inputField('getField').remove();\n\n\t\t\tself.dateWidget = undefined;\n\t\t\tself.timeWidget = undefined;\n\n\t\t\tifw.element.parent().show();\n\t\t}\n\n\t};\n\n})(jQuery);","/**\n * Data type 'tmsPhone', an extension of phone\n *\n * It adds a secondary addon to the right to specify number type.\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsPhone = $.extend({}, types.phone, {\n\t\t_phoneTypeTemplate:\n\t\t\t\t'<div class=\"phone-type-form\">' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"mobile\"><span class=\"tms-icon tms-icon-iphone\"></span> '+'mobile'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"home\"><span class=\"tms-icon tms-icon-home\"></span> '+'home'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"work\"><span class=\"tms-icon tms-icon-office\"></span> '+'work'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"fax\"><span class=\"tms-icon tms-icon-print\"></span> '+'fax'+'</div>' +\n\t\t\t\t'</div>',\n\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\n\t\t\ttypes.phone.setUp.call(self, inputWidget);\n\n\t\t\t/*\n\t\t\t * add icon\n\t\t\t */\n\n\t\t\tself.desc = $('<span></span>');\n\t\t\tself.setType();\n\t\t\tself.icon = inputWidget.addOn(1, '').addClass('clickable').append(self.desc).width(75).css('textAlign', 'left');\n\n\t\t\tself.icon.on('click', function() {\n\t\t\t\t/*\n\t\t\t\t * build the menu lazily, so that popovers are not created when now needed and the field has time to attach\n\t\t\t\t * to the form so that the popover appendto can be set\n\t\t\t\t */\n\t\t\t\tself._setupMenu(inputWidget);\n\t\t\t\tself.toggleMenu();\n\t\t\t});\n\n\t\t\t//updateTmsPhone.call(self);\n\t\t\t//o._layers.suggest.html('(NNN) NNN-NNNN');\n\t\t},\n\n\t\ttoggleMenu: function () {\n\t\t\tvar self = this;\n\t\t\tself.menu.find('.focused').removeClass('focused').end().find('[data-code=\"' + self.type + '\"]').addClass('focused').end().popOver('toggle');\n\t\t},\n\n\t\t_setupMenu: function (inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tappendToParent, appendTo;\n\n\t\t\tif(self.menuBuilt){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.menu = $(self._phoneTypeTemplate).popOver({\n\t\t\t\ttarget: self.icon,\n\t\t\t\tappendTo: inputWidget.getField()\n\t\t\t}).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t}).on('click', '.phone-type', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tvar control = $(this);\n\t\t\t\tself.setType(control.attr('data-code'));\n\t\t\t\tself.menu.popOver('hide');\n\t\t\t});\n\n\t\t\tself.menuBuilt = true;\n\t\t},\n\n\t\tsetType: function (type) {\n\t\t\tvar self = this;\n\n\t\t\tif(!type){\n\t\t\t\ttype = 'home';\n\t\t\t}\n\n\t\t\tvar icon = '';\n\n\t\t\tif(type === 'work'){\n\t\t\t\ticon = 'office';\n\t\t\t} else if(type === 'mobile'){\n\t\t\t\ticon = 'iphone';\n\t\t\t} else if(type === 'fax'){\n\t\t\t\ticon = 'print';\n\t\t\t} else {\n\t\t\t\ticon = type = 'home';\n\t\t\t}\n\n\t\t\tself.desc.html('<span class=\"tms-icon tms-icon-' + icon + '\" style=\"margin-right:0.25em;\"></span> ' + type);\n\t\t\tself.type = type;\n\t\t},\n\n\t\tconverter: {\n\t\t\tfromField: function(number, inputWidget) {\n\t\t\t\tvar self = this;\n\t\t\t\tnumber = types.phone.converter.fromField.call(self, number, inputWidget);\n\t\t\t\t// Number is the value being entered\n\n\t\t\t\tconsole.log(this);\n\n\t\t\t\t// Returns null if the value entered is not a number \n\t\t\t\tif(number !== 0 && !number){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\ttype: self.type,\n\t\t\t\t\tnumber: number\n\t\t\t\t};\n\n\t\t\t\tif(self.id){\n\t\t\t\t\tconsole.log(self.id);\n\t\t\t\t\tdata.id = self.id;\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t},\n\t\t\ttoField: function(data, inputWidget) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(data){\n\t\t\t\t\tself.setType(data.type);\n\t\t\t\t\tself.id = data.id;\n\t\t\t\t\tdata = types.phone.converter.toField.call(self, data.number, inputWidget);\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function(inputWidget) {\n\t\t\tinputWidget.element.off('.tmsPhone');\n\t\t\t$.Widget.prototype.destroy.call(this);\n\t\t}\n\t});\n\t\n})(jQuery);\n","/**\n * Functions to quickly make extensions of the select type\n * \n * arraySelectCreator(array)\n * booleanSelectCreator(trueString, falseString)\n * \n */\n\n/* global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\t$.add123.inputField.arraySelectCreator = function (array) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {};\n\t\t\t\td.label = s;\n\t\t\t\td.value = s;\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map(array, $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.add123.inputField.booleanSelectCreator = function (trueString, falseString) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {},\n\t\t\t\t\tval = falseString;\n\n\t\t\t\tif(s === true){\n\t\t\t\t\tval = trueString;\n\t\t\t\t}\n\n\t\t\t\td.label = val;\n\t\t\t\td.value = !!s;\n\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tdeMap: function (d) {\n\t\t\t\tif($.isEmptyObject(d)){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn d.value;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map([true, false], $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Examples from tms\n\tvar date = new Date();\n\tvar years = [];\n\tfor (var i = 0; i <= 10; i++) {\n\t\tyears.push((date.getFullYear() + i).toString());\n\t}\n\t\n\ttypes.tmsExpYear = $.add123.inputField.arraySelectCreator(years);\n\ttypes.tmsYesNo = $.add123.inputField.booleanSelectCreator(util.lang.dict.yes, util.lang.dict.no);\n\t\n})(jQuery);\n","/**\n * Data Type 'tmsFullname', an extension of utext\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsFullname = $.extend({}, types.utext, {\n\t\tvalidate: function (ui) {\n\t\t\tvar value = ui.element.val();\n\n\t\t\tvalue = value.trim().replace(/\\s{2,}/g, ' '); // Replace outside whitespace with two or more whitespaces?\n\n\t\t\tif (value.split(' ').length < 2) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'first and last name'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(isNaN(value)) {\n\t\t\t\tvalue = value.toString();\n\t\t\t\tvar count = 0; \n\t\t\t\tvar countH = 0; \n\t\t\t\tvar countA = 0; \n\t\t\t\tfor(var i = 0; i < value.length; i++){\n\n\t\t\t\t\tif((value[i]) === ','){\n\t\t\t\t\tcount++;}\n\t\t\t\t\tif((value[i]) === '-'){\n\t\t\t\t\tcountH++;}\n\t\t\t\t\tif((value[i]) === '\\''){\n\t\t\t\t\tcountA++;}\n\t\t\t\t\tif(value[i].match(/^[!@#\\$%\\^&*()_+={}\\[\\]\\\\\\/|;:\"\\?<>\\.~`]?$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'illegal symbol'\n\t\t\t\t\t};}\n\t\t\t\t\tif(value[i].match(/^[0-9]$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'no numbers'\n\t\t\t\t\t};}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(count > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one comma allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countH > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one hyphen allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countA > 3){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one apostrophe per name'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n"],"sourceRoot":"/source/"}