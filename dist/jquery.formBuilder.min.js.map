{"version":3,"sources":["localization.js","util.js","caret.js","formBuilder.js","inputField.js","inputFilter.js","popOver.js","submitButton.js","code.js","select.js","standard.js","timeRelated.js"],"names":["$","fn","datepicker","dates","es","days","daysShort","daysMin","months","monthsShort","today","clear","rtl","jQuery","window","util","console","log","dir","timeStamp","time","timeEnd","Object","create","o","F","prototype","lang","code","selectPath","namespace","domKey","undefined","i","a","toString","split","length","key","match","parseInt","isArray","insertPath","obj","type","origRef","types","k","v","push","deletePath","childOf","b","includeSelf","this","p","parents","isEmpty","equals","hasOwnProperty","removeEqual","ignoreDiffKeys","remove","removeTmp","inArray","widget","options","lines","width","radius","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","top","left","_spinner","_create","self","Spinner","_init","start","spin","element","stop","_destroy","caret","begin","end","range","input","is","l","val","setSelectionRange","selectionStart","selectionEnd","document","selection","createRange","duplicate","moveStart","text","focus","value","scrollLeft","err","createTextRange","collapse","moveEnd","select","converter","fromForm","data","toForm","ignoreHidden","e","baseData","defaultRequired","fieldsWidgets","fields","scanForNewFields","dirty","on","ev","stopPropagation","isDirty","show","find","each","el","attr","Error","has","add","label","addClass","wrap","before","not","newInput","inputField","require","_proxyCommandToWidget","widgetElement","widgetName","instance","method","Array","splice","call","arguments","args","slice","apply","clearDirty","flashDirty","numberOfTimes","flashError","filter","error","disable","enable","get","formData","_readDataFromDom","isFunction","conflicts","ignoreKeys","_convertFormData","aData","extend","bData","conflict","concat","set","setOptions","_trigger","_writeDataToDom","values","validate","valid","getFields","repeat","work","delay","count","idx","setTimeout","statusNames","loadDomData","aKey","flash","placeholder","min","max","empty","tooltip","tooltipContent","next","field","layers","items","setLabel","appendTo","trim","removeAttr","preinput","addOn","postinput","suffix","setSuffix","prefix","setPrefix","addon","popOver","target","onShow","onHide","removeClass","one","autoValidate","states","updateStatus","status","blur","_onBlur","change","_onKeyup","suffixShim","_onKeydown","mouseenter","mouseleave","setType","prevValue","setMax","prependTo","html","t","inputFilter","toUpper","pattern","_showLayer","checkDirty","redraw","cleanCheckTimer","clearTimeout","prev","isEmptyObject","trigger","weight","pre","found","children","hasClass","eWeight","insertBefore","append","s","hide","vOld","vNew","vDirty","autoClean","hasStatus","_formatToField","f","_clean","_formatFromField","skipRequired","setError","message","clearError","format","flashTimer","toField","fromField","hasVal","showError","showNotice","showPlaceholder","css","paddingLeft","startPaddingLeft","startInputWidth","prefixPaddingAdded","replace","isNaN","outerWidth","paddingRight","startPaddingRight","suffixPaddingAdded","valWidth","maxWidth","layer","ph","parseFloat","sType","add123","tearDown","setUp","getType","displayValue","getField","isDisabled","statusName","bool","fireEvents","cleanBool","height","outerHeight","ui","memory","nativeChange","proxy","_onKeyDown","_onKeyPress","_onPaste","setPattern","regex","which","ctrlKey","_type","String","fromCharCode","c","tmp","keytypedEvent","keyignoredEvent","toUpperCase","substring","off","doc","win","showing","detach","content","clone","title","onClick","delegateTarget","activeElement","onResize","position","setAppendTo","titleElement","toggle","fadeIn","my","at","collision","of","disabled","waiting","preventDefault","enterKeyListenerProvider","first","onKeyDown","keyCode","submit","_showLoading","h","getButtonLabel","spinner","_hideLoading","destroyed","bOptions","icons","button","listenerProvider","listener","binarySearch","needle","haystack","mid","high","low","toLowerCase","codeListFilter","codeTable","request","response","term","matcher","RegExp","autocomplete","escapeRegex","matches","grep","test","codeTableName","_codeTable","source","inputWidget","fieldGroup","shim","insertAfter","iconClosed","iconOpen","panel","selectionClass","sectionClass","_setSelected","after","parent","_keyDownNavigate","closeListener","close","update","selected","_scroll","open","filterValue","_filterOptions","_selectFirstNonEmptyOption","item","_setLabel","renderLabel","showHideCommand","_removeSelection","option","_set","loaded","done","itemData","_equal","_handleItemNotFound","_setDefaultItem","_selectFirstItem","defaultValue","showClass","sections","showHideSections","_getLabel","getOptions","optionPanel","filterTimer","__filterOptionsWork","optionsElements","optionsToProcessNow","optionsEl","_filterItem","optionEl","_itemShoudBeFiltered","_clearFilter","_buildEmptyOption","emptyLabel","unshift","_buildOptions","optionsbuffer","_sort","renderedItem","renderItem","sort","al","bl","scrollTop","inputLayer","itemsLayer","leftOffset","index","Deferred","load","removeInvalid","form","resolve","dataOptions","parseJSON","when","map","raw","deMap","rawdata","cannedFormatters","createRegexType","flags","filterData","cannedFormatter","utext","integer","number","state","feid","zip","email","display","phone","extensionStart","xlocation","indexOf","lastSpace","lastIndexOf","ext","extraExt","num","numberLength","money","_onChange","dec","toFixed","date","attributes","minYear","Date","getFullYear","maxYear","startDate","endDate","moment","datePickerOptions","autoclose","forceParse","todayBtn","todayHighlight","language","isValid","_regex","ifw","timepicker","selectOnBlur","step","siblings","utc","local","invalidMessage","dateTime","inputFieldWidgetInstance","_setUpFields","_refreshFieldWidth","_setUpCleanDirtyEvents","fieldItems","dateAttr","timeAttr","dateWidget","timeWidget","timeWidthRatio","minWidth","fullWidth","elDate","elTime","splitDate","_splitDateAndTime","dateTimeObject","_joinDateAndTime","_momentDateFormat","dateTimeString","dto"],"mappings":"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","file":"jquery.formBuilder.min.js","sourcesContent":["/**\n * Localization support additions\n *\n * Supported\n * --------------\n * en = English\n * es = Spanish\n */\n\n(function($){\n\t/**\n\t * Datepicker Spanish support\n\t */\n\t$.fn.datepicker.dates.es = {\n\t\tdays: ['Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves', 'Viernes', 'S&aacute;bado'],\n\t\tdaysShort: ['Dom', 'Lun', 'Mar', 'Mi&eacute;', 'Juv', 'Vie', 'S&aacute;b'],\n\t\tdaysMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'S&aacute;'],\n\t\tmonths: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n\t\tmonthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\n\t\ttoday: \"Hoy\",\n\t\tclear: \"Borre\",\n\t\trtl: false\n\t};\n\t\n})(jQuery);","/*\n * A subset of the ADD Utility library. \n *\n * It only declares objects/functions when they do not already exist\n */\n\nif(typeof(window.util) === 'undefined')\n\twindow.util = {};\n\n(function($) {\n\t\"use strict\";\n\n\t/*\n\t * If console is not defined build a mock console to avoid script errors in production\n\t */\n\tif(typeof(window.console) === 'undefined') {\n\t\twindow.console = {\n\t\t\tlog: function() {},\n\t\t\tdir: function() {},\n\t\t\ttimeStamp: function () {},\n\t\t\ttime: function () {},\n\t\t\ttimeEnd: function () {}\n\t\t};\n\t}\n\n\tif(typeof(console.timeStamp) === 'undefined'){\n\t\tconsole.timeStamp = function () {};\n\t}\n\tif(typeof(console.time) === 'undefined'){\n\t\tconsole.time = function () {};\n\t}\n\tif(typeof(console.timeEnd) === 'undefined'){\n\t\tconsole.timeEnd = function () {};\n\t}\n\n\n\t/*\n\t * Object create polyfill\n\t */\n\tif(typeof(Object.create) === 'undefined') {\n\t\tObject.create = function(o) {\n\t\t\tfunction F() {}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t}\n\n\n\n\t/*\n\t * supported language codes\n\t */\n\tvar langCodes = {\n\t\t'en': 'English',\n\t\t'es': 'Espaol',\n\t\t'fr': 'Franais'\n\t};\n\t\n\tif(typeof(util.lang) === 'undefined')\n\t\tutil.lang = {};\n\t\n\tif(typeof(util.lang.code) === 'undefined')\n\t\tutil.lang.code = 'en'; //default\n\n\t/*\n\t * Retrieve from a namespace given the dot-notated key\n\t *\n\t * Since the form has a flat structure and therefore has prefixes to avoid naming conflicts, we need a way to map\n\t * the prefixed DOM Keys to the hierarchical data maps. Keys that are not found will be saved in the extraKeys object\n\t * in the correct hierarchical order\n\t *\n\t * DOM -> Data Examples: given dealFile = efsResponse['efs']['deal-file']\n\t *\n\t * basic:\n\t *   'deal.acquired-date' -> dealFile['deal']['acquired-date']\n\t *   'purchase-vehicle.data.vin' -> dealFile['purchase-vehicle']['data']['vin']\n\t *\n\t * arrays:\n\t *   'customer.0.first-name' -> dealFile['customer'][0]['first-name']\n\t *\n\t */\n\n\tif(typeof(util.selectPath) === 'undefined') {\n\t\tutil.selectPath = function(namespace, domKey) {\n\t\t\t\n\t\t\tif(namespace === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(domKey === undefined || domKey === ''){\n\t\t\t\treturn namespace;\n\t\t\t}\n\n\t\t\tvar i, a = domKey.toString().split('.');\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tvar key = a[i];\n\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\t\t\t\t\t/*\n\t\t\t\t\t * treat this as an array index\n\t\t\t\t\t */\n\t\t\t\t\tkey = parseInt(key, 10);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * arrays with index might be pulled out of the array, so check if we can find the correct mapping without the array\n\t\t\t\t */\n\t\t\t\tif(key === 0 && !$.isArray(namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(namespace === undefined || namespace === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\tif(i === a.length - 1 || namespace === undefined) {\n\t\t\t\t\treturn namespace;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}\n\n\t/*\n\t * Given and namespace object and a dot-notated key, save the given object to\n\t * the proper path in the namespace\n\t *\n\t */\n\tif(typeof(util.insertPath) === 'undefined') {\n\t\tutil.insertPath = function(namespace, domKey, obj) {\n\t\t\tvar i, a = domKey.split('.'),\n\t\t\t\torigRef = namespace;\n\t\t\tvar types = [],\n\t\t\t\tkey, type;\n\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tkey = a[i];\n\n\t\t\t\tif(i === a.length - 1) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * clean this logic up, use this test case : https://secure.add123.com/apps/web/res/js/_test/qunit.html\n\t\t\t\t\t */\n\t\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\t\tv: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: key,\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\tv: []\n\t\t\t\t\t};\n\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: key,\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i = 0; i < types.length; i += 1) {\n\t\t\t\ttype = types[i];\n\t\t\t\tkey = type.k;\n\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t} else {\n\n\t\t\t\t\tif(typeof namespace[key] === 'undefined') {\n\t\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t\t}\n\n\t\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn origRef;\n\n\t\t};\n\t}\n\n\t/*\n\t * var ns = {test: {foo: 1, bar: 2, baz: 3}};\n\t * deletePath(ns, 'test.foo');\n\t * console.log(ns);\n\t *\n\t * TODO: make this work for arrays\n\t */\n\tif(typeof(util.deletePath) === 'undefined') {\n\t\tutil.deletePath = function(namespace, domKey) {\n\t\t\tvar a = domKey.split('.'),\n\t\t\t\ti;\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tdelete namespace[a[i]];\n\t\t\t\t} else {\n\t\t\t\t\tif(typeof namespace[a[i]] === \"undefined\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnamespace = namespace[a[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/*\n\t * parameter can be a jQuery object or HTML element object\n\t */\n\tif(typeof($.fn.childOf) === 'undefined') {\n\t\t$.fn.childOf = function(b, includeSelf) {\n\t\t\tvar i;\n\n\t\t\tif(b instanceof jQuery) {\n\t\t\t\tb = b[0];\n\t\t\t}\n\n\t\t\tif(includeSelf && b === this[0]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar p = this.parents();\n\t\t\tfor(i = 0; i < p.length; i++) {\n\t\t\t\tif(b === p[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tif(typeof(window.isEmpty) === 'undefined') {\n\t\twindow.isEmpty = function isEmpty(a) {\n\t\t\tif(a === 0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !a;\n\t\t};\n\t}\n\n\tif(typeof(util.equals) === 'undefined') {\n\t\tutil.equals = function(a, b) {\n\t\t\tvar p;\n\n\t\t\tif(a === b){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(isEmpty(a) && isEmpty(b)){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(isEmpty(a) || isEmpty(b)){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(p in b) {\n\t\t\t\t\tif(b.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tif(typeof(b) === 'undefined' || (a.toString() !== b.toString())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(a.toString() !== b.toString()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tif(typeof(util.removeEqual) === 'undefined') {\n\t\tutil.removeEqual = function (a, b, ignoreDiffKeys) {\n\t\t\tvar p, remove, removeTmp;\n\n\t\t\tif(!ignoreDiffKeys){\n\t\t\t\tignoreDiffKeys = [];\n\t\t\t}\n\n\t\t\tif(a === undefined || b === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tremove = true;\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($.inArray(p, ignoreDiffKeys) > -1){\n\t\t\t\t\t\t\tremoveTmp = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tremoveTmp = util.removeEqual(a[p], b[p]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(removeTmp){\n\t\t\t\t\t\t\tdelete a[p];\n\t\t\t\t\t\t\tdelete b[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremove = remove && removeTmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remove;\n\t\t\tdefault:\n\t\t\t\treturn a.toString() === b.toString();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * jQuery UI Widget support for spin.js\n\t *\n\t * http://fgnass.github.com/spin.js/\n\t */\n\t$.widget('add123.spin', {\n\n\t\toptions: {\n\t\t\tlines: 10,\n\t\t\t// The number of lines to draw\n\t\t\tlength: 4,\n\t\t\t// The length of each line\n\t\t\twidth: 2,\n\t\t\t// The line thickness\n\t\t\tradius: 3,\n\t\t\t// The radius of the inner circle\n\t\t\trotate: 0,\n\t\t\t// The rotation offset\n\t\t\tcolor: '#000',\n\t\t\t// #rgb or #rrggbb\n\t\t\tspeed: 1.5,\n\t\t\t// Rounds per second\n\t\t\ttrail: 60,\n\t\t\t// Afterglow percentage\n\t\t\tshadow: false,\n\t\t\t// Whether to render a shadow\n\t\t\thwaccel: false,\n\t\t\t// Whether to use hardware acceleration\n\t\t\tclassName: 'spinner',\n\t\t\t// The CSS class to assign to the spinner\n\t\t\tzIndex: 0,\n\t\t\t// The z-index (defaults to 2000000000)\n\t\t\ttop: '0',\n\t\t\t// Top position relative to parent in px\n\t\t\tleft: '0' // Left position relative to parent in px\n\t\t},\n\n\t\t_spinner: undefined,\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tself._spinner = new Spinner(self.options);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tthis.start();\n\t\t},\n\n\t\tstart: function() {\n\t\t\tthis._spinner.spin(this.element[0]);\n\t\t},\n\n\t\tstop: function() {\n\t\t\tthis._spinner.stop();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.stop();\n\t\t\tdelete self._spinner;\n\t\t}\n\t});\n\n})(jQuery);\n","/**\n * caret plugin\n */\n\n(function($){\n\t/*\n\t * This plugin only operates on the first element of the working set\n\t */\n\t$.fn.caret = function(begin, end) {\n\n\t\tif(this.length === 0) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar input = this[0],\n\t\t\trange;\n\n\t\tif(typeof begin === 'number') {\n\t\t\t/*\n\t\t\t * setter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\t\tinput.focus();\n\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * chrome hack\n\t\t\t\t * TMS-2049\n\t\t\t\t * Still need a better way to do this, chrome fails to set the scrolLeft\n\t\t\t\t * whem the cursor moves, still will only work it they are at the end of the text\n\t\t\t\t */\n\t\t\t\ttry{\n\t\t\t\t\tif(end === input.value.length){\n\t\t\t\t\t\tinput.scrollLeft = 9999999999;\n\t\t\t\t\t}\n\t\t\t\t}catch(err){}\n\t\t\t} else if(input.createTextRange) {\n\t\t\t\trange = input.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', begin);\n\t\t\t\trange.select();\n\t\t\t}\n\n\n\t\t} else {\n\t\t\t/*\n\t\t\t * getter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\tvar l = $(input).val().length;\n\t\t\t\treturn {\n\t\t\t\t\tbegin: l,\n\t\t\t\t\tend: l\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\tbegin = input.selectionStart;\n\t\t\t\tend = input.selectionEnd;\n\t\t\t} else if(document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = -range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbegin: begin,\n\t\t\t\tend: end\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t};\n})(jQuery);","/**\n * formBuilder Widget\n *\n * TODO: improve codes type\n *\n * TODO: handle submission, bind to buttons somehow, and on-submit event\n *\n * TODO: maintain a model, take in the model, link to the fields and make is\n * accessible by a getter model linker? listen to changes\n *\n * TODO: can you call _init() a second type with more options? is that how you\n * call _setOption from outside?\n */\n\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.formBuilder\", {\n\n\t\toptions: {\n\t\t\tconverter: {\n\t\t\t\tfromForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\ttoForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * set to true to ignore fields that are not $(':visible')\n\t\t\t */\n\t\t\tignoreHidden: false\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.baseData = {};\n\n\t\t\to.defaultRequired = e.data('default-required');\n\n\t\t\tself.fieldsWidgets = $([]);\n\t\t\tself.fields = $([]);\n\n\t\t\tself.scanForNewFields();\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * proxy the dirty events from all of the fields in the form\n\t\t\t */\n\t\t\te.on('dirty', function (ev) {\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.dirty = true;\n\t\t\t}).on('clean', function (ev) {\n\n\t\t\t\t/*\n\t\t\t\t * if the form is clean kill the clean event\n\t\t\t\t */\n\t\t\t\tif(!self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * check if form is really clean\n\t\t\t\t */\n\t\t\t\tself.dirty = self.isDirty();\n\n\t\t\t\t/*\n\t\t\t\t * if form is still dirty, kill the clean event\n\t\t\t\t */\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\te.show();\n\t\t},\n\n\t\tscanForNewFields: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\t/*\n\t\t\t * expected methods for a widget to act a as field:\n\t\t\t *\n\t\t\t * set()\n\t\t\t * get()\n\t\t\t * isDirty()\n\t\t\t * clearDirty()\n\t\t\t * flashDirty()\n\t\t\t * flashError()\n\t\t\t * disable()\n\t\t\t * enable()\n\t\t\t * clear()\n\t\t\t * validate()\n\t\t\t *\n\t\t\t */\n\t\t\te.find('[data-load-widget-as-field]').each(function () {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(!el.attr('name')){\n\t\t\t\t\tthrow new Error('data-load-widget-as-field must have name attribute');\n\t\t\t\t}\n\n\t\t\t\tif(self.fieldsWidgets.has(el[0]).length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tel[el.attr('data-load-widget-as-field')]();\n\n\t\t\t\t/*\n\t\t\t\t * check if the widget extends the base FieldWidget widget\n\t\t\t\t */\n\n\t\t\t\tself.fieldsWidgets = self.fieldsWidgets.add(el);\n\n\t\t\t\t/*\n\t\t\t\t * wrap if label is found\n\t\t\t\t */\n\t\t\t\tvar label = el.attr('data-label');\n\n\t\t\t\tif(!label){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tel.addClass('field-items').wrap('<div class=\"input-field-group\"><div class=\"input-field\"></div></div>').before('<label>' + label + '</label>');\n\t\t\t});\n\t\t\t/*\n\t\t\tself.fields = e.find('input[type!=submit], select, textarea').not(':add123-inputField').inputField({\n\t\t\t\trequire: typeof o.defaultRequired !== 'undefined' && o.defaultRequired === true\n\t\t\t});\n\t\t\t*/\n\t\t\te.find('input[type!=submit], select, textarea').not(':add123-inputField').not('.form-builder-ignore *').each(function () {\n\t\t\t\tvar newInput = $(this);\n\t\t\t\tif(newInput.is('[data-load-widget-as-field]') || newInput.parents('[data-load-widget-as-field]').length){\n\t\t\t\t\t//console.log('ingnore input in field widgets: ', newInput.attr('name'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//console.log('ADDING FIELD: ', newInput.attr('name'));\n\t\t\t\tnewInput.inputField({\n\t\t\t\t\trequire: !!o.defaultRequired\n\t\t\t\t});\n\n\t\t\t\tself.fields = self.fields.add(newInput);\n\n\n\t\t\t});\n\n\n\n\t\t\t/*\n\t\t\t * set the first class on the first fields for proper styling\n\t\t\t */\n\t\t\t//setTimeout(function() {\n\t\t\t\t//var ingroup = e.find('.input-field-group .input-field .field-item:nth(0)').addClass('first');\n\t\t\t\t//\n\t\t\t\te.find('.input-field-group').each(function () {\n\t\t\t\t\t$(this).find('.field-item:first').addClass('first');\n\t\t\t\t});\n\t\t\t\t//console.log(ingroup);\n\t\t\t\t//e.find('.input-field .field-item:first-child').not('.input-field-group .input-field:first-child .field-item:first-child').addClass('first');\n\t\t\t//}, 0);\n\t\t},\n\n\t\t_proxyCommandToWidget: function (widgetElement) {\n\t\t\tvar self = this,\n\t\t\t\twidgetName = widgetElement.data('load-widget-as-field') || 'inputField',\n\t\t\t\tinstance = widgetElement.data(widgetName),\n\t\t\t\tmethod = Array.prototype.splice.call(arguments, 1, 1),\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\t\ttry {\n\t\t\t\treturn instance[method].apply(instance, args);\n\t\t\t}catch(err){\n\t\t\t\tthrow new Error('ERROR: widget field error NAME[' + widgetName + '] METHOD[' + method + ']');\n\t\t\t}\n\t\t},\n\t\n\n\t\tisDirty: function() {\n\t\t\tvar self = this,\n\t\t\t\tdirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tdirty = !!$(this).inputField('isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\tif(dirty){\n\t\t\t\treturn dirty;\n\t\t\t}\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tdirty = !!self._proxyCommandToWidget($(this), 'isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\treturn dirty;\n\t\t},\n\n\t\tclearDirty: function() {\n\t\t\tvar self = this;\n\t\t\tself.dirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clearDirty');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tflashDirty: function(numberOfTimes) {\n\t\t\t//this.dirty.inputField('flash', numberOfTimes);\n\t\t\t/*\n\t\t\tvar self = this;\n\t\t\tself.dirty.each(function () {\n\t\t\t\tself._proxyCommandToWidget($(this), 'flash', numberOfTimes);\n\t\t\t});\n\t\t\t*/\n\t\t},\n\n\t\tflashError: function(numberOfTimes) {\n\t\t\tthis.fields.filter(function() {\n\t\t\t\treturn $(this).data('inputField').options.error;\n\t\t\t}).inputField('flash', numberOfTimes);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', true);\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', false);\n\t\t},\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tformData = self._readDataFromDom();\n\n\t\t\tif($.isFunction(o.converter.fromForm)) {\n\t\t\t\tformData = o.converter.fromForm(formData);\n\t\t\t}\n\n\t\t\tif(!formData){\n\t\t\t\tformData = {};\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.baseData = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clear');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clear');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * check if the given data would overwrite any dirty fields if set\n\t\t *\n\t\t * returns an array of conflict data, and false for no conflicts\n\t\t */\n\t\tconflicts: function (data, ignoreKeys) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data),\n\t\t\t\tconflicts = [];\n\n\t\t\t/*\n\t\t\t * if dirty flag is not set, assume there is no conflict\n\t\t\t */\n\t\t\tif(!self.isDirty()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar aData = $.extend(true, {}, self.baseData),\n\t\t\t\tbData = $.extend(true, {}, formData);\n\n\t\t\tconsole.log('aData', aData);\n\t\t\tconsole.log('bData', bData);\n\n\t\t\t/*\n\t\t\t * only check fields that are different than the base value\n\t\t\t */\n\t\t\tutil.removeEqual(aData, bData, ignoreKeys);\n\n\t\t\tconsole.log('changes from base:', aData);\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar conflict = $(this).inputField('conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar conflict = self._proxyCommandToWidget($(this), 'conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tif($.isArray(conflict)){\n\t\t\t\t\t\tconflicts.concat(conflict);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(conflicts.length){\n\t\t\t\treturn conflicts;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tset: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data);\n\n\t\t\tself.baseData = formData;\n\n\t\t\tself._trigger('beforeset', null, formData);\n\t\t\tself._writeDataToDom(formData, setOptions);\n\t\t\tself._trigger('afterset', null, formData);\n\t\t},\n\n\t\t_convertFormData: function (data) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * clone data object so form can not change the original\n\t\t\t */\n\t\t\tvar formData = $.extend(true, {}, data || {});\n\n\t\t\tif($.isFunction(o.converter.toForm)) {\n\t\t\t\tformData = o.converter.toForm(formData);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tval: function(values) {\n\t\t\t//TODO: forgot to implement this, there is logic taking its place in efsfl.js\n\t\t\tif(values === undefined) {\n\t\t\t\t/*\n\t\t\t\t * getter\n\t\t\t\t */\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * setter\n\t\t\t\t */\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tvalid = true;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && el.inputField('validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && self._proxyCommandToWidget(el, 'validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.fields.inputField('destroy');\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'destroy');\n\t\t\t});\n\t\t},\n\n\t\tgetFields: function() {\n\t\t\treturn this.fields;\n\t\t},\n\n\t\t_writeDataToDom: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\t//debugger;\n\t\t\t\tself._proxyCommandToWidget($(this), 'set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\t\t},\n\n\t\t_readDataFromDom: function() {\n\t\t\tvar self = this,\n\t\t\t\tignoreHidden = self.options.ignoreHidden,\n\t\t\t\tdata = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar val = el.inputField('get');\n\n\t\t\t\tif($.isArray(val)) {\n\t\t\t\t\tval = val[0];\n\t\t\t\t}\n\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this),\n\t\t\t\t\tignoreHidden = self.options.ignoreHidden;\n\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar val = self._proxyCommandToWidget(el, 'get');\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t\n\n}(jQuery));","/**\n * inputField Widget\n *\n * This widget wraps the operation of a single field of a form\n *\n * Public Methods:\n *   value(value)\n *   validate()\n *   flash()\n *   setError()\n *   clearError()\n *   redraw()\n *   status(statusName, bool)\n */\n(function($) {\n\t\"use strict\";\n\n\tvar repeat = function(work, delay, count, idx) {\n\t\tidx = idx || 0;\n\t\tif(idx < count) {\n\t\t\twork();\n\t\t\tsetTimeout(function() {\n\t\t\t\trepeat(work, delay, count, idx + 1);\n\t\t\t}, delay);\n\t\t}\n\t};\n\n\tvar statusNames = ['require', 'disable', 'error', 'hover', 'warn', 'focus'];\n\n\tvar loadDomData = function(namespace, aKey) {\n\t\tvar self = this;\n\t\t$.each(aKey, function(i, key) {\n\t\t\t/*\n\t\t\tif(namespace){\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tvar data = self.element.data(key);\n\t\t\tif(data !== undefined && data !== null) {\n\t\t\t\tnamespace[key] = data;\n\t\t\t}\n\t\t});\n\t};\n\n\t$.widget('add123.fieldWidget', {\n\n\t\tisDirty: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\treturn true;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\t\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.set();\n\t\t},\n\n\t\tflash: function () {\n\t\t\t\n\t\t},\n\n\t\tset: function (data) {\n\t\t\t\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\t$.widget(\"add123.inputField\", {\n\t\toptions: {\n\n\t\t\ttype: 'text',\n\n\t\t\t/*\n\t\t\t * the text shown\n\t\t\t */\n\t\t\tlabel: '',\n\n\t\t\trequire: '',\n\n\t\t\t/*\n\t\t\t * text to show when the field is empty, this uses the suggest layer\n\t\t\t */\n\t\t\tplaceholder: '',\n\n\t\t\t/*\n\t\t\t * min and max, there meaning depends on the type that is loaded\n\t\t\t */\n\t\t\tmin: '', // min does nothing in formbuilder\n\t\t\tmax: ''\n\n\t\t\t/*\n\t\t\t * values: false/undefined, 'keyup', 'blur'\n\t\t\t */\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tif(!e.is('input[type!=submit], select, textarea')) {\n\t\t\t\tthrow new Error(\"invalid element\");\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * load DOM settings from field into options\n\t\t\t */\n\t\t\tloadDomData.call(self, o, ['require', 'empty', 'placeholder', 'type', 'label', 'min', 'max', 'preinput', 'postinput', 'suffix', 'prefix']);\n\n\t\t\t/*\n\t\t\t * legacy support\n\t\t\t */\n\t\t\tif(!o.placeholder && o.empty) {\n\t\t\t\to.placeholder = o.empty;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check if a tool-tip was given\n\t\t\t */\n\t\t\tvar tooltip, tooltipContent = e.next();\n\t\t\tif(tooltipContent.is('div.form-input-tooltip') || tooltipContent.is('div.tooltip')) {\n\t\t\t\ttooltip = tooltipContent;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * convert the simple input into the full field format\n\t\t\t */\n\t\t\tvar field = self.field = $('<div class=\"input-field\"><div class=\"field-items\"><span class=\"field-item field-item-input\"></span></div></div>');\n\n\t\t\tvar layers = self.layers = {\n\t\t\t\titems: field.find('.field-items'),\n\t\t\t\tinput: field.find('.field-item-input')\n\t\t\t};\n\n\t\t\tif(o.label){\n\t\t\t\tself.setLabel(o.label);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move the DOM elements around\n\t\t\t */\n\t\t\te.before(field).appendTo(layers.input);\n\n\t\t\t/*\n\t\t\t * move classes\n\t\t\t */\n\t\t\tfield.attr('class', $.trim(field.attr('class') + ' ' + e.attr('class')));\n\t\t\te.removeAttr('class');\n\n\t\t\tif(e.is('textarea')) {\n\t\t\t\tfield.addClass('textarea-fix');\n\t\t\t\te.wrap('<div class=\"textarea-wrapper\"></div>');\n\t\t\t}\n\t\t\tif (e.is('select')) {\n\t\t\t\tfield.addClass('select-fix');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if this field is not part of a group, add a group class to this field for proper styling\n\t\t\t */\n\t\t\tif(!field.parents('.input-field-group').length){\n\t\t\t\tfield.wrap('<div class=\"input-field-group\"/>');\n\t\t\t\tfield.find('.field-item:first').addClass('first');\n\t\t\t}\n\n\t\t\tif(o.placeholder){\n\t\t\t\tself.placeholder(o.placeholder);\n\t\t\t}\n\n\t\t\tif(o.preinput) {\n\t\t\t\tself.addOn(-1, o.preinput);\n\t\t\t}\n\n\t\t\tif(o.postinput) {\n\t\t\t\tself.addOn(1, o.postinput);\n\t\t\t}\n\n\t\t\tif(o.suffix){\n\t\t\t\tself.setSuffix(o.suffix);\n\t\t\t}\n\n\t\t\tif(o.prefix){\n\t\t\t\tself.setPrefix(o.prefix);\n\t\t\t}\n\n\t\t\tif(tooltip) {\n\n\t\t\t\tvar addon = self.addOn(1000, '<span class=\"tooltip noselect\">?</span>', 'clickable');\n\n\t\t\t\tfield.addClass('has-tooltip');\n\n\t\t\t\ttooltip.popOver({\n\t\t\t\t\ttarget: addon,\n\t\t\t\t\tonShow: function () {\n\t\t\t\t\t\taddon.addClass('open');\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function () {\n\t\t\t\t\t\taddon.removeClass('open');\n\t\t\t\t\t}\n\t\t\t\t}).on('click', function () {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\n\n\n\t\t\t\ttooltip.popOver('hide');\n\n\n\t\t\t\taddon.on('click', function() {\n\t\t\t\t\ttooltip.popOver('toggle');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move element style\n\t\t\t */\n\t\t\t// field.attr('style', e.attr('style'));\n\t\t\t// e.removeAttr('style');\n\t\t\t/*\n\t\t\t * add the pad1 class to make way for the drop down handle\n\t\t\t */\n\t\t\t// if(e.is('select')){\n\t\t\t// field.addClass('pad1');\n\t\t\t// }\n\t\t\t/*\n\t\t\t * if someone tries to select text from one of the layers, this will focus the input field\n\t\t\t */\n\t\t\t/* this causes problems when extra dialogs like dropdown panels are placed inside the field container */\n\t\t\t//field.on('mousedown.inputField', function() {\n\t\t\tlayers.input.on('mousedown.inputField', function() {\n\t\t\t\t$('body').one('mouseup.inputField', function() {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tself.autoValidate = 'blur';\n\n\t\t\tself.states = {};\n\n\t\t\t/*\n\t\t\t * set the require option as a status\n\t\t\t */\n\t\t\tself.updateStatus('require', o.require, false);\n\n\t\t\t/*\n\t\t\t * activate focus classes and suggestion layer\n\t\t\t */\n\t\t\te.focus(function() {\n\t\t\t\tself.status('focus', true);\n\t\t\t}).blur(function(ev) {\n\t\t\t\tself.status('focus', false);\n\t\t\t\tself._onBlur(ev);\n\t\t\t}).change(function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('inputfilterkeyignored.inputField', function() {\n\t\t\t\tself.flash();\n\t\t\t}).on('inputfilterkeytyped.inputField', function() {\n\t\t\t\tif(self.suffixShim){\n\t\t\t\t\tself.suffixShim.text(self.element.val());\n\t\t\t\t}\n\t\t\t}).on('keyup', function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('keydown', function(ev) {\n\t\t\t\tself._onKeydown(ev);\n\t\t\t});\n\n\t\t\tfield.mouseenter(function() {\n\t\t\t\tself.status('hover', true);\n\t\t\t}).mouseleave(function() {\n\t\t\t\tself.status('hover', false);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * set the type of this field\n\t\t\t */\n\t\t\tself.setType(o.type);\n\n\t\t\tself.prevValue = e.val();\n\n\t\t\tif(o.max){\n\t\t\t\tself.setMax(o.max);\n\t\t\t}\n\t\t},\n\n\t\tsetLabel: function (label) {\n\t\t\tvar self = this,\n\t\t\t\tfield = self.field;\n\n\t\t\tif(!self.label){\n\t\t\t\tself.label = $('<label>' + label + '</label>');\n\t\t\t\tself.label.prependTo(field);\n\t\t\t}\n\n\t\t\tself.label.html(label);\n\t\t},\n\n\t\tsetSuffix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.suffix){\n\t\t\t\tlayers.suffix = $('<div class=\"suffix-overlay\"><div class=\"shim\"></div><span class=\"value noselect\">' + t + '</span></div>').prependTo(layers.items);\n\t\t\t\tself.suffixShim = layers.suffix.find('.shim');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlayers.suffix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetPrefix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.prefix){\n\t\t\t\tlayers.prefix = $('<div class=\"prefix-overlay noselect\">' + t + '</div>').prependTo(layers.items);\n\t\t\t}else{\n\t\t\t\tself.layers.prefix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(e.is(':add123-inputFilter')){\n\t\t\t\te.inputFilter('setMax', max);\n\t\t\t}else{\n\t\t\t\te.inputFilter({\n\t\t\t\t\ttoUpper: false,\n\t\t\t\t\tmax: max,\n\t\t\t\t\tpattern: /./\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_onKeydown: function(ev) {\n\t\t\tvar self = this;\n\t\t\tself._showLayer('placeholder', false);\n\t\t},\n\n\t\t_onKeyup: function(ev) {\n\t\t\tvar self = this;\n\n\t\t\tif(self.autoValidate === 'keyup') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tself.checkDirty();\n\t\t\tself.redraw();\n\t\t},\n\n\t\tcheckDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tval;\n\n\t\t\t//console.log('checkDirty', self.prevValue, self.get());\n\n\t\t\tif(!self.dirty){\n\t\t\t\tval = self.get();\n\n\t\t\t\t/*\n\t\t\t\t * TMS-350 Save/Cancel become greyed out on Ticket Details page even when changes are present\n\t\t\t\t */\n\t\t\t\tif(!util.equals(self.prevValue, val) && !(typeof self.prevValue === 'undefined' && val === '')){\n\t\t\t\t\te.trigger('dirty');\n\t\t\t\t\tself.dirty = true;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t/*\n\t\t\t\t * clean checks can be fired many times, so debouce them with a timer\n\t\t\t\t */\n\t\t\t\tif(self.cleanCheckTimer){\n\t\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t\t}\n\t\t\t\tself.cleanCheckTimer = setTimeout(function() {\n\t\t\t\t\tvar prev = self.prevValue,\n\t\t\t\t\t\tval = self.get();\n\n\t\t\t\t\tif(prev !== 0 && (!prev || $.isEmptyObject(prev))){\n\t\t\t\t\t\tprev = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(val !== 0 && (!val || $.isEmptyObject(val))){\n\t\t\t\t\t\tval = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(util.equals(prev,val)){\n\t\t\t\t\t\tself.dirty = false;\n\t\t\t\t\t\te.trigger('clean');\n\t\t\t\t\t\tself.redraw();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\t_onBlur: function(ev) {\n\t\t\tvar self = this;\n\t\t\tif(self.autoValidate === 'blur') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * weight < 0 goest to left\n\t\t *\n\t\t * Overly complex weight logic, maybe this can be refactored!\n\t\t */\n\t\taddOn: function(weight, html, className) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(typeof(weight) !== 'number') {\n\t\t\t\tweight = 0;\n\t\t\t}\n\n\t\t\tvar addon = $('<span data-weight=\"' + weight + '\" class=\"field-item addon\">' + html + '</span>');\n\n\t\t\tif(className) {\n\t\t\t\taddon.addClass(className);\n\t\t\t}\n\n\t\t\tvar pre = true, found = false;\n\t\t\tlayers.items.children().each(function () {\n\t\t\t\tvar el = $(this);\n\n\t\t\t\tif(el.hasClass('field-item-input')){\n\t\t\t\t\tpre = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Get correct element weight\n\t\t\t\tvar eWeight = el.data('weight');\n\t\t\t\tif(typeof(eWeight) !== 'number') {\n\t\t\t\t\teWeight = 0;\n\t\t\t\t}\n\n\t\t\t\tif(pre && weight < 0 && weight <= eWeight){\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\t// refresh first\n\t\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(!pre && weight >= 0 && weight <= eWeight) {\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found && weight < 0){\n\t\t\t\t// Must just left of input\n\t\t\t\tlayers.items.find('.field-item-input').before(addon);\n\t\t\t\t\n\t\t\t\t// refresh first\n\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t} else if(!found){\n\t\t\t\t// Must go all the way right\n\t\t\t\tlayers.items.append(addon);\n\t\t\t}\n\n\t\t\treturn addon;\n\t\t},\n\n\t\tplaceholder: function (s) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.placeholder){\n\t\t\t\tlayers.placeholder = $('<div class=\"placeholder noselect\"></div>').hide().appendTo(layers.input);\n\t\t\t}\n\n\t\t\tlayers.placeholder.text(s);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tself.set(self.element.attr('value'));\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tself.clearDirty();\n\n\t\t\tif(type && $.isFunction(type.clear)) {\n\t\t\t\ttype.clear.call(type, self);\n\t\t\t}else{\n\t\t\t\tself.prevValue = '';\n\t\t\t\tself.set('');\n\t\t\t}\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.cleanCheckTimer){\n\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\t\t\tself.field.removeClass('dirty');\n\t\t\tself.element.trigger('clean');\n\t\t},\n\n\t\tconflicts: function (value) {\n\t\t\tvar self = this;\n\t\t\tif(self.dirty){\n\t\t\t\treturn {\n\t\t\t\t\tkey: self.element.attr('name'),\n\t\t\t\t\tvOld: self.prevValue,\n\t\t\t\t\tvNew: value,\n\t\t\t\t\tvDirty: self.get()\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tset: function(value, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\tif (setOptions.autoClean) {\n\t\t\t\t/*\n\t\t\t\t * store the base value\n\t\t\t\t */\n\t\t\t\tself.prevValue = value;\n\n\t\t\t\tself.clearDirty();\n\t\t\t}\n\n\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\tif(self.hasStatus('error'))\n\t\t\t\tself.status('error', false, false);\n\n\t\t\tvar val = self._formatToField(value);\n\n\t\t\t/*\n\t\t\t * some complex types might not want input.val() to be called,\n\t\t\t * so ignore all undefined variables\n\t\t\t */\n\t\t\tif(typeof(val) !== 'undefined') {\n\t\t\t\te.val(val);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run the inputFilter if one exists on this field\n\t\t\t */\n\t\t\tvar f = e.data('inputFilter');\n\t\t\tif(f) {\n\t\t\t\tf._clean();\n\t\t\t}\n\n\t\t\tself._trigger('afterset', null, [val, value]);\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.redraw();\n\t\t\t}, 0);\n\n\t\t},\n\t\t\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\treturn self._formatFromField(e.val());\n\t\t},\n\n\t\t/*\n\t\t * Legacy Method, use get() and set()\n\t\t *\n\t\t * value getter/setter for this field\n\t\t */\n\t\tvalue: function(value) {\n\t\t\tvar self = this;\n\n\t\t\tif(value === undefined) {\n\t\t\t\treturn self.get();\n\t\t\t} else {\n\t\t\t\treturn self.set(value);\n\t\t\t}\n\t\t},\n\n\t\tisEmpty: function() {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\t// check if type declares an isEmpty method\n\t\t\tif($.isFunction(type.isEmpty)) {\n\t\t\t\treturn type.isEmpty.call(type, self);\n\t\t\t}\n\t\t\t\n\t\t\treturn $.trim(self.element.val()) === '';\n\t\t},\n\n\t\tvalidate: function(skipRequired) {\n\t\t\tvar self = this,\n\t\t\t\tstates = self.states,\n\t\t\t\ttype = self.type,\n\t\t\t\tempty = self.isEmpty();\n\n\t\t\t/*\n\t\t\t * check required, compare against the actual value in the field\n\t\t\t */\n\t\t\t\n\t\t\tif(!skipRequired && states.require && empty) {\n\t\t\t\tself.setError({\n\t\t\t\t\tmessage: 'required'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * only call validate if not empty\n\t\t\t */\n\t\t\tif(empty) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif($.isFunction(self.format)) {\n\t\t\t\tself.format.call(self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check the type validation\n\t\t\t */\n\t\t\tif($.isFunction(type.validate)) {\n\t\t\t\tvar err = type.validate.call(type, self);\n\t\t\t\tif(typeof err === 'undefined') {\n\t\t\t\t\tself.clearError();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tself.setError(err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.clearError();\n\t\t\treturn true;\n\t\t},\n\n\t\t/*\n\t\t * flashes the field to get the users attention\n\t\t *\n\t\t * TODO: support flashing patterns\n\t\t */\n\t\tflash: function(numberOfTimes) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\trepeat(function() {\n\t\t\t\tself.field.addClass('flash');\n\t\t\t\tself.flashTimer = setTimeout(function() {\n\t\t\t\t\tself.field.removeClass('flash');\n\t\t\t\t}, 150);\n\t\t\t}, 150, numberOfTimes || 1);\n\t\t},\n\n\t\t/*\n\t\t * err: {\n\t\t *   message: '',\n\t\t *   code: '',\n\t\t *   description: ''\n\t\t * }\n\t\t */\n\t\tsetError: function(err) {\n\t\t\tvar self = this,\n\t\t\t\terror = self.states.error,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t/*\n\t\t\t * check if we need to clear the error\n\t\t\t */\n\t\t\tif(err === undefined) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!layers.error) {\n\t\t\t\tlayers.error = $('<div class=\"error-overlay noselect\"></div>').appendTo(layers.input);\n\t\t\t}\n\n\t\t\t//TODO: place error then check for overlaps\n\t\t\tlayers.error.text(err.message);\n\n\t\t\tself.status('error', true);\n\n\t\t\t/*\n\t\t\t * listen to keyUp events and rerun validate on this field\n\t\t\t */\n\t\t\tself.autoValidate = 'keyup';\n\t\t},\n\n\t\tclearError: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.states.error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.autoValidate = 'blur';\n\t\t\tself.status('error', false);\n\t\t},\n\n\t\t_formatToField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(value === null || value === undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.toField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.toField.call(type, value, self);\n\t\t},\n\n\t\t_formatFromField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.fromField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.fromField.call(type, value, self);\n\t\t},\n\n\t\t/*\n\t\t * decide what layers should be shown or hidden in the field\n\t\t *\n\t\t * warning: this function gets called a lot!\n\t\t */\n\t\tredraw: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\thasVal = !!self.element.val(),\n\t\t\t\tshowError = false,\n\t\t\t\tshowNotice = true,\n\t\t\t\tshowPlaceholder = true,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t\t//self.inputWidth = self.element.width(); // Added this line to fix display issue \n\n\t\t\tif(hasVal) {\n\t\t\t\tshowPlaceholder = false;\n\t\t\t}\n\n\t\t\tif(self.suffixShim && !showPlaceholder){\n\t\t\t\tself.suffixShim.text(e.val());\n\t\t\t}\n\n\t\t\tif(layers.prefix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.prefixPaddingAdded) {\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingLeft = e.css('padding-left').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingLeft = isNaN(self.startPaddingLeft)? 5 : parseInt(self.startPaddingLeft);\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingLeft: (self.startPaddingLeft + layers.prefix.outerWidth()) + \"px\",\n\t\t\t\t\t\t\twidth: (self.startInputWidth - layers.prefix.outerWidth())  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.prefixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingLeft: self.startPaddingLeft,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tself.prefixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(layers.suffix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.suffixPaddingAdded) {\n\t\t\t\t\t\tvar valWidth = layers.suffix.find('.value').outerWidth();\n\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingRight = e.css('padding-right').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingRight = isNaN(self.startPaddingRight)? 0 : parseInt(self.startPaddingRight);\n\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingRight: (self.startPaddingRight + valWidth) + 'px',\n\t\t\t\t\t\t\twidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.suffixShim.css({\n\t\t\t\t\t\t\tmaxWidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.suffixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\t\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingRight: self.startPaddingRight,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tself.suffixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif(o.hover){\n\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.focus){\n\t\t\t\tshowSuggest = false;\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.warn){\n\n\t\t\t}\n\t\t\t*/\n\t\t\tif(self.states.error) {\n\t\t\t\tshowNotice = false;\n\t\t\t\tshowError = true;\n\t\t\t}\n\n\t\t\tif(self.dirty){\n\t\t\t\tself.field.addClass('dirty');\n\t\t\t}else{\n\t\t\t\tself.field.removeClass('dirty');\n\t\t\t}\n\n\t\t\tself._showLayer('error', showError);\n\t\t\tself._showLayer('notice', showNotice);\n\t\t\tself._showLayer('placeholder', showPlaceholder);\n\t\t\tself._showLayer('suffix', !showPlaceholder);\n\t\t\tself._showLayer('prefix', !showPlaceholder);\n\t\t},\n\n\t\t_showLayer: function(layer, show) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(!self.layers[layer]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(layer === 'suffix')\n\t\t\t\t\tself.layers[layer].css('visibility', 'visible');\n\t\t\t\telse\n\t\t\t\t\tself.layers[layer].show();\n\n\t\t\t\t// MISC-919 make sure placeholder stays in input box\n\t\t\t\tif(layer === 'placeholder' && e.width() > 0) {\n\t\t\t\t\tvar ph = self.layers[layer];\n\t\t\t\t\twhile((ph.outerWidth(true)) > e.width() && (parseFloat(ph.css('font-size'),10) >= 8.0)) {\n\t\t\t\t\t\tph.css('font-size','-=1.0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(layer === 'suffix')\n\t\t\t\t\tself.layers[layer].css('visibility', 'hidden');\n\t\t\t\telse\n\t\t\t\t\tself.layers[layer].hide();\n\t\t\t}\n\t\t},\n\n\t\tsetType: function(sType) {\n\t\t\tvar self = this,\n\t\t\t\ttypes = $.add123.inputField.types,\n\t\t\t\ttype = self.type;\n\n\t\t\t/*\n\t\t\t * run the type tear down if it exists\n\t\t\t */\n\t\t\tif(type && $.isFunction(type.tearDown)) {\n\t\t\t\ttype.tearDown().call(type, self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if type doesn't exist set to the default of text\n\t\t\t */\n\t\t\tif(!sType || !types[sType]) {\n\t\t\t\tsType = 'text';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * setup the field type\n\t\t\t */\n\t\t\ttype = Object.create(types[sType]);\n\n\t\t\t/*\n\t\t\t * run the type setup\n\t\t\t */\n\t\t\tif($.isFunction(type.setUp)) {\n\t\t\t\ttype.setUp.call(type, self);\n\t\t\t}\n\n\t\t\tself.type = type;\n\t\t},\n\n\t\t/*\n\t\t * returns the type object\n\t\t */\n\t\tgetType: function () {\n\t\t\treturn this.type;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.field.hide();\n\t\t},\n\n\t\tshow: function(displayValue) {\n\t\t\tif (displayValue) {\n\t\t\t\tthis.field.css('display', displayValue);\n\t\t\t} else {\n\t\t\t\tthis.field.show();\n\t\t\t}\n\t\t},\n\n\t\tgetField: function() {\n\t\t\treturn this.field;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.status('disable', false);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.status('disable', true);\n\t\t},\n\n\t\tisDisabled: function() {\n\t\t\treturn this.hasStatus('disable');\n\t\t},\n\n\t\t/*\n\t\t * public status setters\n\t\t */\n\t\tstatus: function(statusName, bool, fireEvents) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * only allow changes to status flags\n\t\t\t */\n\t\t\tif($.inArray(statusName, statusNames) < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * clean and set status in options\n\t\t\t */\n\t\t\tvar cleanBool = !!bool,\n\t\t\t\tstates = self.states;\n\n\t\t\tif(cleanBool === states[statusName]) {\n\t\t\t\t/*\n\t\t\t\t * this status is already set, ignore\n\t\t\t\t */\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstates[statusName] = cleanBool;\n\t\t\tself.redraw();\n\n\t\t\t/*\n\t\t\t * set the status class to the field\n\t\t\t */\n\t\t\tif(states[statusName]) {\n\t\t\t\tself.field.addClass(statusName);\n\t\t\t} else {\n\t\t\t\tself.field.removeClass(statusName);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run any updates to the field needed\n\t\t\t */\n\t\t\tvar layers = self.layers;\n\t\t\tif(statusName === 'disable') {\n\n\t\t\t\tif(!layers.disable) {\n\t\t\t\t\tlayers.disable = $('<div class=\"disable-overlay\"></div>').appendTo(layers.items);\n\t\t\t\t}\n\n\t\t\t\tif(cleanBool) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tlayers.disable.css({\n\t\t\t\t\t\t\twidth: (layers.items.outerWidth() - 2) + 'px',\n\t\t\t\t\t\t\theight: (layers.items.outerHeight() - 2) + 'px'\n\t\t\t\t\t\t}).show();\n\t\t\t\t\t}, 0);\n\n\t\t\t\t} else {\n\t\t\t\t\tlayers.disable.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * fire statusUpdated event\n\t\t\t */\n\t\t\tif(fireEvents !== false) {\n\t\t\t\tself._trigger(\"statusUpdate\", null, {\n\t\t\t\t\t'statusName': statusName,\n\t\t\t\t\t'value': states[statusName]\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t * legacy status method\n\t\t */\n\t\tupdateStatus: function(statusName, bool, fireEvents) {\n\t\t\tthis.status(statusName, bool, fireEvents);\n\t\t},\n\n\t\thasStatus: function (statusName) {\n\t\t\treturn !!this.states[statusName];\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tvar self = this;\n\n\t\t\t//TODO remove all handlers\n\t\t\t//\n\n\t\t\t/*\n\t\t\t * tearDown type object\n\t\t\t */\n\t\t\tif(self.type && self.type.tearDown){\n\t\t\t\tself.type.tearDown.call(self.type, self);\n\t\t\t}\n\t\t}\n\t});\n\n\n\n\t$.add123.inputField.types = {\n\t\tsetUp: function(ui) {},\n\t\ttearDown: function(ui) {},\n\t\tconverter: {\n\t\t\ttoField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\treturn {\n\t\t\t\tmessage: 'Demo Error'\n\t\t\t};\n\t\t}\n\t};\n\n\n}(jQuery));\n\n","/**\n * inputFilter widget\n */\n\n(function($) {\n\t$.widget('add123.inputFilter', {\n\n\t\toptions: {\n\t\t\ttoUpper: false,\n\t\t\t//TODO: support max, flash when at end of string, other wise just splice off the end\n\t\t\tmax: 0,\n\t\t\tpattern: /[\\w\\s]/ \t// was [A-Z]\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tmemory;\n\n\t\t\t/*\n\t\t\t * track if a native change event will be fired by the browser\n\t\t\t */\n\t\t\tself.nativeChange = false;\n\n\t\t\tif(!e.is('input[type=text], textarea')) {\n\t\t\t\tthrow new Error('inputFilter must be applied to a text input ');\n\t\t\t}\n\n\t\t\te.on('keydown.inputFilter', $.proxy(this._onKeyDown, self));\n\t\t\te.on('keypress.inputFilter', $.proxy(this._onKeyPress, self));\n\t\t\te.on('paste.inputFilter', $.proxy(this._onPaste, self));\n\n\t\t\t/*\n\t\t\t * support change events\n\t\t\t */\n\t\t\te.on('focus.inputFilter', function() {\n\t\t\t\tmemory = e.val();\n\t\t\t});\n\t\t\te.on('blur.inputFilter', function() {\n\t\t\t\tif(!self.nativeChange && memory !== e.val()) {\n\t\t\t\t\te.change();\n\t\t\t\t}\n\t\t\t\tself.nativeChange = false;\n\t\t\t});\n\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tthis.options.max = max;\n\t\t},\n\n\t\tsetPattern: function (regex) {\n\t\t\tthis.options.pattern = regex;\n\t\t},\n\n\t\t_onPaste: function(ev) {\n\t\t\t/*\n\t\t\t * on the paste event, schedule a clean\n\t\t\t */\n\t\t\tsetTimeout($.proxy(this._clean, this), 0);\n\t\t},\n\n\t\t_onKeyDown: function(ev) {\n\t\t\t/*\n\t\t\t * detect when the native change event will be fired\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\tthis.nativeChange = true;\n\t\t\t}\n\t\t},\n\n\n\t\t_onKeyPress: function(ev) {\n\t\t\tvar self = this;\n\t\t\t/*\n\t\t\t * Weird IE glitch fix\n\t\t\t *\n\t\t\t * TODO: this needs an explaination of the problem\n\t\t\t */\n\t\t\t//if (!ev.which && ((ev.charCode || ev.charCode === 0) ? ev.charCode : ev.keyCode)) {\n\t\t\t//\tev.which = ev.charCode || ev.keyCode;\n\t\t\t//}\n\t\t\t/*\n\t\t\t * bypass command keys\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tself._type(String.fromCharCode(ev.which));\n\t\t\treturn false;\n\t\t},\n\n\t\t/*\n\t\t * retype all the characters in the field so they are passed through the filter\n\t\t */\n\t\t_clean: function() {\n\t\t\tvar v = this.element.val();\n\t\t\tthis.element.val('');\n\t\t\t$.each(v.split(''), $.proxy(function(i, c) {\n\t\t\t\tthis._type(c);\n\t\t\t}, this));\n\t\t},\n\n\t\t/*\n\t\t * manually enter the given text into the input field\n\t\t * obeying the regular expression and triggering events\n\t\t * when characters are ignored\n\t\t */\n\t\t_type: function(text) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tkeytypedEvent = 'keytyped',\n\t\t\t\tkeyignoredEvent = 'keyignored',\n\t\t\t\tp, tmp;\n\n\t\t\tif(o.toUpper) {\n\t\t\t\ttext = text.toUpperCase();\n\t\t\t}\n\n\t\t\tif(text.match(o.pattern)) {\n\t\t\t\t/*\n\t\t\t\t * only deal with the caret if the field is focused\n\t\t\t\t */\n\t\t\t\tif(e.is(':focus')) {\n\t\t\t\t\tp = e.caret();\n\t\t\t\t\ttmp = val.slice(0, p.begin) + text + val.slice(p.end);\n\t\t\t\t\tif(o.max && tmp.length > o.max){\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.val(tmp);\n\t\t\t\t\t\te.caret(p.begin + text.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp = val + text;\n\n\t\t\t\t\tif(o.max && p.length > o.max){\n\t\t\t\t\t\tp = p.substring(0, o.max);\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.val(p);\n\t\t\t\t}\n\n\t\t\t\tself._trigger(keytypedEvent);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.inputFilter');\n\t\t}\n\n\t});\n})(jQuery);","\n\n(function($){\n\tvar doc = $(document),\n\t\twin = $(window),\n\t\tbody = $('body');\n\n\t$.widget(\"add123.popOver\", {\n\n\t\toptions: {\n\t\t\ttarget: '',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tappendTo: 'body'\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.showing = false;\n\n\t\t\te.detach();\n\t\t\tvar content = e.clone().addClass('form-input-tooltip');\n\t\t\tself.title = $('<h3 class=\"tooltip-title\"></h3>');\n\n\t\t\te.addClass('tooltip-wrapper').css('position', 'absolute');\n\n\t\t\te.empty();\n\n\t\t\te.append(self.title).append(content);\n\n\t\t\te.appendTo(o.appendTo);\n\n\t\t\tself.onClick = function(ev) {\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!target.childOf(e, true) && !$(ev.delegateTarget.activeElement).childOf(e, true) && !target.childOf(o.target, true)) {\n\t\t\t\t\tif(self._trigger('beforeoffclick', ev, target)) {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.onResize = function(ev) {\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.position();\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * listen for off clicks\n\t\t\t */\n\t\t\tdoc.on('mousedown', self.onClick);\n\n\t\t\t/*\n\t\t\t * listen for window resizes\n\t\t\t */\n\t\t\twin.on('resize', self.onResize);\n\t\t},\n\n\t\tsetAppendTo: function (el) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\to.appendTo = el;\n\t\t\te.appendTo(el);\n\t\t},\n\n\t\t_init: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\ttitleElement = self.title;\n\n\t\t\tvar title = e.attr('title');\n\n\t\t\tif(title) {\n\t\t\t\ttitleElement.text(title).show();\n\t\t\t}else{\n\t\t\t\ttitleElement.hide();\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.showing) {\n\t\t\t\tself.hide();\n\t\t\t} else {\n\t\t\t\tself.show();\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * show must be deferred with a timeout to avoid being affected by an offclick\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.showing = true;\n\t\t\t\tself.position();\n\t\t\t\t/*\n\t\t\t\t * fadeIn is used instead of show() so that the popover\n\t\t\t\t * posistioning is not visible\n\t\t\t\t */\n\t\t\t\tself.element.fadeIn(10);\n\t\t\t\tself._trigger('onShow');\n\t\t\t}, 0);\n\t\t},\n\n\t\thide: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.showing = false;\n\n\t\t\tself.element.hide();\n\t\t\tself._trigger('onHide');\n\t\t},\n\n\t\tposition: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tmy = 'left+' + (o.left - 3) + ' top+' + (o.top + 3),\n\t\t\t\tat = 'left bottom',\n\t\t\t\tcollision = 'flipfit none';\n\n\t\t\tif (o.my) {\n\t\t\t\tmy = o.my;\n\t\t\t}\n\n\t\t\tif (o.at) {\n\t\t\t\tat = o.at;\n\t\t\t}\n\n\t\t\tif (o.collision) {\n\t\t\t\tcollision = o.collision;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\te.position({\n\t\t\t\t\tmy: my,\n\t\t\t\t\tat: at,\n\t\t\t\t\tof: o.target,\n\t\t\t\t\tcollision: collision\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tdoc.off('mousedown', self.onClick);\n\t\t\twin.off('resize', self.onResize);\n\t\t}\n\t});\n\n})(jQuery);","/**\n * submitButton Widget\n */\n(function($) {\n\t/*\n\t * when you catch the submitbuttonsubmit event, you need to call execute\n\t * 'event.data.onComplete' when the processing is done\n\t */\n\t$.widget('add123.submitButton', {\n\t\toptions: {\n\t\t\tcolor: '#000',\n\t\t\tdelay: 10,\n\t\t\tdisabled: false,\n\t\t\twaiting: false,\n\t\t\t// label: undefined, //ignored by create\n\t\t\tpreventDefault: true,\n\t\t\tenterKeyListenerProvider: function() {\n\t\t\t\treturn this.parents('form').first();\n\t\t\t},\n\t\t\tonKeyDown: function (ev) {\n\t\t\t\tif(ev.keyCode === 13 && !$(ev.target).is('textarea')) {\n\t\t\t\t\tthis.submit.call(this, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\tw = e.width(),\n\t\t\t\th = e.height();\n\n\t\t\te.addClass('submitting');\n\n\t\t\tself.getButtonLabel().css('visibility', 'hidden');\n\n\t\t\tself.spinner.appendTo(e).spin({\n\t\t\t\tcolor: o.color,\n\t\t\t\ttop: -h + 4,\n\t\t\t\tleft: -7\n\t\t\t});\n\t\t},\n\n\t\tgetButtonLabel: function () {\n\t\t\treturn this.element.find('.ui-button-text');\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.destroyed){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.removeClass('submitting');\n\t\t\tself.spinner.spin('stop');\n\t\t\tself.getButtonLabel().css('visibility', 'visible');\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\t\t\tvar e = self.element,\n\t\t\t\tbOptions = {};\n\n\t\t\tif(o.icons) {\n\t\t\t\tbOptions.icons = o.icons;\t// does nothing\n\t\t\t}\n\n\t\t\tif(o.disabled) {\n\t\t\t\tbOptions.disabled = o.disabled;\n\t\t\t}\n\n\t\t\tif(o.text !== undefined){\n\t\t\t\tbOptions.text = o.text;\n\t\t\t}\n\n\t\t\to.label = e.html();\n\t\t\te.button(bOptions).on('click.submitButton', $.proxy(self.submit, self));\n\n\t\t\tself.spinner = $('<div class=\"spinner\" style=\"display: inline-block; position: absolute;\"></div>');\n\t\t\te.append(this.spinner);\n\n\t\t\t// This actually doesn't seem to do anything. The browser will do it automatically\n\t\t\tvar listenerProvider = o.enterKeyListenerProvider;\n\t\t\tif($.isFunction(listenerProvider)) {\n\t\t\t\tvar listener = listenerProvider.call(e);\n\t\t\t\tif(typeof listener !== 'undefined') {\n\t\t\t\t\tlistener.on('keydown.submitButton', $.proxy(o.onKeyDown, self));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsubmit: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\n\t\t\tif(o.preventDefault && ev)\n\t\t\t\tev.preventDefault();\n\n\t\t\tif(o.waiting === true || o.disabled === true)\n\t\t\t\treturn this;\n\n\t\t\tif(!ev)\n\t\t\t\tev = null;\n\n\t\t\tif(self._trigger('beforesubmit', ev) === false)\n\t\t\t\treturn this;\n\n\n\t\t\to.waiting = true;\n\t\t\tself._showLoading.call(self);\n\n\t\t\t/*\n\t\t\t * submit clicks are delayed so that the UI can update before\n\t\t\t * doing all of the submit work\n\t\t\t *\n\t\t\t * passes the onComplete callback as the data for this event\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself._trigger('submit', ev, function() {\n\t\t\t\t\to.waiting = false;\n\t\t\t\t\tself._hideLoading.call(self);\n\t\t\t\t\tself._trigger('aftersubmit', ev);\n\t\t\t\t});\n\t\t\t}, o.delay);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.options.disabled = false;\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.options.disabled = true;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.submitButton');\n\t\t\tself.destroyed = true;\n\t\t}\n\t});\n})(jQuery);","/*\n\t * Large Code Type Support (code)\n\t *\n\t * TODO: update this so that the code table does not have to global (e.g. assigned to window)\n\t *\n\t * Example Code Table:\n\t * [\n\t *   {\"value\" : \"100\",  \"label\" : \"BROWARD TRAILER\"},\n\t *   {\"value\" : \"AAA\",  \"label\" : \"122 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"BBB\",  \"label\" : \"22 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"CCC\",  \"label\" : \"333 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"EEE\",  \"label\" : \"444 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"ZZZ\",  \"label\" : \"MEADOW CREEK WELDING LLC.\"}\n\t * ]\n\t */\n\n\n\n(function($) {\n\n\t/*\n\t * binary array search, codes must be in alpha order!\n\t */\n\tvar binarySearch = function(needle, haystack) {\n\t\tvar mid, element;\n\n\t\tif(!haystack.length) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar high = haystack.length - 1;\n\t\tvar low = 0;\n\n\t\tneedle = needle.toLowerCase();\n\n\t\t//TODO: only supporting case insensitive right now\n\t\twhile(low <= high) {\n\t\t\tmid = parseInt((low + high) / 2, 10);\n\t\t\telement = haystack[mid].value.toLowerCase();\n\t\t\tif(element > needle) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if(element < needle) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\treturn mid;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tvar codeListFilter = function(codeTable) {\n\t\treturn function(request, response) {\n\t\t\tif(request.term.length < 3) {\n\t\t\t\tresponse();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"i\");\n\n\t\t\tvar matches = $.grep(codeTable, function(value) {\n\t\t\t\treturn matcher.test(value.label) || matcher.test(value.value);\n\t\t\t});\n\n\t\t\tresponse(matches);\n\t\t};\n\t};\n\n\t$.add123.inputField.types.code = {\n\t\tsetUp: function(ui) {\n\t\t\tvar e = ui.element,\n\t\t\t\to = ui.options;\n\n\n\t\t\tvar codeTableName = e.data('codes');\n\n\t\t\tif(!codeTableName) {\n\t\t\t\tthrow new Error('not data-codes attribute given for input ' + e.attr('name'));\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * save code table reference to options\n\t\t\t */\n\t\t\to._codeTable = window[codeTableName];\n\n\t\t\tif(!o._codeTable) {\n\t\t\t\tthrow new Error('ERROR: data-codes points to an undefined window property window[' + codeTableName + '] for input [name=' + e.attr('name') + ']');\n\t\t\t}\n\n\t\t\te.autocomplete({\n\t\t\t\tsource: codeListFilter(o._codeTable)\n\t\t\t}).on('autocompleteselect.type-code', function(ev, ui) {\n\t\t\t\t/*\n\t\t\t\tif(ui.item && ui.item.label) {\n\t\t\t\t\t//o._layers.notice.html(ui.item.label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t}).on('keyup.type-code', function(ev) {\n\t\t\t\t/*\n\t\t\t\tvar val = binarySearch(e.val(), o._codeTable);\n\t\t\t\tif(val > -1) {\n\t\t\t\t\t//o._layers.notice.html(o._codeTable[val].label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t});\n\n\t\t},\n\t\ttearDown: function(ui) {\n\t\t\tvar o = ui.options,\n\t\t\t\te = ui.element;\n\t\t\te.html('').off('.type-code').autocomplete('destroy');\n\t\t\tdelete o.codeTable;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\tvar e = ui.element;\n\t\t\tif(binarySearch(e.val(), ui.options._codeTable) < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Datatype 'select'\n * \n */\n\n(function($) {\n\tvar doc = $(document);\n\t$.add123.inputField.types.select = {\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this, // Object = {}\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\t\t\tself.source = [];\n\t\t\tself.inputWidget = inputWidget;\n\n\t\t\tvar fieldGroup = self.fieldGroup = inputWidget.field.parents('.input-field-group');\n\n\t\t\tif(e.is('select')){\n\t\t\t\tconsole.log('** ERROR: deprecated use of <select> in the select type **');\n\t\t\t}\n\n\t\t\te.css('opacity', 0);\n\n\t\t\t/*\n\t\t\t * width(inputWidget.layers.items.width() - 26).\n\t\t\t */\n\t\t\tvar shim = self.shim = $('<div class=\"shim\" style=\"width:100%;height:100%;position:absolute;top:0;left:0;\"><div style=\"padding:0 25px 0 6px;overflow:hidden;\"><div style=\"overflow:hidden;\"></div></div></div>').insertAfter(e);\n\n\t\t\tinputWidget.field.addClass('select-box');\n\n\t\t\tself.iconClosed = $('<span class=\"tms-icon tms-icon-sort-down dropdown-closed-icon\"></span>').insertAfter(e);\n\t\t\tself.iconOpen = $('<span class=\"tms-icon tms-icon-sort-up dropdown-open-icon\"></span>').insertAfter(e).hide();\n\t\t\t/*\n\t\t\tself.iconClear = $('<span class=\"tms-icon tms-icon-erase clear-icon\"></span>').insertAfter(shim).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tself.clear();\n\t\t\t\te.change();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t*/\n\t\t\tvar panel = self.panel = $('<div class=\"dropdown-panel\"><div class=\"tms-select-dropdown-content\"><div class=\"search\"/><div class=\"options\" style=\"position:relative;\"/></div></div>').hide();\n\t\t\tself.options = panel.find('.options');\n\n\t\t\tinputWidget.layers.items.append(panel).css('position', 'relative');\n\n\t\t\tvar selectionClass = self.sectionClass =  'selected';\n\n\t\t\tpanel.on('click', '.option', function () {\n\t\t\t\tself._setSelected();\n\t\t\t}).on('mouseenter', '.option', function () {\n\t\t\t\tpanel.find('.' + selectionClass).removeClass(selectionClass);\n\t\t\t\t$(this).addClass(selectionClass);\n\t\t\t}).on('mouseleave', '.option', function () {\n\t\t\t\t$(this).removeClass(selectionClass);\n\t\t\t});\n\n\t\t\tinputWidget.layers.items.on('click', function (ev) {\n\t\t\t\tif (inputWidget.states.disable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(target.childOf(panel, true)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * stop all enter and esc key events to leave the field\n\t\t\t */\n\t\t\t/*\n\t\t\tinputWidget.field.on('keydown', function (ev) {\n\n\t\t\t\tif(ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself._setSelected();\n\t\t\t\t}\n\n\n\t\t\t\tif(ev.which === 27 || ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.element.focus();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t*/\n\n\t\t\t/*\n\t\t\t * build filter input\n\t\t\t */\n\t\t\tvar filter = self.filter = $('<input type=\"text\" class=\"filter-box\" style=\"width:100%;position:relative;\" />').appendTo(panel.find('.search')).inputField();\n\t\t\tfilter.after('<span class=\"tms-icon tms-icon-search\" style=\"position:absolute;right: 7px;top: 1px; font-size: 15px; cursor: default;\"></span>');\n\t\t\tfilter.parents('.field-item').first().addClass('first');\n\n\t\t\tfilter.parent().css('display', 'block').parent().css('display', 'block').parent().css('display', 'block');\n\n\t\t\t/*\n\t\t\t * kill click event, to prevent the inputField from grabbing focus\n\t\t\t */\n\n\t\t\tfilter.on('click', function (ev) {\n\t\t\t\tconsole.log('inside click');\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * down 40\n\t\t\t * up 39\n\t\t\t * left 37\n\t\t\t * right 39\n\t\t\t */\n\n\n\t\t\te.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keyup', $.proxy(self._onKeyup, self));\n\n\t\t\tfilter.on('dirty clean', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\tself.closeListener = function (ev) {\n\t\t\t\tvar which = ev.which;\n\t\t\t\t/*\n\t\t\t\tif(ev.which === 9){\n\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif(which === 27 || which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\tif(which === 13){\n\t\t\t\t\t\tself._setSelected();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!target.childOf(panel, true) && !target.childOf(fieldGroup, true)){\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.update();\n\t\t},\n\n\t\t_keyDownNavigate: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tselectionClass = self.sectionClass,\n\t\t\t\twhich = ev.which;\n\n\t\t\t/*\n\t\t\t * special handling for tab, does not perform any function (keeping for legacy)\n\t\t\t */\n\t\t\tif(which === 9){\n\t\t\t\tself.element.next('input').focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif(which === 27 || which === 13){\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar selected, next;\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 40){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:first').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.next();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 38){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:last').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.prev();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\tif(which < 32 || which > 126){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.open();\n\t\t},\n\n\t\t_onKeyup: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tfilter = self.filter,\n\t\t\t\twhich = ev.which,\n\t\t\t\tval = filter.val();\n\n\t\t\tif(self.filterValue === val){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = val;\n\n\n\t\t\tself._filterOptions();\n\t\t},\n\n\t\t_setSelected: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\t/*\n\t\t\t * use the first value if none of the options are selected\n\t\t\t */\n\t\t\tif(!selected.length){\n\t\t\t\tself._selectFirstNonEmptyOption();\n\t\t\t}\n\n\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\tvar item = self.item = selected.data('item');\n\t\t\t/*\n\t\t\t * TMS-1137\n\t\t\t * if nothing is selected, ignore this call\n\t\t\t */\n\t\t\tif(!item){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._setLabel(self.renderLabel(item));\n\n\t\t\tself.close();\n\t\t\te.val(self.item.value);\n\t\t\te.focus();\n\t\t\te.change();\n\t\t\tself.inputWidget.redraw();\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\t_selectFirstNonEmptyOption: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.find('.option:not(.filtered):visible').each(function () {\n\t\t\t\tvar option = $(this);\n\t\t\t\tif(option.html()){\n\t\t\t\t\toption.addClass('selected');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_set: function (val) {\n\t\t\tvar self = this;\n\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\n\t\t\tself.item = undefined;\n\n\t\t\tself.loaded.done(function () {\n\t\t\t\tself._removeSelection();\n\t\t\t\tvar options = self.panel.find('.option');\n\n\t\t\t\toptions.each(function () {\n\t\t\t\t\tvar item = $(this),\n\t\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\t\tif(self._equal(itemData, val)){\n\t\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\t\tself.item = itemData;\n\t\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!self.item || !self.item.value){\n\t\t\t\t\tif(self.inputWidget._trigger('itemnotfound', null, [val])){\n\t\t\t\t\t\tself._handleItemNotFound();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_removeSelection: function () {\n\t\t\tthis.panel.find('.option.selected').removeClass('selected');\n\t\t},\n\n\t\t_handleItemNotFound: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tself._setDefaultItem();\n\n\t\t\tif(!self.item || !self.item.value){\n\t\t\t\tself._selectFirstItem();\n\t\t\t}\n\t\t},\n\n\t\t_setDefaultItem: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option'),\n\t\t\t\tdefaultValue =  { value: e.attr('data-default')};\n\n\t\t\toptions.each(function () {\n\t\t\t\tvar item = $(this),\n\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\tif(self._equal(itemData, defaultValue)){\n\t\t\t\t\tif(e.attr('name') === 'params.category'){\n\t\t\t\t\t\tconsole.log('found defaultValue', defaultValue, itemData);\n\t\t\t\t\t}\n\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\tself.item = itemData;\n\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_selectFirstItem: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option');\n\n\t\t\tself.item = options.first().addClass('selected').data('item');\n\t\n\t\t\tif(self.item && self.item.label) {\n\t\t\t\tself._setLabel(self.item.label);\n\t\t\t} else {\n\t\t\t\tself._setLabel('');\n\t\t\t}\n\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\tshowHideCommand: function () {\n\t\t\tvar self = this,\n\t\t\t\tshowClass = self.item && self.item.showClass,\n\t\t\t\tsections = self.showHideSections;\n\n\t\t\tif(!sections){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.hide();\n\n\t\t\tif(!showClass){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.filter('.' + showClass).show();\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.item = {};\n\t\t\tself.panel.find('.selected').removeClass('selected');\n\t\t\te.val('');\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\t\t\tself._handleItemNotFound();\n\t\t\tself.inputWidget.redraw();\n\t\t},\n\n\t\t_equal: function (a, b) {\n\t\t\treturn a && b && a.value === b.value;\n\t\t},\n\n\t\t_setLabel: function (text) {\n\t\t\tthis.shim.children().children().text(text);\n\t\t},\n\n\t\t/*\n\t\t * used for testing\n\t\t */\n\t\t_getLabel: function () {\n\t\t\treturn this.shim.children().children().text();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tvar self = this;\n\t\t\tif(self.panel.is(':visible')){\n\t\t\t\tself.close();\n\t\t\t}else{\n\t\t\t\tself.open();\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * this options was built for testing\n\t\t */\n\t\tgetOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\toptionPanel = self.panel.find('.option'),\n\t\t\t\toptions = [];\n\n\t\t\toptionPanel.each(function () {\n\t\t\t\toptions.push($(this).data('item'));\n\t\t\t});\n\n\t\t\treturn options;\n\t\t},\n\n\t\t_filterOptions: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.addClass('filtering');\n\t\t\tif(self.filterTimer){\n\t\t\t\tclearTimeout(self.filterTimer);\n\t\t\t}\n\t\t\tself.filterTimer = setTimeout(function() {\n\t\t\t\tself.__filterOptionsWork();\n\t\t\t}, 200);\n\t\t},\n\n\t\t__filterOptionsWork: function (optionsElements) {\n\t\t\tvar self = this,\n\t\t\t\tval = self.filterValue;\n\t\t\t/*\n\t\t\tif(val && item.label && item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/\n\n\t\t\tself.panel.addClass('filtering');\n\n\t\t\tif(!optionsElements){\n\t\t\t\toptionsElements = self.panel.find('.option');\n\t\t\t}\n\t\t\t\n\t\t\tif(!optionsElements.length){\n\t\t\t\tself.panel.removeClass('filtering');\n\t\t\t\tself.inputWidget._trigger('filterdone');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar optionsToProcessNow = optionsElements.splice(0,1000);\n\n\t\t\t$.each(optionsToProcessNow, function (i, optionsEl) {\n\t\t\t\tself._filterItem($(optionsEl), val);\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.__filterOptionsWork(optionsElements);\n\t\t\t}, 0);\n\t\t},\n\n\t\t_filterItem: function (optionEl, val) {\n\t\t\tvar self = this,\n\t\t\t\titem = optionEl.data('item');\n\n\t\t\tif(self._itemShoudBeFiltered(item, val)){\n\t\t\t\toptionEl.addClass('filtered');\n\t\t\t}else{\t\t\t\n\t\t\t\toptionEl.removeClass('filtered');\n\t\t\t}\n\t\t},\n\n\t\t_itemShoudBeFiltered: function (item, val) {\n\t\t\tif(!val){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(!item.label){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null;\n\t\t},\n\n\t\t_clearFilter: function () {\n\t\t\tvar self = this;\n\t\t\tself.filter.val('');\n\t\t\tself.panel.find('.option.filtered').removeClass('filtered');\n\t\t},\n\n\t\t_buildEmptyOption: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\temptyLabel = e.data('emptyLabel');\n\n\t\t\tif(emptyLabel !== '' && !emptyLabel){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.source.unshift({\n\t\t\t\tlabel: emptyLabel,\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t},\n\n\t\t_buildOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\toptions = self.options;\n\n\t\t\t\n\t\t\tself.element.trigger('tmsselectbeforebuild');\n\n\t\t\toptions.empty();\n\n\t\t\tvar optionsbuffer = $('<div/>');\n\n\t\t\tif (!e.data('noSort')) {\n\t\t\t\tself._sort(self.source);\n\t\t\t}\n\n\t\t\tself._buildEmptyOption();\n\n\t\t\t$.each(self.source, function (i, item) {\n\t\t\t\t\n\t\t\t\tvar option = $('<div class=\"option\"/>'),\n\t\t\t\t\trenderedItem = self.renderItem(item);\n\n\t\t\t\tif(renderedItem !== null){\n\t\t\t\t\toption.append(renderedItem).data('item', item);\n\t\t\t\t\toptionsbuffer.append(option);\n\t\t\t\t}\n\n\t\t\t\tif(renderedItem === ''){\n\t\t\t\t\toption.height(20);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.append(optionsbuffer);\n\t\t\tself.element.trigger('tmsselectafterbuild', [options]);\n\t\t},\n\n\t\t_sort: function (items) {\n\t\t\titems.sort(function (a, b) {\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar al = a.label.toLowerCase(), bl = b.label.toLowerCase();\n\t\t\t\treturn al > bl ? 1 : al < bl ? -1 : a.label > b.label ? 1 : a.label < b.label ? -1 : 0;\n\t\t\t});\n\t\t},\n\n\t\t_scroll: function () {\n\t\t\tvar self = this,\n\t\t\t\toptions = self.options;\n\n\t\t\tif(!self.panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar selected = self.panel.find('.selected');\n\n\t\t\t\tif(selected.length === 0){\n\t\t\t\t\toptions.scrollTop(0);\n\t\t\t\t}else{\n\t\t\t\t\toptions.scrollTop(selected.position().top - selected.before().outerHeight());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}, 0);\n\n\n\t\t\t/*\n\t\t\tsetTimeout(function() {\n\t\t\t\tpanel.find('.options').scrollTop(0);\n\t\t\t}, 0);\n\t\t\t*/\n\t\t},\n\n\t\topen: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tinputLayer = self.inputWidget.layers.input,\n\t\t\t\titemsLayer = self.inputWidget.layers.items;\n\n\n\t\t\tif(panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = '';\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tvar leftOffset = 0;\n\t\t\tif(inputLayer.index()){\n\t\t\t\tleftOffset = inputLayer.position().left - 1;\n\t\t\t}\n\n\t\t\tpanel.width(e.width()).css({\n\t\t\t\tleft: leftOffset,\n\t\t\t\ttop: (itemsLayer.height() - 1) + 'px',\n\t\t\t\twidth: (e.outerWidth() ) + 'px'\n\t\t\t}).hide();\n\n\t\t\tself.iconClosed.hide();\n\t\t\tself.iconOpen.show();\n\t\t\tpanel.show();\n\t\t\tself.filter.focus();\n\t\t\t//self.filter.hide();\n\n\t\t\tself._scroll();\n\t\t},\n\n\t\trenderLabel: function (item) {\n\t\t\treturn (item && item.label) || '';\n\t\t},\n\n\t\trenderItem: function (item) {\n\t\t\treturn item.label;\n\t\t},\n\n\t\tclose: function () {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tfilter = self.filter;\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tpanel.hide();\n\n\t\t\tself._clearFilter();\n\n\t\t\tself.iconClosed.show();\n\t\t\tself.iconOpen.hide();\n\t\t},\n\n\t\tupdate: function () {\n\t\t\tvar self = this,\n\t\t\t\te =self.element;\n\n\t\t\tself.loaded = $.Deferred();\n\t\t\tself.load().done(function (source) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = [];\n\t\t\t\t}\n\t\t\t\tself.source = source;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.removeInvalid();\n\t\t\t\t}, 0);\n\n\t\t\t\tself._buildOptions();\n\n\t\t\t\t/*\n\t\t\t\t * hide the filter if less then five items are returned\n\t\t\t\t */\n\t\t\t\tif (self.filter && self.filter.data('inputField')) {\n\t\t\t\t\tif(source.length < 5){\n\t\t\t\t\t\tself.filter.inputField('hide');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.filter.inputField('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * scan for showClass commands\n\t\t\t\t */\n\t\t\t\tvar form, sections = $([]);\n\n\t\t\t\t$.each(source, function (i, item) {\n\t\t\t\t\tif(item.showClass){\n\t\t\t\t\t\tif(!form){\n\t\t\t\t\t\t\tform = e.parents(':add123-formBuilder').first();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsections = sections.add(form.find('.' + item.showClass));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.showHideSections = sections;\n\t\t\t\tself.loaded.resolve();\n\t\t\t\tself.showHideCommand();\n\t\t\t});\n\t\t\treturn self.loaded;\n\t\t},\n\n\t\tremoveInvalid: function (ev, ui) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element, \n\t\t\t\tval = e.val(),\n\t\t\t\tsource = self.source, \n\t\t\t\tl = source.length, \n\t\t\t\ti; \n\n\t\t\t/*\n\t\t\t * if ui.item is set, the autocomplete just set this\n\t\t\t * and it does not need to be checked\n\t\t\t */\n\t\t\tif(ui && ui.item){\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t/*\n\t\t\t * verify that the current self.item matches an id in the source and that the label matches\n\t\t\t */\n\t\t\tfor(i = 0; i < l; i++){\n\t\t\t\tif(source[i].label === val && self.item && self.item.value === source[i].value){\n\t\t\t\t\tself.item = source[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.val('');\n\t\t},\n\n\t\t/*\n\t\t * returns a sorted array of objects that have value and label properties\n\t\t */\n\t\tload: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tsource = [],\n\t\t\t\tdataOptions = e.attr('data-options');\n\n\t\t\tif(dataOptions) {\n\t\t\t\tsource = $.parseJSON(dataOptions);\n\t\t\t} else {\n\t\t\t\te.find('option').each(function () {\n\t\t\t\t\tvar option = $(this);\n\t\t\t\t\tsource.push({\n\t\t\t\t\t\tlabel: option.text(),\n\t\t\t\t\t\tvalue: option.val()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $.when(source); // returns a promise object\n\t\t},\n\n\t\tmap: function (raw) {\n\t\t\treturn {\n\t\t\t\tlabel: raw,\n\t\t\t\tvalue: raw\n\t\t\t};\n\t\t},\n\n\t\tdeMap: function (obj) {\n\t\t\tif(!obj){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj.value || null;\n\t\t},\n\n\t\tisEmpty: function () {\n\t\t\tvar self = this,\n\t\t\t\tdata = self.deMap(self.item);\n\n\t\t\treturn data !== 0 && !data;\n\t\t},\n\n\t\tconverter: {\n\n\t\t\tfromField: function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdata = self.item;\n\t\t\t\tif(data === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar val = self.deMap(data);\n\n\t\t\t\tif(val === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\ttoField: function (rawdata) {\n\t\t\t\tvar self = this,\n\t\t\t\t\te = self.element,\n\t\t\t\t\tdata = self.map(rawdata);\n\n\t\t\t\tif(!rawdata && typeof e.data('default') !== 'undefined') {\n\t\t\t\t\tdata = self.map(e.data('default'));\n\t\t\t\t}\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._set(data);\n\n\t\t\t\tif (!self.item) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn self.item.label;\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/*\n * Define general types\n */\n(function($) {\n\t\"use strict\";\n\n\tvar doc = $(document);\n\n\t/*\n\t * InputField Types\n\t *\n\t * Type objects are of the form:\n\t * {\n\t *   setUp : function (ui) {},\n\t *   tearDown : function (ui) {},\n\t *   converter : {\n\t *     toField : function (value, ui) {},\n\t *     fromField : function (value, ui) {}\n\t *   },\n\t *   format : function (ui) {}\n\t *   validate : function (ui) {}\n\t * }\n\t * and stored in $.add123.inputField.types\n\t *\n\t * The context (this) will get set to the context of the type object, use the ui parameter to obtain access to the inputField widget\n\t *\n\t * setUp: add any events, elements, etc.\n\t *\n\t * tearDown: reverse whatever setUp did\n\t *\n\t * converter: used to convert data between \"human\" and transport formats (e.g. mm/dd/yyyy <-> yyyymmdd)\n\t *\n\t * format: attempt to format the human readable value (e.g. mm/ dd/yyyy -> mm/dd/yyyy, '  foo ' -> 'foo')\n\t *    format is called on before validate\n\t *\n\t * validate: returns an error object on error or undefined on success\n\t * err: {\n\t *   message: '',\n\t *   code: '',\n\t *   description: ''\n\t * }\n\t *\n\t */\n\t\n\t var types = $.add123.inputField.types;\n\n\t/*\n\t * the default type\n\t */\n\ttypes.text = {};\n\n\tvar cannedFormatters = {\n\t\ttrim: function(ui) {\n\t\t\tvar e = ui.element;\n\t\t\te.val($.trim(e.val()));\n\t\t}\n\t};\n\n\t/*\n\t * helper function to build basic types\n\t */\n\tvar createRegexType = function(pattern, filter, flags, max) {\n\t\tif(flags === undefined) {\n\t\t\tflags = {};\n\t\t}\n\t\tif(flags.toUpper !== false) {\n\t\t\tflags.toUpper = true;\n\t\t}\n\n\t\tvar type = {\n\t\t\tvalidate: function(ui) {\n\t\t\t\tif(!ui.element.val().match(pattern)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(filter || max) {\n\t\t\ttype.setUp = function(ui) {\n\n\t\t\t\tvar filterData = {\n\t\t\t\t\tpattern: filter || /./,\n\t\t\t\t\ttoUpper: flags.toUpper,\n\t\t\t\t\tmax: max || 0\n\t\t\t\t};\n\n\t\t\t\tif(ui.element.attr('data-max')){\n\t\t\t\t\tfilterData.max = ui.element.attr('data-max');\n\t\t\t\t}\n\n\t\t\t\t//console.log('setup ', ui.element.attr('name'), filterData, max);\n\t\t\t\tui.element.inputFilter(filterData);\n\t\t\t};\n\t\t}\n\n\t\tif(flags.cannedFormatter !== undefined) {\n\t\t\tif($.isFunction(cannedFormatters[flags.cannedFormatter])) {\n\t\t\t\ttype.format = cannedFormatters[flags.cannedFormatter];\n\n\t\t\t\t// add converters\n\t\t\t\ttype.converter = {\n\t\t\t\t\ttoField: function (val, ui) { return type.format(ui); },\n\t\t\t\t\tfromField: function (val, ui) { return type.format(ui); }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t};\n\t$.add123.inputField.createRegexType = createRegexType;\n\n\n\t/*\n\t * basic types\n\t */\n\t$.extend(types, {\n\t\t'utext': createRegexType(/.*/, /.*/, {\n\t\t\ttoUpper: true\n\t\t}),\n\t\t'integer': createRegexType(/^[0-9]*$/, /[0-9]/),\n\t\t'number': createRegexType(/^-?[0-9]+\\.?[0-9]*$/, /[-0-9.]/),\n\t\t'state': createRegexType(/^[A-Z]{2}$/, /[A-Z]/, {}, 2),\n\t\t'feid': createRegexType(/^[0-9]{2}\\-?[0-9]{7}$/, /[0-9\\-]/, {}, 10),\n\t\t'zip': createRegexType(/(^\\d{5}(\\-?\\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} ?\\d{1}[A-Za]{1}\\d{1})$/, /[0-9A-Z\\s\\-]/, {}, 10),\n\t\t'email': createRegexType(/^(?!.*\\.{2})[A-Za-z0-9._%+\\-]+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,4}$/, /[A-Za-z0-9._%+\\-@]/, {\n\t\t\ttoUpper: false,\n\t\t\tcannedFormatter: 'trim'\n\t\t})\n\t});\n\n\n\ttypes.display = {\n\t\tsetUp: function (ui) {\n\t\t\tvar e = ui.element;\n\n\t\t\te.parents('.field-item').hide();\n\t\t\te.parents('.field-items').append('<div class=\"input-display\"></div>');\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function (val, ui) {\n\t\t\t\tui.element.parents('.field-items').find('.input-display').html(val);\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn ui.element.parents('.field-items').find('.input-display').html().trim();\n\t\t\t}\n\t\t}\n\t};\n\n\n\ttypes.phone = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9()\\s\\-x]/\n\t\t\t});\n\n\t\t\te.on('blur', function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tformat: function (text) {\n\n\t\t\tif(!text){\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * find extension delimeter\n\t\t\t */\n\t\t\tvar extensionStart = 0,\n\t\t\t\txlocation = text.indexOf('x'),\n\t\t\t\tlastSpace = text.lastIndexOf(' '),\n\t\t\t\text = '',\n\t\t\t\textraExt = '';\n\n\t\t\tif(xlocation > 0){\n\t\t\t\textensionStart = xlocation;\n\t\t\t}else if(lastSpace > 7){\n\t\t\t\textensionStart = lastSpace;\n\t\t\t}\n\n\t\t\tif(extensionStart > 0){\n\t\t\t\text = text.substring(extensionStart + 1);\n\t\t\t\ttext = text.substring(0, extensionStart);\n\t\t\t}\n\n\t\t\tvar num = $.trim(text.replace(/[()\\s\\-]/g, '')),\n\t\t\t\tnumberLength = num.length;\n\n\n\t\t\tif(num[0] === '1'){\n\t\t\t\tnum = num.substring(1);\n\t\t\t\tnumberLength--;\n\t\t\t}\n\n\t\t\tif(numberLength > 10){\n\t\t\t\textraExt = num.substring(10);\n\t\t\t\tnum = num.substring(0, 10);\n\t\t\t\tnumberLength = 10;\n\t\t\t}\n\n\t\t\tif (numberLength === 7) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3);\n\t\t\t} else if (numberLength === 10) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3,6) + '-' + num.substring(6);\n\t\t\t}\n\n\t\t\text = extraExt + ext;\n\n\t\t\tnum = num.replace(/[^0-9^x^-]/g, '');\n\t\t\text = ext.replace(/[^0-9^x^-]/g, '');\n\n\t\t\tif(ext){\n\t\t\t\tnum += 'x' + ext;\n\t\t\t}\n\n\t\t\treturn num;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\t///^([0-9]{3}-)?[0-9]{3}-[0-9]{4}(x[0-9]+)?$/ simple regex\n\t\t\tif(!ui.element.val().match(/^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/)) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n\ttypes.money = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\tself.element = e;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\.]/\n\t\t\t}).change(function () {\n\t\t\t\tself._onChange();\n\t\t\t}).blur(function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t\tif(!(e.data('currency-symbol'))) {\n\t\t\t\tui.addOn(-100, '$');\n\t\t\t} else {\n\t\t\t\tui.addOn(-100, e.data('currency-symbol'));\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t_onChange: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tcaret = e.caret();\n\n\t\t\te.val(self.format(e.val())).caret(caret.begin, caret.end);\n\t\t},\n\n\t\tformat: function (money) {\n\t\t\tif($.trim(money) === ''){\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// MISC-916 removed extra decimals that cause NaN\n\t\t\t\tif(isNaN(money)) {\n\t\t\t\t\tmoney = money.toString();\n\t\t\t\t\tvar count = 0; \n\t\t\t\t\tfor(var i = 0; i < money.length; i++){\n\n\t\t\t\t\t\tif((money[i]) === '.'){\n\t\t\t\t\t\tcount++;}\n\t\t\t\t\t}\n\t\t\t\t\tvar dec = money.indexOf('.');\n\t\t\t\t\tif(dec != -1) {\n\t\t\t\t\t\tmoney = money.replace(/\\./g,'');\n\t\t\t\t\t\tmoney = money.substring(0,dec) + '.' + money.substring(dec);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tmoney = parseFloat(money);\n\t\t\t\t}\n\t\t\t\treturn (+money).toFixed(2);\n\t\t\t} catch(err) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif($.trim(val) === ''){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn +this.format(val);\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * dateTimeSeparate, a combination of a date field and a time field\n */\n\n(function($){\n\tvar types = $.add123.inputField.types;\n\n\t/*\n\t * Date Type Support (date)\n\t *\n\t * Has calendar popup (bootstrap-datepicker)\n\t *\n\t * Attribute Settings:\n\t * data-minyear (default [-=15]) - Can be set to 'CURRENT'\n\t * data-maxyear (default [+=2]) - Can be set to 'CURRENT'\n\t * date-startdate (default 01/01/[minyear]) - trumps minyear if both set. Can be set to 'TODAY'\n\t * date-enddate (default 12/31/[maxyear]) - trumps maxyear if both set. Can be set to 'TODAY'\n\t */\n\ttypes.date = {\n\t\tattributes: ['minyear', 'maxyear', 'startdate', 'enddate'],\n\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element,\n\t\t\t\ttmp;\n\n\t\t\tui.placeholder('MM/DD/YYYY');\n\n\t\t\t// Determine year ends\n\t\t\tvar minYear = new Date().getFullYear() - 15,\n\t\t\t\tmaxYear = new Date().getFullYear() + 2;\n\n\t\t\ttmp = e.data('minyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tminYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tminYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp = e.data('maxyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tmaxYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tmaxYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Determine date ends\n\t\t\tvar startDate = '1/1/' + minYear,\n\t\t\t\tendDate = '12/31/' + maxYear;\n\n\t\t\ttmp = e.data('startdate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tstartDate = new moment().format('MM/DD/YYYY');\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tstartDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = e.data('enddate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tendDate = new moment().format('MM/DD/YYYY');\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tendDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Setup datepicker\n\t\t\tvar datePickerOptions = {\n\t\t\t\tstartDate: startDate,\n\t\t\t\tendDate: endDate,\n\t\t\t\tautoclose: true,\n\t\t\t\tforceParse: false,\n\t\t\t\tformat: 'mm/dd/yyyy',\n\t\t\t\ttodayBtn: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tlanguage: util.lang.code\n\t\t\t};\n\n\t\t\te.datepicker(datePickerOptions);\n\n\t\t\t// Setup inputFilter\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\/]/,\n\t\t\t\tmax : 10,\n\t\t\t\ttoUpper: true\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/*\n\t\t\t * Store date in XSD standard: yyyy-mm-dd <=> mm/dd/yyyy\n\t\t\t */\n\t\t\ttoField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(5, 7) + '/' + val.substring(8, 10) + '/' + val.substring(0, 4);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(6, 10) + '-' + val.substring(0, 2) + '-' + val.substring(3, 5);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ui) {\n\t\t\tui.element.datepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\tdate = ui.element.val();\n\t\t\tif(!moment(date, [\"MM/DD/YYYY\"], true).isValid()) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Time type. \n\t *\n\t * Has a dropdown with shortcuts.\n\t *\n\t * Attribute Settings:\n\t * date-step (default=30) - Minute increment between times in dropdown\n\t * \n\t */\n\ttypes.time = {\n\t\tattributes: ['step'],\n\n\t\t_regex: /^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,\n\n\t\tsetUp: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element;\n\n\t\t\tifw.placeholder('H:MMam/pm');\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9:apm]/,\n\t\t\t\tmax: 7\n\t\t\t});\n\n\t\t\te.timepicker({\n\t\t\t\tappendTo: e.parent(),\n\t\t\t\tselectOnBlur: false,\n\t\t\t\tstep: e.data('step') //default is 30 and will be set if undefined\n\t\t\t});\n\n\t\t\t// Make sure the timepicker width matches the field width\n\t\t\te.on('showTimepicker', function(){\n\t\t\t\te.siblings('.ui-timepicker-wrapper').width(e.outerWidth());\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * convert from moment format HH:mm (utc) to h:mma (local)\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this;\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}:[0-9]{2}$/))\n\t\t\t\t\treturn '';\n\t\t\t\t\n\t\t\t\treturn moment.utc(val, 'HH:mm', true).local().format('h:mma');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * convert from moment format h:mma (local) to HH:mm (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this;\n\t\t\t\tif(!val || !val.match(/^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/))\n\t\t\t\t\treturn '';\n\t\t\t\treturn moment(val,'h:mma').utc().format('HH:mm');\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tifw.element.timepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tinvalidMessage = {message: 'invalid'};\n\n\t\t\tif(!val.match(self._regex))\n\t\t\t\treturn invalidMessage;\n\t\t}\n\t};\n\n\t/**\n\t * A combination of two InputFields, date & time.\n\t *\n\t * The original inputfield is hidden between them.\n\t *\n\t * Format: 'YYYY-MM-DDTHH:mm:ssZ' in UTC\n\t *\n\t * Attribute Settings:\n\t * data-time-width-ratio (default=0.5, min=.2, max=.8) \n\t *\n\t * CSS Settings:\n\t * min-width (default=270px, min=100px)\n\t *\n\t * Attributes specific for date or time will be passed to them.\n\t */\n\ttypes.dateTime = {\n\t\tsetUp: function(inputFieldWidgetInstance) {\n\t\t\tvar self = this;\n\n\t\t\tself.ifw = inputFieldWidgetInstance;\n\n\t\t\tself._setUpFields();\n\t\t\tself._refreshFieldWidth();\n\t\t\tself._setUpCleanDirtyEvents();\n\n\t\t\tself.ifw.element.on('resize', function(ev){\n\t\t\t\tself._refreshFieldWidth();\n\t\t\t});\n\t\t},\n\n\t\t_setUpFields: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.ifw.element,\n\t\t\t\tfieldItems = self.ifw.element.parent().parent(),\n\t\t\t\tdateAttr = '',\n\t\t\t\ttimeAttr = '',\n\t\t\t\toptions, tmp, i;\n\n\t\t\tself.ifw.element.parent().hide();\n\n\t\t\t// Get date attributes\n\t\t\tfor(i = 0; i < types.date.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.date.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tdateAttr += 'data-'+types.date.attributes[i]+'=\"'+tmp+'\" ';\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Get time attributes\n\t\t\tfor(i = 0; i < types.time.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.time.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\ttimeAttr += 'data-'+types.time.attributes[i]+'=\"'+tmp+'\" ';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\trequire: true\n\t\t\t};\n\n\t\t\t// Create the widgets\n\t\t\tself.dateWidget = $('<input type=\"text\" data-type=\"date\" '+dateAttr+'/>').prependTo(fieldItems).inputField(options);\n\t\t\tself.timeWidget = $('<input type=\"text\" data-type=\"time\" '+timeAttr+'/>').appendTo(fieldItems).inputField(options);\n\t\t},\n\n\t\t/**\n\t\t * Make sure the child widgets' total width is equal to the base element's width\n\t\t */\n\t\t_refreshFieldWidth: function() {\n\t\t\tvar self = this,\n\t\t\t\tfullWidth = self.ifw.element.outerWidth(),\n\t\t\t\telDate = self.dateWidget,\n\t\t\t\telTime = self.timeWidget,\n\t\t\t\ttimeWidthRatio,\n\t\t\t\tminWidth;\n\n\t\t\t\t// Take out widghet margins/padding from outer width\n\t\t\t\tfullWidth -= elDate.outerWidth() - elDate.width();\n\t\t\t\tfullWidth -= elTime.outerWidth() - elTime.width();\n\t\t\t\t\n\t\t\t\t// Prevent it from being too small\n\t\t\t\tminWidth = self.ifw.element.css('min-width');\n\t\t\t\tif(minWidth !== null) {\n\t\t\t\t\tminWidth = parseInt(minWidth, 10);\n\t\t\t\t}\n\t\t\t\tif(minWidth === null || minWidth < 100) {\n\t\t\t\t\tminWidth = 270; //default\n\t\t\t\t}\n\n\t\t\t\tif(fullWidth < minWidth) {\n\t\t\t\t\tfullWidth = minWidth;\n\t\t\t\t}\n\n\t\t\t\t// Set time width at ratio and give the rest to date\n\t\t\t\ttimeWidthRatio = self.ifw.element.data('timeWidthRatio');\n\t\t\t\tif(isNaN(timeWidthRatio) || timeWidthRatio < 0.2 || 0.8 < timeWidthRatio) {\n\t\t\t\t\ttimeWidthRatio = 0.5; //default\n\t\t\t\t}\n\t\t\t\telTime.width(fullWidth * timeWidthRatio);\n\t\t\t\telDate.width(fullWidth - elTime.width());\n\t\t},\n\n\t\t_setUpCleanDirtyEvents: function() {\n\t\t\tvar self = this;\t\n\n\t\t\tself.dateWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\n\t\t\tself.timeWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * No need to worry about utc/local. Handled in type time.\n\t\t\t * All retrived/set times should be in utc\n\t\t\t *\n\t\t\t * Seconds are included in the formatting but are ignored and \n\t\t\t * always set to 00\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tsplitDate = self._splitDateAndTime(val);\n\n\t\t\t\tself.timeWidget.inputField('set', splitDate.time);\n\t\t\t\tself.dateWidget.inputField('set', splitDate.date);\n\n\t\t\t\t// Redraw them via async\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tself.timeWidget.inputField('redraw');\n\t\t\t\t\tself.dateWidget.inputField('redraw');\n\t\t\t\t}, 0);\n\t\t\t}, \n\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdateTimeObject;\n\n\t\t\t\tdateTimeObject = {\n\t\t\t\t\tdate: self.dateWidget.inputField('get'),\n\t\t\t\t\ttime: self.timeWidget.inputField('get') \n\t\t\t\t};\n\t\t\t\treturn self._joinDateAndTime(dateTimeObject);\n\t\t\t}\n\t\t},\n\n\t\t_momentDateFormat: 'YYYY-MM-DDTHH:mm:ss[Z]', //The Z is escaped\n\n\t\t_splitDateAndTime: function (dateTimeString) {\n\t\t\tvar dateString, timeString;\n\t\t\tvar dateTime = moment(dateTimeString, self._momentDateFormat, true);\n\t\t\t\n\t\t\tif(!dateTime.isValid()){\n\t\t\t\treturn {\n\t\t\t\t\tdate: '',\n\t\t\t\t\ttime: ''\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdate: dateTime.format('YYYY-MM-DD'),\n\t\t\t\ttime: dateTime.utc().format('HH:mm')\n\t\t\t};\n\t\t\t\n\t\t},\n\n\t\t_joinDateAndTime: function(dateTimeObject) {\n\t\t\tvar dto = dateTimeObject;\n\n\t\t\tif(dto.date === '' || dto.time === '')\n\t\t\t\treturn '';\n\n\t\t\treturn dto.date + 'T' + dto.time + ':00Z';\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\tvalid = true,\n\t\t\t\tskipRequired = !self.ifw.hasStatus('require');\n\n\t\t\t// Do not skip require check when only one is empty\n\t\t\tif(skipRequired){\n\t\t\t\tskipRequired = !self.dateWidget.inputField('isEmpty');\n\t\t\t\tskipRequired = skipRequired && !self.timeWidget.inputField('isEmpty');\n\t\t\t}\n\n\t\t\tvalid = valid && self.dateWidget.inputField('validate', skipRequired);\n\t\t\tvalid = valid && self.timeWidget.inputField('validate', skipRequired);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t// will not validate if empty\n\t\tisEmpty: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn ($.trim(self.dateWidget.val()) + $.trim(self.timeWidget.val())) === '';\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tself.dateWidget.remove();\n\t\t\tself.timeWidget.remove();\n\n\t\t\tself.dateWidget = undefined;\n\t\t\tself.timeWidget = undefined;\n\n\t\t\tifw.parent().show();\n\t\t}\n\n\t};\n\n})(jQuery);"],"sourceRoot":"/source/"}