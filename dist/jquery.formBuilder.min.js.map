{"version":3,"sources":["_english.en.js","_spanish.es.js","spin.js","util.js","caret.js","formBuilder.js","inputField.js","inputFilter.js","popOver.js","submitButton.js","tms-arrayField.js","tms-textSubmitter.js","tier0/code.js","tier0/date.js","tier0/display.js","tier0/money.js","tier0/phone.js","tier0/regexTypes.js","tier0/select.js","tier0/text.js","tier0/time.js","tier0/tmsQuantityUnit.js","tier1/dateTime.js","tier1/phone.tmsPhone.js","tier1/select-generators.js","tier1/utext.tmsFullname.js"],"names":["$","lang","code","window","util","locales","extend","remove","mobile","home","work","fax","yes","no","jQuery","fn","datepicker","dates","es","days","daysShort","daysMin","months","monthsShort","today","clear","rtl","widget","options","lines","length","width","radius","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","top","left","_spinner","undefined","_create","self","this","Spinner","_init","start","spin","element","stop","_destroy","console","log","dir","timeStamp","time","timeEnd","Object","create","o","F","prototype","setLanguage","dict","selectPath","namespace","domKey","i","a","toString","split","key","match","parseInt","isArray","insertPath","obj","type","origRef","types","k","v","push","deletePath","childOf","b","includeSelf","p","parents","isEmpty","equals","hasOwnProperty","removeEqual","ignoreDiffKeys","removeTmp","inArray","caret","begin","end","range","input","is","l","val","setSelectionRange","selectionStart","selectionEnd","document","selection","createRange","duplicate","moveStart","text","focus","value","scrollLeft","err","createTextRange","collapse","moveEnd","select","converter","fromForm","data","toForm","ignoreHidden","e","baseData","defaultRequired","fieldsWidgets","fields","scanForNewFields","dirty","on","ev","stopPropagation","isDirty","show","find","each","el","attr","Error","has","add","label","addClass","wrap","before","not","newInput","inputField","require","_proxyCommandToWidget","widgetElement","widgetName","instance","method","Array","splice","call","arguments","args","slice","apply","clearDirty","flashDirty","numberOfTimes","flashError","filter","error","disable","enable","get","formData","_readDataFromDom","isFunction","conflicts","ignoreKeys","_convertFormData","aData","bData","conflict","concat","set","setOptions","_trigger","_writeDataToDom","values","validate","valid","getFields","repeat","delay","count","idx","setTimeout","statusNames","loadDomData","aKey","flash","placeholder","min","max","empty","tooltip","tooltipContent","next","field","layers","items","setLabel","appendTo","trim","removeAttr","preinput","addOn","postinput","suffix","setSuffix","prefix","setPrefix","addon","popOver","target","onShow","onHide","removeClass","one","autoValidate","states","updateStatus","status","blur","_onBlur","change","_onKeyup","suffixShim","_onKeydown","mouseenter","mouseleave","setType","prevValue","setMax","prependTo","html","t","inputFilter","toUpper","pattern","_showLayer","checkDirty","redraw","cleanCheckTimer","clearTimeout","prev","isEmptyObject","trigger","weight","pre","found","children","hasClass","eWeight","insertBefore","append","s","hide","vOld","vNew","vDirty","autoClean","hasStatus","_formatToField","f","_clean","_formatFromField","skipRequired","setError","message","clearError","format","flashTimer","toField","fromField","hasVal","showError","showNotice","showPlaceholder","css","paddingLeft","startPaddingLeft","startInputWidth","prefixPaddingAdded","replace","isNaN","outerWidth","paddingRight","startPaddingRight","suffixPaddingAdded","valWidth","maxWidth","layer","ph","parseFloat","sType","add123","tearDown","setUp","getType","displayValue","getField","isDisabled","statusName","bool","fireEvents","cleanBool","height","outerHeight","memory","nativeChange","proxy","_onKeyDown","_onKeyPress","_onPaste","setPattern","regex","which","ctrlKey","_type","String","fromCharCode","c","tmp","keytypedEvent","keyignoredEvent","toUpperCase","activeElement","substring","off","doc","win","showing","detach","content","clone","title","onClick","delegateTarget","onResize","position","setAppendTo","titleElement","toggle","fadeIn","my","at","collision","of","disabled","waiting","preventDefault","enterKeyListenerProvider","first","onKeyDown","keyCode","submit","_showLoading","h","getButtonLabel","spinner","_hideLoading","destroyed","bOptions","icons","button","listenerProvider","listener","arrayFieldId","nextArrayFieldId","_arrayFieldTemplate","_arrayFieldItemTemplate","subField","id","itemsContent","_handleAddButtonClick","_onDirty","sortable","axis","handle","containment","tolerance","_checkDirty","_onClean","getId","addItem","curData","newData","getFieldInstances","subWidget","_empty","item","drawItem","index","itemEl","eq","itemView","_drawWidgetItem","_drawInternalMarkupItem","subFieldMarkup","parent","_textSubmitterTemplate","sendInstruction","rows","ignoreEmptySubmit","container","textEntry","statusUpdate","shiftKey","_submit","onComplete","success","setInstruction","binarySearch","needle","haystack","mid","high","low","toLowerCase","codeListFilter","codeTable","request","response","term","matcher","RegExp","ui","autocomplete","escapeRegex","matches","grep","test","codeTableName","_codeTable","source","date","attributes","momentStoreFormat","_dateFormat","enforceMin","enforceMax","storeUtc","minYear","Date","getFullYear","maxYear","startDate","endDate","moment","datePickerOptions","autoclose","forceParse","todayBtn","todayHighlight","language","isValid","isBefore","display","money","currency","showSymbol","_onChange","dec","indexOf","toFixed","ifw","enteredAmount","phone","extensionStart","xlocation","lastSpace","lastIndexOf","ext","extraExt","num","numberLength","cannedFormatters","createRegexType","flags","filterData","cannedFormatter","utext","integer","number","state","feid","zip","email","inputWidget","fieldGroup","shim","insertAfter","iconClosed","iconOpen","panel","selectionClass","sectionClass","_setSelected","after","_keyDownNavigate","closeListener","close","update","selected","_scroll","open","filterValue","_filterOptions","_selectFirstNonEmptyOption","_setLabel","renderLabel","showHideCommand","_removeSelection","option","_set","loaded","done","itemData","_equal","_handleItemNotFound","_setDefaultItem","_selectFirstItem","defaultValue","showClass","sections","showHideSections","andSelectNothing","_getLabel","getOptions","optionPanel","filterTimer","__filterOptionsWork","optionsElements","optionsToProcessNow","optionsEl","_filterItem","optionEl","_itemShoudBeFiltered","_clearFilter","_buildEmptyOption","emptyLabel","unshift","_buildOptions","optionsbuffer","_sort","renderedItem","renderItem","sort","al","bl","scrollTop","inputLayer","itemsLayer","leftOffset","Deferred","load","removeInvalid","form","resolve","optionsMap","optionsSetDynamically","dataOptions","when","parseJSON","map","raw","deMap","rawdata","_regex","_regex2400","military","step","timepicker","selectOnBlur","timeFormat","newWidth","utc","local","invalidMessage","units","tmsQuantityUnit","minLength","autoFocus","dateTime","inputFieldWidgetInstance","_setUpFields","_refreshFieldWidth","_setUpCleanDirtyEvents","fieldItems","dateWidget","timeWidget","timeWidgetInstance","dateWidgetInstance","timeWidthRatio","minWidth","fullWidth","elDate","elTime","splitDate","_splitDateAndTime","localDate","isDST","subtract","_joinDateAndTimeMoments","dateTimeString","result","localDateMoment","localTimeMoment","utcOffset","second","minute","hour","month","year","tmsPhone","_phoneTypeTemplate","desc","icon","_setupMenu","toggleMenu","menu","menuBuilt","control","destroy","Widget","arraySelectCreator","array","d","booleanSelectCreator","trueString","falseString","years","tmsExpYear","tmsYesNo","tmsFullname","countH","countA"],"mappings":"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","file":"jquery.formBuilder.min.js","sourcesContent":["/**\n * Localization support\n *\n * Language: English\n * Code: 'en'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'en',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Remove',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mobile',\n\t\thome: 'Home',\n\t\twork: 'Work',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'Yes',\n\t\tno: 'No'\n\t});\n\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker (default english included)\n\t\n\n})(jQuery);","/**\n * Localization support\n *\n * Language: Spanish\n * Code: 'es'\n *\n * This is included by default\n */\n\n(function($){\n\t'use strict';\n\n\tvar code = 'es',\n\t\tlang;\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(!window.util) {\n\t\twindow.util = {};\n\t}\n\n\tlang = window.util.lang;\n\n\tif(!lang) {\n\t\tlang = window.util.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Quitar',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mvil',\n\t\thome: 'Casa',\n\t\twork: 'Trabajo',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'S',\n\t\tno: 'No'\n\t});\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker\n\t$.fn.datepicker.dates.es = {\n\t\tdays: ['Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves', 'Viernes', 'S&aacute;bado'],\n\t\tdaysShort: ['Dom', 'Lun', 'Mar', 'Mi&eacute;', 'Juv', 'Vie', 'S&aacute;b'],\n\t\tdaysMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'S&aacute;'],\n\t\tmonths: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n\t\tmonthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\n\t\ttoday: \"Hoy\",\n\t\tclear: \"Borre\",\n\t\trtl: false\n\t};\n\n})(jQuery);","/**\n * jQuery UI Widget support for spin.js\n *\n * http://fgnass.github.com/spin.js/\n */\n\n/*global Spinner:true */\n(function($){\n\t'use strict';\n\n\t$.widget('add123.spin', {\n\n\t\toptions: {\n\t\t\tlines: 10,\n\t\t\t// The number of lines to draw\n\t\t\tlength: 4,\n\t\t\t// The length of each line\n\t\t\twidth: 2,\n\t\t\t// The line thickness\n\t\t\tradius: 3,\n\t\t\t// The radius of the inner circle\n\t\t\trotate: 0,\n\t\t\t// The rotation offset\n\t\t\tcolor: '#000',\n\t\t\t// #rgb or #rrggbb\n\t\t\tspeed: 1.5,\n\t\t\t// Rounds per second\n\t\t\ttrail: 60,\n\t\t\t// Afterglow percentage\n\t\t\tshadow: false,\n\t\t\t// Whether to render a shadow\n\t\t\thwaccel: false,\n\t\t\t// Whether to use hardware acceleration\n\t\t\tclassName: 'spinner',\n\t\t\t// The CSS class to assign to the spinner\n\t\t\tzIndex: 0,\n\t\t\t// The z-index (defaults to 2000000000)\n\t\t\ttop: '0',\n\t\t\t// Top position relative to parent in px\n\t\t\tleft: '0' // Left position relative to parent in px\n\t\t},\n\n\t\t_spinner: undefined,\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tself._spinner = new Spinner(self.options);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tthis.start();\n\t\t},\n\n\t\tstart: function() {\n\t\t\tthis._spinner.spin(this.element[0]);\n\t\t},\n\n\t\tstop: function() {\n\t\t\tthis._spinner.stop();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.stop();\n\t\t\tdelete self._spinner;\n\t\t}\n\t});\n\n})(jQuery);\n","/*\n * A subset of the ADD Utility library. \n *\n * It only declares objects/functions when they do not already exist\n */\n\n/*global util:true */\n\n\n\n(function($) {\n\t\"use strict\";\n\n\tif(typeof(window.util) === 'undefined') {\n\t\twindow.util = {};\n\t}\n\n\t/*\n\t * If console is not defined build a mock console to avoid script errors in production\n\t */\n\tif(typeof(window.console) === 'undefined') {\n\t\twindow.console = {\n\t\t\tlog: function() {},\n\t\t\tdir: function() {},\n\t\t\ttimeStamp: function () {},\n\t\t\ttime: function () {},\n\t\t\ttimeEnd: function () {}\n\t\t};\n\t}\n\n\tif(typeof(console.timeStamp) === 'undefined'){\n\t\tconsole.timeStamp = function () {};\n\t}\n\tif(typeof(console.time) === 'undefined'){\n\t\tconsole.time = function () {};\n\t}\n\tif(typeof(console.timeEnd) === 'undefined'){\n\t\tconsole.timeEnd = function () {};\n\t}\n\n\n\t/*\n\t * Object create polyfill\n\t */\n\tif(typeof(Object.create) === 'undefined') {\n\t\tObject.create = function(o) {\n\t\t\tfunction F() {}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t}\n\n\n\n\t/**\n\t * Language Support Setup\n\t */\n\t\n\tif(typeof(util.lang) === 'undefined') {\n\t\tutil.lang = {};\n\t}\n\n\t// TODO: Make this actually change everything in the code\n\tif(typeof(util.lang.setLanguage) === 'undefined') {\n\t\tutil.lang.setLanguage = function(code) {\n\t\t\tvar lang = util.lang;\n\n\t\t\tif(!code || !lang.locales[code]) {\n\t\t\t\t// Default to english\n\t\t\t\tcode = 'en';\n\t\t\t}\n\n\t\t\tif(!lang.dict) {\n\t\t\t\t// Initialize the dictonary\n\t\t\t\tlang.dict = {};\n\t\t\t} \n\n\t\t\t// Override and/or add the words into the dictionary\n\t\t\t$.extend(true, lang.dict, lang.locales[code]);\n\n\t\t\t// Update the language code\n\t\t\tlang.code = code;\n\t\t};\n\t}\n\n\t// Set language (english by default)\n\tutil.lang.setLanguage();\n\n\t/*\n\t * Retrieve from a namespace given the dot-notated key\n\t *\n\t * Since the form has a flat structure and therefore has prefixes to avoid naming conflicts, we need a way to map\n\t * the prefixed DOM Keys to the hierarchical data maps. Keys that are not found will be saved in the extraKeys object\n\t * in the correct hierarchical order\n\t *\n\t * DOM -> Data Examples: given dealFile = efsResponse['efs']['deal-file']\n\t *\n\t * basic:\n\t *   'deal.acquired-date' -> dealFile['deal']['acquired-date']\n\t *   'purchase-vehicle.data.vin' -> dealFile['purchase-vehicle']['data']['vin']\n\t *\n\t * arrays:\n\t *   'customer.0.first-name' -> dealFile['customer'][0]['first-name']\n\t *\n\t */\n\n\tif(typeof(util.selectPath) === 'undefined') {\n\t\tutil.selectPath = function(namespace, domKey) {\n\t\t\t\n\t\t\tif(namespace === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(domKey === undefined || domKey === ''){\n\t\t\t\treturn namespace;\n\t\t\t}\n\n\t\t\tvar i, a = domKey.toString().split('.');\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tvar key = a[i];\n\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\t\t\t\t\t/*\n\t\t\t\t\t * treat this as an array index\n\t\t\t\t\t */\n\t\t\t\t\tkey = parseInt(key, 10);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * arrays with index might be pulled out of the array, so check if we can find the correct mapping without the array\n\t\t\t\t */\n\t\t\t\tif(key === 0 && !$.isArray(namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(namespace === undefined || namespace === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\tif(i === a.length - 1 || namespace === undefined) {\n\t\t\t\t\treturn namespace;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}\n\n\t/*\n\t * Given and namespace object and a dot-notated key, save the given object to\n\t * the proper path in the namespace\n\t *\n\t */\n\tif(typeof(util.insertPath) === 'undefined') {\n\t\tutil.insertPath = function(namespace, domKey, obj) {\n\t\t\tvar i, a = domKey.split('.'),\n\t\t\t\torigRef = namespace;\n\t\t\tvar types = [],\n\t\t\t\tkey, type;\n\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tkey = a[i];\n\n\t\t\t\tif(i === a.length - 1) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * clean this logic up, use this test case : https://secure.add123.com/apps/web/res/js/_test/qunit.html\n\t\t\t\t\t */\n\t\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\t\tv: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: key,\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\tv: []\n\t\t\t\t\t};\n\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: key,\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i = 0; i < types.length; i += 1) {\n\t\t\t\ttype = types[i];\n\t\t\t\tkey = type.k;\n\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t} else {\n\n\t\t\t\t\tif(typeof namespace[key] === 'undefined') {\n\t\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t\t}\n\n\t\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn origRef;\n\n\t\t};\n\t}\n\n\t/*\n\t * var ns = {test: {foo: 1, bar: 2, baz: 3}};\n\t * deletePath(ns, 'test.foo');\n\t * console.log(ns);\n\t *\n\t * TODO: make this work for arrays\n\t */\n\tif(typeof(util.deletePath) === 'undefined') {\n\t\tutil.deletePath = function(namespace, domKey) {\n\t\t\tvar a = domKey.split('.'),\n\t\t\t\ti;\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tdelete namespace[a[i]];\n\t\t\t\t} else {\n\t\t\t\t\tif(typeof namespace[a[i]] === \"undefined\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnamespace = namespace[a[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/*\n\t * parameter can be a jQuery object or HTML element object\n\t */\n\tif(typeof($.fn.childOf) === 'undefined') {\n\t\t$.fn.childOf = function(b, includeSelf) {\n\t\t\tvar i;\n\n\t\t\tif(b instanceof jQuery) {\n\t\t\t\tb = b[0];\n\t\t\t}\n\n\t\t\tif(includeSelf && b === this[0]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar p = this.parents();\n\t\t\tfor(i = 0; i < p.length; i++) {\n\t\t\t\tif(b === p[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tif(typeof(window.isEmpty) === 'undefined') {\n\t\twindow.isEmpty = function isEmpty(a) {\n\t\t\tif(a === 0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !a;\n\t\t};\n\t}\n\n\tif(typeof(util.equals) === 'undefined') {\n\t\tutil.equals = function(a, b) {\n\t\t\tvar p;\n\n\t\t\tif(a === b){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) && window.isEmpty(b)){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) || window.isEmpty(b)){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(p in b) {\n\t\t\t\t\tif(b.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tif(typeof(b) === 'undefined' || (a.toString() !== b.toString())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(a.toString() !== b.toString()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tif(typeof(util.removeEqual) === 'undefined') {\n\t\tutil.removeEqual = function (a, b, ignoreDiffKeys) {\n\t\t\tvar p, remove, removeTmp;\n\n\t\t\tif(!ignoreDiffKeys){\n\t\t\t\tignoreDiffKeys = [];\n\t\t\t}\n\n\t\t\tif(a === undefined || b === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tremove = true;\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($.inArray(p, ignoreDiffKeys) > -1){\n\t\t\t\t\t\t\tremoveTmp = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tremoveTmp = util.removeEqual(a[p], b[p]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(removeTmp){\n\t\t\t\t\t\t\tdelete a[p];\n\t\t\t\t\t\t\tdelete b[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremove = remove && removeTmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remove;\n\t\t\tdefault:\n\t\t\t\treturn a.toString() === b.toString();\n\t\t\t}\n\t\t};\n\t}\n})(jQuery);\n","/**\n * caret plugin\n */\n\n(function($){\n\t'use strict';\n\t\n\t/*\n\t * This plugin only operates on the first element of the working set\n\t */\n\t$.fn.caret = function(begin, end) {\n\n\t\tif(this.length === 0) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar input = this[0],\n\t\t\trange;\n\n\t\tif(typeof begin === 'number') {\n\t\t\t/*\n\t\t\t * setter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\t\tinput.focus();\n\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * chrome hack\n\t\t\t\t * TMS-2049\n\t\t\t\t * Still need a better way to do this, chrome fails to set the scrolLeft\n\t\t\t\t * whem the cursor moves, still will only work it they are at the end of the text\n\t\t\t\t */\n\t\t\t\ttry{\n\t\t\t\t\tif(end === input.value.length){\n\t\t\t\t\t\tinput.scrollLeft = 9999999999;\n\t\t\t\t\t}\n\t\t\t\t}catch(err){}\n\t\t\t} else if(input.createTextRange) {\n\t\t\t\trange = input.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', begin);\n\t\t\t\trange.select();\n\t\t\t}\n\n\n\t\t} else {\n\t\t\t/*\n\t\t\t * getter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\tvar l = $(input).val().length;\n\t\t\t\treturn {\n\t\t\t\t\tbegin: l,\n\t\t\t\t\tend: l\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\tbegin = input.selectionStart;\n\t\t\t\tend = input.selectionEnd;\n\t\t\t} else if(document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = -range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbegin: begin,\n\t\t\t\tend: end\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t};\n})(jQuery);","/**\n * formBuilder Widget\n *\n * TODO: improve codes type\n *\n * TODO: handle submission, bind to buttons somehow, and on-submit event\n *\n * TODO: maintain a model, take in the model, link to the fields and make is\n * accessible by a getter model linker? listen to changes\n *\n * TODO: can you call _init() a second type with more options? is that how you\n * call _setOption from outside?\n */\n\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\t$.widget(\"add123.formBuilder\", {\n\n\t\toptions: {\n\t\t\tconverter: {\n\t\t\t\tfromForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\ttoForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * set to true to ignore fields that are not $(':visible')\n\t\t\t */\n\t\t\tignoreHidden: false\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.baseData = {};\n\n\t\t\to.defaultRequired = e.data('default-required');\n\n\t\t\tself.fieldsWidgets = $([]);\n\t\t\tself.fields = $([]);\n\n\t\t\tself.scanForNewFields();\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * proxy the dirty events from all of the fields in the form\n\t\t\t */\n\t\t\te.on('dirty', function (ev) {\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.dirty = true;\n\t\t\t}).on('clean', function (ev) {\n\n\t\t\t\t/*\n\t\t\t\t * if the form is clean kill the clean event\n\t\t\t\t */\n\t\t\t\tif(!self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * check if form is really clean\n\t\t\t\t */\n\t\t\t\tself.dirty = self.isDirty();\n\n\t\t\t\t/*\n\t\t\t\t * if form is still dirty, kill the clean event\n\t\t\t\t */\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\te.show();\n\t\t},\n\n\t\tscanForNewFields: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\t/*\n\t\t\t * expected methods for a widget to act a as field:\n\t\t\t *\n\t\t\t * set()\n\t\t\t * get()\n\t\t\t * isDirty()\n\t\t\t * clearDirty()\n\t\t\t * flashDirty()\n\t\t\t * flashError()\n\t\t\t * disable()\n\t\t\t * enable()\n\t\t\t * clear()\n\t\t\t * validate()\n\t\t\t *\n\t\t\t */\n\t\t\te.find('[data-load-widget-as-field]').each(function () {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(!el.attr('name')){\n\t\t\t\t\tthrow new Error('data-load-widget-as-field must have name attribute');\n\t\t\t\t}\n\n\t\t\t\tif(self.fieldsWidgets.has(el[0]).length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tel[el.attr('data-load-widget-as-field')]();\n\n\t\t\t\t/*\n\t\t\t\t * check if the widget extends the base FieldWidget widget\n\t\t\t\t */\n\n\t\t\t\tself.fieldsWidgets = self.fieldsWidgets.add(el);\n\n\t\t\t\t/*\n\t\t\t\t * wrap if label is found\n\t\t\t\t */\n\t\t\t\tvar label = el.attr('data-label');\n\n\t\t\t\tif(!label){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tel.addClass('field-items').wrap('<div class=\"input-field-group\"><div class=\"input-field\"></div></div>').before('<label>' + label + '</label>');\n\t\t\t});\n\t\t\t/*\n\t\t\tself.fields = e.find('input[type!=submit], select, textarea').not(':add123-inputField').inputField({\n\t\t\t\trequire: typeof o.defaultRequired !== 'undefined' && o.defaultRequired === true\n\t\t\t});\n\t\t\t*/\n\t\t\te.find('input[type!=submit], select, textarea').not(':add123-inputField').not('.form-builder-ignore *').each(function () {\n\t\t\t\tvar newInput = $(this);\n\t\t\t\tif(newInput.is('[data-load-widget-as-field]') || newInput.parents('[data-load-widget-as-field]').length){\n\t\t\t\t\t//console.log('ingnore input in field widgets: ', newInput.attr('name'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//console.log('ADDING FIELD: ', newInput.attr('name'));\n\t\t\t\tnewInput.inputField({\n\t\t\t\t\trequire: !!o.defaultRequired\n\t\t\t\t});\n\n\t\t\t\tself.fields = self.fields.add(newInput);\n\n\n\t\t\t});\n\n\n\n\t\t\t/*\n\t\t\t * set the first class on the first fields for proper styling\n\t\t\t */\n\t\t\t//setTimeout(function() {\n\t\t\t\t//var ingroup = e.find('.input-field-group .input-field .field-item:nth(0)').addClass('first');\n\t\t\t\t//\n\t\t\t\te.find('.input-field-group').each(function () {\n\t\t\t\t\t$(this).find('.field-item:first').addClass('first');\n\t\t\t\t});\n\t\t\t\t//console.log(ingroup);\n\t\t\t\t//e.find('.input-field .field-item:first-child').not('.input-field-group .input-field:first-child .field-item:first-child').addClass('first');\n\t\t\t//}, 0);\n\t\t},\n\n\t\t_proxyCommandToWidget: function (widgetElement) {\n\t\t\tvar self = this,\n\t\t\t\twidgetName = widgetElement.data('load-widget-as-field') || 'inputField',\n\t\t\t\tinstance = widgetElement.data(widgetName),\n\t\t\t\tmethod = Array.prototype.splice.call(arguments, 1, 1),\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\t\ttry {\n\t\t\t\treturn instance[method].apply(instance, args);\n\t\t\t}catch(err){\n\t\t\t\tthrow new Error('ERROR: widget field error NAME[' + widgetName + '] METHOD[' + method + ']');\n\t\t\t}\n\t\t},\n\t\n\n\t\tisDirty: function() {\n\t\t\tvar self = this,\n\t\t\t\tdirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tdirty = !!$(this).inputField('isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\tif(dirty){\n\t\t\t\treturn dirty;\n\t\t\t}\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tdirty = !!self._proxyCommandToWidget($(this), 'isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\treturn dirty;\n\t\t},\n\n\t\tclearDirty: function() {\n\t\t\tvar self = this;\n\t\t\tself.dirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clearDirty');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tflashDirty: function(numberOfTimes) {\n\t\t\t//this.dirty.inputField('flash', numberOfTimes);\n\t\t\t/*\n\t\t\tvar self = this;\n\t\t\tself.dirty.each(function () {\n\t\t\t\tself._proxyCommandToWidget($(this), 'flash', numberOfTimes);\n\t\t\t});\n\t\t\t*/\n\t\t},\n\n\t\tflashError: function(numberOfTimes) {\n\t\t\tthis.fields.filter(function() {\n\t\t\t\treturn $(this).data('inputField').options.error;\n\t\t\t}).inputField('flash', numberOfTimes);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', true);\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', false);\n\t\t},\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tformData = self._readDataFromDom();\n\n\t\t\tif($.isFunction(o.converter.fromForm)) {\n\t\t\t\tformData = o.converter.fromForm(formData);\n\t\t\t}\n\n\t\t\tif(!formData){\n\t\t\t\tformData = {};\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.baseData = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clear');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clear');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * check if the given data would overwrite any dirty fields if set\n\t\t *\n\t\t * returns an array of conflict data, and false for no conflicts\n\t\t */\n\t\tconflicts: function (data, ignoreKeys) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data),\n\t\t\t\tconflicts = [];\n\n\t\t\t/*\n\t\t\t * if dirty flag is not set, assume there is no conflict\n\t\t\t */\n\t\t\tif(!self.isDirty()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar aData = $.extend(true, {}, self.baseData),\n\t\t\t\tbData = $.extend(true, {}, formData);\n\n\t\t\tconsole.log('aData', aData);\n\t\t\tconsole.log('bData', bData);\n\n\t\t\t/*\n\t\t\t * only check fields that are different than the base value\n\t\t\t */\n\t\t\tutil.removeEqual(aData, bData, ignoreKeys);\n\n\t\t\tconsole.log('changes from base:', aData);\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar conflict = $(this).inputField('conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar conflict = self._proxyCommandToWidget($(this), 'conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tif($.isArray(conflict)){\n\t\t\t\t\t\tconflicts.concat(conflict);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(conflicts.length){\n\t\t\t\treturn conflicts;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tset: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data);\n\n\t\t\tself.baseData = formData;\n\n\t\t\tself._trigger('beforeset', null, formData);\n\t\t\tself._writeDataToDom(formData, setOptions);\n\t\t\tself._trigger('afterset', null, formData);\n\t\t},\n\n\t\t_convertFormData: function (data) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * clone data object so form can not change the original\n\t\t\t */\n\t\t\tvar formData = $.extend(true, {}, data || {});\n\n\t\t\tif($.isFunction(o.converter.toForm)) {\n\t\t\t\tformData = o.converter.toForm(formData);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tval: function(values) {\n\t\t\t//TODO: forgot to implement this, there is logic taking its place in efsfl.js\n\t\t\tif(values === undefined) {\n\t\t\t\t/*\n\t\t\t\t * getter\n\t\t\t\t */\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * setter\n\t\t\t\t */\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tvalid = true;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && el.inputField('validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(el.is(':visible') && self._proxyCommandToWidget(el, 'validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.fields.inputField('destroy');\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'destroy');\n\t\t\t});\n\t\t},\n\n\t\tgetFields: function() {\n\t\t\treturn this.fields;\n\t\t},\n\n\t\t_writeDataToDom: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\t//debugger;\n\t\t\t\tself._proxyCommandToWidget($(this), 'set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\t\t},\n\n\t\t_readDataFromDom: function() {\n\t\t\tvar self = this,\n\t\t\t\tignoreHidden = self.options.ignoreHidden,\n\t\t\t\tdata = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar val = el.inputField('get');\n\n\t\t\t\tif($.isArray(val)) {\n\t\t\t\t\tval = val[0];\n\t\t\t\t}\n\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this),\n\t\t\t\t\tignoreHidden = self.options.ignoreHidden;\n\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar val = self._proxyCommandToWidget(el, 'get');\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t\n\n}(jQuery));","/**\n * inputField Widget\n *\n * This widget wraps the operation of a single field of a form\n *\n * Public Methods:\n *   value(value)\n *   validate()\n *   flash()\n *   setError()\n *   clearError()\n *   redraw()\n *   status(statusName, bool)\n */\n\n/*global util:true */\n(function($) {\n\t\"use strict\";\n\n\tvar repeat = function(work, delay, count, idx) {\n\t\tidx = idx || 0;\n\t\tif(idx < count) {\n\t\t\twork();\n\t\t\tsetTimeout(function() {\n\t\t\t\trepeat(work, delay, count, idx + 1);\n\t\t\t}, delay);\n\t\t}\n\t};\n\n\tvar statusNames = ['require', 'disable', 'error', 'hover', 'warn', 'focus'];\n\n\tvar loadDomData = function(namespace, aKey) {\n\t\tvar self = this;\n\t\t$.each(aKey, function(i, key) {\n\t\t\t/*\n\t\t\tif(namespace){\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tvar data = self.element.data(key);\n\t\t\tif(data !== undefined && data !== null) {\n\t\t\t\tnamespace[key] = data;\n\t\t\t}\n\t\t});\n\t};\n\n\t$.widget('add123.fieldWidget', {\n\n\t\tisDirty: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\treturn true;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\t\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.set();\n\t\t},\n\n\t\tflash: function () {\n\t\t\t\n\t\t},\n\n\t\tset: function (data) {\n\t\t\t\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\t$.widget(\"add123.inputField\", {\n\t\toptions: {\n\n\t\t\ttype: 'text',\n\n\t\t\t/*\n\t\t\t * the text shown\n\t\t\t */\n\t\t\tlabel: '',\n\n\t\t\trequire: '',\n\n\t\t\t/*\n\t\t\t * text to show when the field is empty, this uses the suggest layer\n\t\t\t */\n\t\t\tplaceholder: '',\n\n\t\t\t/*\n\t\t\t * min and max, there meaning depends on the type that is loaded\n\t\t\t */\n\t\t\tmin: '', // min does nothing in formbuilder\n\t\t\tmax: ''\n\n\t\t\t/*\n\t\t\t * values: false/undefined, 'keyup', 'blur'\n\t\t\t */\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tif(!e.is('input[type!=submit], select, textarea')) {\n\t\t\t\tthrow new Error(\"invalid element\");\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * load DOM settings from field into options\n\t\t\t */\n\t\t\tloadDomData.call(self, o, ['require', 'empty', 'placeholder', 'type', 'label', 'min', 'max', 'preinput', 'postinput', 'suffix', 'prefix']);\n\n\t\t\t/*\n\t\t\t * legacy support\n\t\t\t */\n\t\t\tif(!o.placeholder && o.empty) {\n\t\t\t\to.placeholder = o.empty;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check if a tool-tip was given\n\t\t\t */\n\t\t\tvar tooltip, tooltipContent = e.next();\n\t\t\tif(tooltipContent.is('div.form-input-tooltip') || tooltipContent.is('div.tooltip')) {\n\t\t\t\ttooltip = tooltipContent;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * convert the simple input into the full field format\n\t\t\t */\n\t\t\tvar field = self.field = $('<div class=\"input-field\"><div class=\"field-items\"><span class=\"field-item field-item-input\"></span></div></div>');\n\n\t\t\tvar layers = self.layers = {\n\t\t\t\titems: field.find('.field-items'),\n\t\t\t\tinput: field.find('.field-item-input')\n\t\t\t};\n\n\t\t\tif(o.label){\n\t\t\t\tself.setLabel(o.label);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move the DOM elements around\n\t\t\t */\n\t\t\te.before(field).appendTo(layers.input);\n\n\t\t\t/*\n\t\t\t * move classes\n\t\t\t */\n\t\t\tfield.attr('class', $.trim(field.attr('class') + ' ' + e.attr('class')));\n\t\t\te.removeAttr('class');\n\n\t\t\tif(e.is('textarea')) {\n\t\t\t\tfield.addClass('textarea-fix');\n\t\t\t\te.wrap('<div class=\"textarea-wrapper\"></div>');\n\t\t\t}\n\t\t\tif (e.is('select')) {\n\t\t\t\tfield.addClass('select-fix');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if this field is not part of a group, add a group class to this field for proper styling\n\t\t\t */\n\t\t\tif(!field.parents('.input-field-group').length){\n\t\t\t\tfield.wrap('<div class=\"input-field-group\"/>');\n\t\t\t\tfield.find('.field-item:first').addClass('first');\n\t\t\t}\n\n\t\t\tif(o.placeholder){\n\t\t\t\tself.placeholder(o.placeholder);\n\t\t\t}\n\n\t\t\tif(o.preinput) {\n\t\t\t\tself.addOn(-1, o.preinput);\n\t\t\t}\n\n\t\t\tif(o.postinput) {\n\t\t\t\tself.addOn(1, o.postinput);\n\t\t\t}\n\n\t\t\tif(o.suffix){\n\t\t\t\tself.setSuffix(o.suffix);\n\t\t\t}\n\n\t\t\tif(o.prefix){\n\t\t\t\tself.setPrefix(o.prefix);\n\t\t\t}\n\n\t\t\tif(tooltip) {\n\t\t\t\tvar addon = self.addOn(1000, '<span class=\"tooltip noselect\">?</span>', 'clickable');\n\n\t\t\t\tfield.addClass('has-tooltip');\n\n\t\t\t\ttooltip.popOver({\n\t\t\t\t\ttarget: addon,\n\t\t\t\t\tonShow: function () {\n\t\t\t\t\t\taddon.addClass('open');\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function () {\n\t\t\t\t\t\taddon.removeClass('open');\n\t\t\t\t\t}\n\t\t\t\t}).on('click', function () {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\n\n\n\t\t\t\ttooltip.popOver('hide');\n\n\n\t\t\t\taddon.on('click', function() {\n\t\t\t\t\ttooltip.popOver('toggle');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move element style\n\t\t\t */\n\t\t\t// field.attr('style', e.attr('style'));\n\t\t\t// e.removeAttr('style');\n\t\t\t/*\n\t\t\t * add the pad1 class to make way for the drop down handle\n\t\t\t */\n\t\t\t// if(e.is('select')){\n\t\t\t// field.addClass('pad1');\n\t\t\t// }\n\t\t\t/*\n\t\t\t * if someone tries to select text from one of the layers, this will focus the input field\n\t\t\t */\n\t\t\t/* this causes problems when extra dialogs like dropdown panels are placed inside the field container */\n\t\t\t//field.on('mousedown.inputField', function() {\n\t\t\tlayers.input.on('mousedown.inputField', function() {\n\t\t\t\t$('body').one('mouseup.inputField', function() {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tself.autoValidate = 'blur';\n\n\t\t\tself.states = {};\n\n\t\t\t/*\n\t\t\t * set the require option as a status\n\t\t\t */\n\t\t\tself.updateStatus('require', o.require, false);\n\n\t\t\t/*\n\t\t\t * activate focus classes and suggestion layer\n\t\t\t */\n\t\t\te.focus(function() {\n\t\t\t\tself.status('focus', true);\n\t\t\t}).blur(function(ev) {\n\t\t\t\tself.status('focus', false);\n\t\t\t\tself._onBlur(ev);\n\t\t\t}).change(function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('inputfilterkeyignored.inputField', function() {\n\t\t\t\tself.flash();\n\t\t\t}).on('inputfilterkeytyped.inputField', function() {\n\t\t\t\tif(self.suffixShim){\n\t\t\t\t\tself.suffixShim.text(self.element.val());\n\t\t\t\t}\n\t\t\t}).on('keyup', function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('keydown', function(ev) {\n\t\t\t\tself._onKeydown(ev);\n\t\t\t});\n\n\t\t\tfield.mouseenter(function() {\n\t\t\t\tself.status('hover', true);\n\t\t\t}).mouseleave(function() {\n\t\t\t\tself.status('hover', false);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * set the type of this field\n\t\t\t */\n\t\t\tself.setType(o.type);\n\n\t\t\tself.prevValue = e.val();\n\n\t\t\tif(o.max){\n\t\t\t\tself.setMax(o.max);\n\t\t\t}\n\t\t},\n\n\t\tsetLabel: function (label) {\n\t\t\tvar self = this,\n\t\t\t\tfield = self.field;\n\n\t\t\tif(!self.label){\n\t\t\t\tself.label = $('<label>' + label + '</label>');\n\t\t\t\tself.label.prependTo(field);\n\t\t\t}\n\n\t\t\tself.label.html(label);\n\t\t},\n\n\t\tsetSuffix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.suffix){\n\t\t\t\tlayers.suffix = $('<div class=\"suffix-overlay\"><div class=\"shim\"></div><span class=\"value noselect\">' + t + '</span></div>').prependTo(layers.items);\n\t\t\t\tself.suffixShim = layers.suffix.find('.shim');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlayers.suffix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetPrefix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.prefix){\n\t\t\t\tlayers.prefix = $('<div class=\"prefix-overlay noselect\">' + t + '</div>').prependTo(layers.items);\n\t\t\t}else{\n\t\t\t\tself.layers.prefix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(e.is(':add123-inputFilter')){\n\t\t\t\te.inputFilter('setMax', max);\n\t\t\t}else{\n\t\t\t\te.inputFilter({\n\t\t\t\t\ttoUpper: false,\n\t\t\t\t\tmax: max,\n\t\t\t\t\tpattern: /./\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_onKeydown: function(ev) {\n\t\t\tvar self = this;\n\t\t\tself._showLayer('placeholder', false);\n\t\t},\n\n\t\t_onKeyup: function(ev) {\n\t\t\tvar self = this;\n\n\t\t\tif(self.autoValidate === 'keyup') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tself.checkDirty();\n\t\t\tself.redraw();\n\t\t},\n\n\t\tcheckDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tval;\n\n\t\t\t//console.log('checkDirty', self.prevValue, self.get());\n\n\t\t\tif(!self.dirty){\n\t\t\t\tval = self.get();\n\n\t\t\t\t/*\n\t\t\t\t * TMS-350 Save/Cancel become greyed out on Ticket Details page even when changes are present\n\t\t\t\t */\n\t\t\t\tif(!util.equals(self.prevValue, val) && !(typeof self.prevValue === 'undefined' && val === '')){\n\t\t\t\t\te.trigger('dirty');\n\t\t\t\t\tself.dirty = true;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t/*\n\t\t\t\t * clean checks can be fired many times, so debouce them with a timer\n\t\t\t\t */\n\t\t\t\tif(self.cleanCheckTimer){\n\t\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t\t}\n\t\t\t\tself.cleanCheckTimer = setTimeout(function() {\n\t\t\t\t\tvar prev = self.prevValue,\n\t\t\t\t\t\tval = self.get();\n\n\t\t\t\t\tif(prev !== 0 && (!prev || $.isEmptyObject(prev))){\n\t\t\t\t\t\tprev = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(val !== 0 && (!val || $.isEmptyObject(val))){\n\t\t\t\t\t\tval = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(util.equals(prev,val)){\n\t\t\t\t\t\tself.dirty = false;\n\t\t\t\t\t\te.trigger('clean');\n\t\t\t\t\t\tself.redraw();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\t_onBlur: function(ev) {\n\t\t\tvar self = this;\n\t\t\tif(self.autoValidate === 'blur') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * weight < 0 goest to left\n\t\t *\n\t\t * Overly complex weight logic, maybe this can be refactored!\n\t\t */\n\t\taddOn: function(weight, html, className) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(typeof(weight) !== 'number') {\n\t\t\t\tweight = 0;\n\t\t\t}\n\n\t\t\tvar addon = $('<span data-weight=\"' + weight + '\" class=\"field-item addon\">' + html + '</span>');\n\n\t\t\tif(className) {\n\t\t\t\taddon.addClass(className);\n\t\t\t}\n\n\t\t\tvar pre = true, found = false;\n\t\t\tlayers.items.children().each(function () {\n\t\t\t\tvar el = $(this);\n\n\t\t\t\tif(el.hasClass('field-item-input')){\n\t\t\t\t\tpre = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Get correct element weight\n\t\t\t\tvar eWeight = el.data('weight');\n\t\t\t\tif(typeof(eWeight) !== 'number') {\n\t\t\t\t\teWeight = 0;\n\t\t\t\t}\n\n\t\t\t\tif(pre && weight < 0 && weight <= eWeight){\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\t// refresh first\n\t\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(!pre && weight >= 0 && weight <= eWeight) {\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found && weight < 0){\n\t\t\t\t// Must just left of input\n\t\t\t\tlayers.items.find('.field-item-input').before(addon);\n\t\t\t\t\n\t\t\t\t// refresh first\n\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t} else if(!found){\n\t\t\t\t// Must go all the way right\n\t\t\t\tlayers.items.append(addon);\n\t\t\t}\n\n\t\t\treturn addon;\n\t\t},\n\n\t\tplaceholder: function (s) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.placeholder){\n\t\t\t\tlayers.placeholder = $('<div class=\"placeholder noselect\"></div>').hide().appendTo(layers.input);\n\t\t\t}\n\n\t\t\tlayers.placeholder.text(s);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tself.set(self.element.attr('value'));\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tself.clearDirty();\n\n\t\t\tif(type && $.isFunction(type.clear)) {\n\t\t\t\ttype.clear.call(type, self);\n\t\t\t}else{\n\t\t\t\tself.prevValue = '';\n\t\t\t\tself.set('');\n\t\t\t}\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.cleanCheckTimer){\n\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\t\t\tself.field.removeClass('dirty');\n\t\t\tself.element.trigger('clean');\n\t\t},\n\n\t\tconflicts: function (value) {\n\t\t\tvar self = this;\n\t\t\tif(self.dirty){\n\t\t\t\treturn {\n\t\t\t\t\tkey: self.element.attr('name'),\n\t\t\t\t\tvOld: self.prevValue,\n\t\t\t\t\tvNew: value,\n\t\t\t\t\tvDirty: self.get()\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tset: function(value, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\tif (setOptions.autoClean) {\n\t\t\t\t/*\n\t\t\t\t * store the base value\n\t\t\t\t */\n\t\t\t\tself.prevValue = value;\n\n\t\t\t\tself.clearDirty();\n\t\t\t}\n\n\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\tif(self.hasStatus('error')) {\n\t\t\t\tself.status('error', false, false);\n\t\t\t}\n\n\t\t\tvar val = self._formatToField(value);\n\n\t\t\t/*\n\t\t\t * some complex types might not want input.val() to be called,\n\t\t\t * so ignore all undefined variables\n\t\t\t */\n\t\t\tif(typeof(val) !== 'undefined') {\n\t\t\t\te.val(val);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run the inputFilter if one exists on this field\n\t\t\t */\n\t\t\tvar f = e.data('inputFilter');\n\t\t\tif(f) {\n\t\t\t\tf._clean();\n\t\t\t}\n\n\t\t\tself._trigger('afterset', null, [val, value]);\n\t\t\t\n\t\t\t// Redraw synchronously to avoid display errors (was not working perfectly with setTimeout)\n\t\t\tself.redraw();\n\n\t\t},\n\t\t\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\treturn self._formatFromField(e.val());\n\t\t},\n\n\t\t/*\n\t\t * Legacy Method, use get() and set()\n\t\t *\n\t\t * value getter/setter for this field\n\t\t */\n\t\tvalue: function(value) {\n\t\t\tvar self = this;\n\n\t\t\tif(value === undefined) {\n\t\t\t\treturn self.get();\n\t\t\t} else {\n\t\t\t\treturn self.set(value);\n\t\t\t}\n\t\t},\n\n\t\tisEmpty: function() {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\t// check if type declares an isEmpty method\n\t\t\tif($.isFunction(type.isEmpty)) {\n\t\t\t\treturn type.isEmpty.call(type, self);\n\t\t\t}\n\t\t\t\n\t\t\treturn $.trim(self.element.val()) === '';\n\t\t},\n\n\t\tvalidate: function(skipRequired) {\n\t\t\tvar self = this,\n\t\t\t\tstates = self.states,\n\t\t\t\ttype = self.type,\n\t\t\t\tempty = self.isEmpty();\n\n\t\t\t/*\n\t\t\t * check required, compare against the actual value in the field\n\t\t\t */\n\t\t\t\n\t\t\tif(!skipRequired && states.require && empty) {\n\t\t\t\tself.setError({\n\t\t\t\t\tmessage: 'required'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * only call validate if not empty\n\t\t\t */\n\t\t\tif(empty) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif($.isFunction(self.format)) {\n\t\t\t\tself.format.call(self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check the type validation\n\t\t\t */\n\t\t\tif($.isFunction(type.validate)) {\n\t\t\t\tvar err = type.validate.call(type, self);\n\t\t\t\tif(typeof err === 'undefined') {\n\t\t\t\t\tself.clearError();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tself.setError(err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.clearError();\n\t\t\treturn true;\n\t\t},\n\n\t\t/*\n\t\t * flashes the field to get the users attention\n\t\t *\n\t\t * TODO: support flashing patterns\n\t\t */\n\t\tflash: function(numberOfTimes) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\trepeat(function() {\n\t\t\t\tself.field.addClass('flash');\n\t\t\t\tself.flashTimer = setTimeout(function() {\n\t\t\t\t\tself.field.removeClass('flash');\n\t\t\t\t}, 150);\n\t\t\t}, 150, numberOfTimes || 1);\n\t\t},\n\n\t\t/*\n\t\t * err: {\n\t\t *   message: '',\n\t\t *   code: '',\n\t\t *   description: ''\n\t\t * }\n\t\t */\n\t\tsetError: function(err) {\n\t\t\tvar self = this,\n\t\t\t\terror = self.states.error,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t/*\n\t\t\t * check if we need to clear the error\n\t\t\t */\n\t\t\tif(err === undefined) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!layers.error) {\n\t\t\t\tlayers.error = $('<div class=\"error-overlay noselect\"></div>').appendTo(layers.input);\n\t\t\t}\n\n\t\t\t//TODO: place error then check for overlaps\n\t\t\tlayers.error.text(err.message);\n\n\t\t\tself.status('error', true);\n\n\t\t\t/*\n\t\t\t * listen to keyUp events and rerun validate on this field\n\t\t\t */\n\t\t\tself.autoValidate = 'keyup';\n\t\t},\n\n\t\tclearError: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.states.error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.autoValidate = 'blur';\n\t\t\tself.status('error', false);\n\t\t},\n\n\t\t_formatToField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(value === null || value === undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.toField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.toField.call(type, value, self);\n\t\t},\n\n\t\t_formatFromField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.fromField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.fromField.call(type, value, self);\n\t\t},\n\n\t\t/*\n\t\t * decide what layers should be shown or hidden in the field\n\t\t *\n\t\t * warning: this function gets called a lot!\n\t\t */\n\t\tredraw: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\thasVal = !!e.val(),\n\t\t\t\tshowError = false,\n\t\t\t\tshowNotice = true,\n\t\t\t\tshowPlaceholder = true,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t\t//self.inputWidth = self.element.width(); // Added this line to fix display issue \n\n\t\t\tif(hasVal) {\n\t\t\t\tshowPlaceholder = false;\n\t\t\t}\n\n\t\t\tif(self.suffixShim && !showPlaceholder){\n\t\t\t\tself.suffixShim.text(e.val());\n\t\t\t}\n\n\t\t\tif(layers.prefix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.prefixPaddingAdded) {\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingLeft = e.css('padding-left').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingLeft = isNaN(self.startPaddingLeft)? 5 : parseInt(self.startPaddingLeft, 10);\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingLeft: (self.startPaddingLeft + layers.prefix.outerWidth()) + \"px\",\n\t\t\t\t\t\t\twidth: (self.startInputWidth - layers.prefix.outerWidth())  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.prefixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingLeft: self.startPaddingLeft,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tself.prefixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(layers.suffix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.suffixPaddingAdded) {\n\t\t\t\t\t\tvar valWidth = layers.suffix.find('.value').outerWidth();\n\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingRight = e.css('padding-right').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingRight = isNaN(self.startPaddingRight)? 0 : parseInt(self.startPaddingRight, 10);\n\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingRight: (self.startPaddingRight + valWidth) + 'px',\n\t\t\t\t\t\t\twidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.suffixShim.css({\n\t\t\t\t\t\t\tmaxWidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.suffixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\t\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingRight: self.startPaddingRight,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tself.suffixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif(o.hover){\n\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.focus){\n\t\t\t\tshowSuggest = false;\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.warn){\n\n\t\t\t}\n\t\t\t*/\n\t\t\tif(self.states.error) {\n\t\t\t\tshowNotice = false;\n\t\t\t\tshowError = true;\n\t\t\t}\n\n\t\t\tif(self.dirty){\n\t\t\t\tself.field.addClass('dirty');\n\t\t\t}else{\n\t\t\t\tself.field.removeClass('dirty');\n\t\t\t}\n\n\t\t\tself._showLayer('error', showError);\n\t\t\tself._showLayer('notice', showNotice);\n\t\t\tself._showLayer('placeholder', showPlaceholder);\n\t\t\tself._showLayer('suffix', !showPlaceholder);\n\t\t\tself._showLayer('prefix', !showPlaceholder);\n\t\t},\n\n\t\t_showLayer: function(layer, show) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(!self.layers[layer]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'visible');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].show();\n\t\t\t\t}\n\n\t\t\t\t// MISC-919 make sure placeholder stays in input box\n\t\t\t\tif(layer === 'placeholder' && e.width() > 0) {\n\t\t\t\t\tvar ph = self.layers[layer];\n\t\t\t\t\twhile((ph.outerWidth(true)) > e.width() && (parseFloat(ph.css('font-size'),10) >= 8.0)) {\n\t\t\t\t\t\tph.css('font-size','-=1.0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'hidden');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetType: function(sType) {\n\t\t\tvar self = this,\n\t\t\t\ttypes = $.add123.inputField.types,\n\t\t\t\ttype = self.type;\n\n\t\t\t/*\n\t\t\t * run the type tear down if it exists\n\t\t\t */\n\t\t\tif(type && $.isFunction(type.tearDown)) {\n\t\t\t\ttype.tearDown().call(type, self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if type doesn't exist set to the default of text\n\t\t\t */\n\t\t\tif(!sType || !types[sType]) {\n\t\t\t\tsType = 'text';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * setup the field type\n\t\t\t */\n\t\t\ttype = Object.create(types[sType]);\n\n\t\t\t/*\n\t\t\t * run the type setup\n\t\t\t */\n\t\t\tif($.isFunction(type.setUp)) {\n\t\t\t\ttype.setUp.call(type, self);\n\t\t\t}\n\n\t\t\tself.type = type;\n\t\t},\n\n\t\t/*\n\t\t * returns the type object\n\t\t */\n\t\tgetType: function () {\n\t\t\treturn this.type;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.field.hide();\n\t\t},\n\n\t\tshow: function(displayValue) {\n\t\t\tif (displayValue) {\n\t\t\t\tthis.field.css('display', displayValue);\n\t\t\t} else {\n\t\t\t\tthis.field.show();\n\t\t\t}\n\t\t},\n\n\t\tgetField: function() {\n\t\t\treturn this.field;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.status('disable', false);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.status('disable', true);\n\t\t},\n\n\t\tisDisabled: function() {\n\t\t\treturn this.hasStatus('disable');\n\t\t},\n\n\t\t/*\n\t\t * public status setters\n\t\t */\n\t\tstatus: function(statusName, bool, fireEvents) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * only allow changes to status flags\n\t\t\t */\n\t\t\tif($.inArray(statusName, statusNames) < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * clean and set status in options\n\t\t\t */\n\t\t\tvar cleanBool = !!bool,\n\t\t\t\tstates = self.states;\n\n\t\t\tif(cleanBool === states[statusName]) {\n\t\t\t\t/*\n\t\t\t\t * this status is already set, ignore\n\t\t\t\t */\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstates[statusName] = cleanBool;\n\t\t\tself.redraw();\n\n\t\t\t/*\n\t\t\t * set the status class to the field\n\t\t\t */\n\t\t\tif(states[statusName]) {\n\t\t\t\tself.field.addClass(statusName);\n\t\t\t} else {\n\t\t\t\tself.field.removeClass(statusName);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run any updates to the field needed\n\t\t\t */\n\t\t\tvar layers = self.layers;\n\t\t\tif(statusName === 'disable') {\n\n\t\t\t\tif(!layers.disable) {\n\t\t\t\t\tlayers.disable = $('<div class=\"disable-overlay\"></div>').appendTo(layers.items);\n\t\t\t\t}\n\n\t\t\t\tif(cleanBool) {\n\t\t\t\t\tlayers.disable.css({\n\t\t\t\t\t\twidth: (layers.items.outerWidth() - 2) + 'px',\n\t\t\t\t\t\theight: (layers.items.outerHeight() - 2) + 'px'\n\t\t\t\t\t}).show();\n\t\t\t\t} else {\n\t\t\t\t\tlayers.disable.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * fire statusUpdated event\n\t\t\t */\n\t\t\tif(fireEvents !== false) {\n\t\t\t\tself._trigger(\"statusUpdate\", null, {\n\t\t\t\t\t'statusName': statusName,\n\t\t\t\t\t'value': states[statusName]\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t * legacy status method\n\t\t */\n\t\tupdateStatus: function(statusName, bool, fireEvents) {\n\t\t\tthis.status(statusName, bool, fireEvents);\n\t\t},\n\n\t\thasStatus: function (statusName) {\n\t\t\treturn !!this.states[statusName];\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tvar self = this;\n\n\t\t\t//TODO remove all handlers\n\t\t\t//\n\n\t\t\t/*\n\t\t\t * tearDown type object\n\t\t\t */\n\t\t\tif(self.type && self.type.tearDown){\n\t\t\t\tself.type.tearDown.call(self.type, self);\n\t\t\t}\n\t\t}\n\t});\n\n\t\n\n\n\n\t/*\n\t * InputField Types\n\t *\n\t * Stored in $.add123.inputField.types\n\t *\n\t * The context (this) will get set to the context of the type object, use the ui parameter to obtain access to the inputField widget\n\t *\n\t * setUp: add any events, elements, etc.\n\t *\n\t * tearDown: reverse whatever setUp did\n\t *\n\t * converter: used to convert data between \"human\" and transport formats (e.g. mm/dd/yyyy <-> yyyymmdd)\n\t *\n\t * format: attempt to format the human readable value (e.g. mm/ dd/yyyy -> mm/dd/yyyy, '  foo ' -> 'foo')\n\t *    format is called on before validate\n\t *\n\t * validate: returns an error object on error or undefined on success\n\t * err: {\n\t *   message: '',\n\t *   code: '',\n\t *   description: ''\n\t * }\n\t *\n\t */\n\t$.add123.inputField.types = {};\n\n\t/* Basic Type Structure\n\t$.add123.inputField.types = {\n\t\tsetUp: function(ui) {},\n\t\ttearDown: function(ui) {},\n\t\tconverter: {\n\t\t\ttoField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\treturn {\n\t\t\t\tmessage: 'invalid'\n\t\t\t};\n\t\t}\n\t};\n\t*/\n\n\n}(jQuery));\n\n","/**\n * inputFilter widget\n */\n\n\n(function($) {\n\t'use strict';\n\n\t$.widget('add123.inputFilter', {\n\n\t\toptions: {\n\t\t\ttoUpper: false,\n\t\t\t//TODO: support max, flash when at end of string, other wise just splice off the end\n\t\t\tmax: 0,\n\t\t\tpattern: /[\\w\\s]/ \t// was [A-Z]\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tmemory;\n\n\t\t\t/*\n\t\t\t * track if a native change event will be fired by the browser\n\t\t\t */\n\t\t\tself.nativeChange = false;\n\n\t\t\tif(!e.is('input[type=text], textarea')) {\n\t\t\t\tthrow new Error('inputFilter must be applied to a text input ');\n\t\t\t}\n\n\t\t\te.on('keydown.inputFilter', $.proxy(this._onKeyDown, self));\n\t\t\te.on('keypress.inputFilter', $.proxy(this._onKeyPress, self));\n\t\t\te.on('paste.inputFilter', $.proxy(this._onPaste, self));\n\n\t\t\t/*\n\t\t\t * support change events\n\t\t\t */\n\t\t\te.on('focus.inputFilter', function() {\n\t\t\t\tmemory = e.val();\n\t\t\t});\n\t\t\te.on('blur.inputFilter', function() {\n\t\t\t\tif(!self.nativeChange && memory !== e.val()) {\n\t\t\t\t\te.change();\n\t\t\t\t}\n\t\t\t\tself.nativeChange = false;\n\t\t\t});\n\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tthis.options.max = max;\n\t\t},\n\n\t\tsetPattern: function (regex) {\n\t\t\tthis.options.pattern = regex;\n\t\t},\n\n\t\t_onPaste: function(ev) {\n\t\t\t/*\n\t\t\t * on the paste event, schedule a clean\n\t\t\t */\n\t\t\tsetTimeout($.proxy(this._clean, this), 0);\n\t\t},\n\n\t\t_onKeyDown: function(ev) {\n\t\t\t/*\n\t\t\t * detect when the native change event will be fired\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\tthis.nativeChange = true;\n\t\t\t}\n\t\t},\n\n\n\t\t_onKeyPress: function(ev) {\n\t\t\tvar self = this;\n\t\t\t/*\n\t\t\t * Weird IE glitch fix\n\t\t\t *\n\t\t\t * TODO: this needs an explaination of the problem\n\t\t\t */\n\t\t\t//if (!ev.which && ((ev.charCode || ev.charCode === 0) ? ev.charCode : ev.keyCode)) {\n\t\t\t//\tev.which = ev.charCode || ev.keyCode;\n\t\t\t//}\n\t\t\t/*\n\t\t\t * bypass command keys\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tself._type(String.fromCharCode(ev.which));\n\t\t\treturn false;\n\t\t},\n\n\t\t/*\n\t\t * retype all the characters in the field so they are passed through the filter\n\t\t */\n\t\t_clean: function() {\n\t\t\tvar v = this.element.val();\n\t\t\tthis.element.val('');\n\t\t\t$.each(v.split(''), $.proxy(function(i, c) {\n\t\t\t\tthis._type(c);\n\t\t\t}, this));\n\t\t},\n\n\t\t/*\n\t\t * manually enter the given text into the input field\n\t\t * obeying the regular expression and triggering events\n\t\t * when characters are ignored\n\t\t */\n\t\t_type: function(text) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tkeytypedEvent = 'keytyped',\n\t\t\t\tkeyignoredEvent = 'keyignored',\n\t\t\t\tp, tmp;\n\n\t\t\tif(o.toUpper) {\n\t\t\t\ttext = text.toUpperCase();\n\t\t\t}\n\n\t\t\tif(text.match(o.pattern)) {\n\t\t\t\t/*\n\t\t\t\t * only deal with the caret if the field is focused\n\t\t\t\t *\n\t\t\t\t * (changed focus check because of a PhantomJS bug)\n\t\t\t\t * https://github.com/ariya/phantomjs/issues/10427\n\t\t\t\t */\n\t\t\t\tif(e[0] === document.activeElement) {\n\t\t\t\t\tp = e.caret();\n\t\t\t\t\ttmp = val.slice(0, p.begin) + text + val.slice(p.end);\n\t\t\t\t\tif(o.max && tmp.length > o.max){\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.val(tmp);\n\t\t\t\t\t\te.caret(p.begin + text.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp = val + text;\n\n\t\t\t\t\tif(o.max && p.length > o.max){\n\t\t\t\t\t\tp = p.substring(0, o.max);\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.val(p);\n\t\t\t\t}\n\n\t\t\t\tself._trigger(keytypedEvent);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.inputFilter');\n\t\t}\n\n\t});\n})(jQuery);","/**\n * add123.popOver widget\n */\n\n(function($){\n\t'use strict';\n\n\tvar doc = $(document),\n\t\twin = $(window),\n\t\tbody = $('body');\n\n\t$.widget(\"add123.popOver\", {\n\n\t\toptions: {\n\t\t\ttarget: '',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tappendTo: 'body'\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.showing = false;\n\n\t\t\te.detach();\n\t\t\tvar content = e.clone().addClass('form-input-tooltip');\n\t\t\tself.title = $('<h3 class=\"tooltip-title\"></h3>');\n\n\t\t\te.addClass('tooltip-wrapper').css('position', 'absolute');\n\n\t\t\te.empty();\n\n\t\t\te.append(self.title).append(content);\n\n\t\t\te.appendTo(o.appendTo);\n\n\t\t\tself.onClick = function(ev) {\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!target.childOf(e, true) && !$(ev.delegateTarget.activeElement).childOf(e, true) && !target.childOf(o.target, true)) {\n\t\t\t\t\tif(self._trigger('beforeoffclick', ev, target)) {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.onResize = function(ev) {\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.position();\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * listen for off clicks\n\t\t\t */\n\t\t\tdoc.on('mousedown', self.onClick);\n\n\t\t\t/*\n\t\t\t * listen for window resizes\n\t\t\t */\n\t\t\twin.on('resize', self.onResize);\n\t\t},\n\n\t\tsetAppendTo: function (el) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\to.appendTo = el;\n\t\t\te.appendTo(el);\n\t\t},\n\n\t\t_init: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\ttitleElement = self.title;\n\n\t\t\tvar title = e.attr('title');\n\n\t\t\tif(title) {\n\t\t\t\ttitleElement.text(title).show();\n\t\t\t}else{\n\t\t\t\ttitleElement.hide();\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.showing) {\n\t\t\t\tself.hide();\n\t\t\t} else {\n\t\t\t\tself.show();\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * show must be deferred with a timeout to avoid being affected by an offclick\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.showing = true;\n\t\t\t\tself.position();\n\t\t\t\t/*\n\t\t\t\t * fadeIn is used instead of show() so that the popover\n\t\t\t\t * posistioning is not visible\n\t\t\t\t */\n\t\t\t\tself.element.fadeIn(10);\n\t\t\t\tself._trigger('onShow');\n\t\t\t}, 0);\n\t\t},\n\n\t\thide: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.showing = false;\n\n\t\t\tself.element.hide();\n\t\t\tself._trigger('onHide');\n\t\t},\n\n\t\tposition: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tmy = 'left+' + (o.left - 3) + ' top+' + (o.top + 3),\n\t\t\t\tat = 'left bottom',\n\t\t\t\tcollision = 'flipfit none';\n\n\t\t\tif (o.my) {\n\t\t\t\tmy = o.my;\n\t\t\t}\n\n\t\t\tif (o.at) {\n\t\t\t\tat = o.at;\n\t\t\t}\n\n\t\t\tif (o.collision) {\n\t\t\t\tcollision = o.collision;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\te.position({\n\t\t\t\t\tmy: my,\n\t\t\t\t\tat: at,\n\t\t\t\t\tof: o.target,\n\t\t\t\t\tcollision: collision\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tdoc.off('mousedown', self.onClick);\n\t\t\twin.off('resize', self.onResize);\n\t\t}\n\t});\n\n})(jQuery);","/**\n * submitButton Widget\n */\n(function($) {\n\t'use strict';\n\n\t/*\n\t * when you catch the submitbuttonsubmit event, you need to call execute\n\t * 'event.data.onComplete' when the processing is done\n\t */\n\t$.widget('add123.submitButton', {\n\t\toptions: {\n\t\t\tcolor: '#000',\n\t\t\tdelay: 10,\n\t\t\tdisabled: false,\n\t\t\twaiting: false,\n\t\t\t// label: undefined, //ignored by create\n\t\t\tpreventDefault: true,\n\t\t\tenterKeyListenerProvider: function() {\n\t\t\t\treturn this.parents('form').first();\n\t\t\t},\n\t\t\tonKeyDown: function (ev) {\n\t\t\t\tif(ev.keyCode === 13 && !$(ev.target).is('textarea')) {\n\t\t\t\t\tthis.submit.call(this, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\tw = e.width(),\n\t\t\t\th = e.height();\n\n\t\t\te.addClass('submitting');\n\n\t\t\tself.getButtonLabel().css('visibility', 'hidden');\n\n\t\t\tself.spinner.appendTo(e).spin({\n\t\t\t\tcolor: o.color,\n\t\t\t\ttop: -h + 4,\n\t\t\t\tleft: -7\n\t\t\t});\n\t\t},\n\n\t\tgetButtonLabel: function () {\n\t\t\treturn this.element.find('.ui-button-text');\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.destroyed){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.removeClass('submitting');\n\t\t\tself.spinner.spin('stop');\n\t\t\tself.getButtonLabel().css('visibility', 'visible');\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\t\t\tvar e = self.element,\n\t\t\t\tbOptions = {};\n\n\t\t\tif(o.icons) {\n\t\t\t\tbOptions.icons = o.icons;\t// does nothing\n\t\t\t}\n\n\t\t\tif(o.disabled) {\n\t\t\t\tbOptions.disabled = o.disabled;\n\t\t\t}\n\n\t\t\tif(o.text !== undefined){\n\t\t\t\tbOptions.text = o.text;\n\t\t\t}\n\n\t\t\to.label = e.html();\n\t\t\te.button(bOptions).on('click.submitButton', $.proxy(self.submit, self));\n\n\t\t\tself.spinner = $('<div class=\"spinner\" style=\"display: inline-block; position: absolute;\"></div>');\n\t\t\te.append(this.spinner);\n\n\t\t\t// This actually doesn't seem to do anything. The browser will do it automatically\n\t\t\tvar listenerProvider = o.enterKeyListenerProvider;\n\t\t\tif($.isFunction(listenerProvider)) {\n\t\t\t\tvar listener = listenerProvider.call(e);\n\t\t\t\tif(typeof listener !== 'undefined') {\n\t\t\t\t\tlistener.on('keydown.submitButton', $.proxy(o.onKeyDown, self));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsubmit: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\n\t\t\tif(o.preventDefault && ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t}\n\n\t\t\tif(o.waiting === true || o.disabled === true) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif(!ev) {\n\t\t\t\tev = null;\n\t\t\t}\n\n\t\t\tif(self._trigger('beforesubmit', ev) === false) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\to.waiting = true;\n\t\t\tself._showLoading.call(self);\n\n\t\t\t/*\n\t\t\t * submit clicks are delayed so that the UI can update before\n\t\t\t * doing all of the submit work\n\t\t\t *\n\t\t\t * passes the onComplete callback as the data for this event\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself._trigger('submit', ev, function() {\n\t\t\t\t\to.waiting = false;\n\t\t\t\t\tself._hideLoading.call(self);\n\t\t\t\t\tself._trigger('aftersubmit', ev);\n\t\t\t\t});\n\t\t\t}, o.delay);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.options.disabled = false;\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.options.disabled = true;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.submitButton');\n\t\t\tself.destroyed = true;\n\t\t}\n\t});\n})(jQuery);","/**\n * Array Field Widget.\n *\n * - We may want to put this in formBuilder-os\n * - May require css from dyn\n *\n * Attribute Settings:\n * data-addmessage=\"Some message\"\t- Message next to the '+' button\n * data-sub-widget=\"widgetName\"\t\t- Name of jQuery widget to be used as the items\n */\n/*global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar arrayFieldId = 0;\n\tvar nextArrayFieldId = function () {\n\t\treturn arrayFieldId++;\n\t};\n\n\t// Localization\n\tif(!util.lang.remove) {\n\t\tswitch(util.lang.code) {\n\t\t\tcase 'es': util.lang.remove = 'Quitar'; break;\n\n\t\t\t//add more lang code translations here\n\n\t\t\tdefault: //'en'\n\t\t\t\tutil.lang.remove = 'Remove'; \n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\n\t$.widget(\"tms.arrayField\", {\n\t\t_arrayFieldTemplate: \n\t\t\t'<div class=\"array-field\">' + \n\t\t\t\t'<div class=\"items\"><div class=\"items-content\"></div></div>' + \n\t\t\t\t'<div class=\"input-field\">' + \n\t\t\t\t\t'<div class=\"field-items\">' + \n\t\t\t\t\t\t'<span class=\"first field-item addon clickable array-field-add noselect\"><a href=\"#\">+</a></span>' + \n\t\t\t\t\t\t'<span class=\"field-item array-field-add-message\"></span>' + \n\t\t\t\t\t'</div>' + \n\t\t\t\t'</div>' + \n\t\t\t'</div>',\n\n\t\t_arrayFieldItemTemplate:\n\t\t\t'<div class=\"input-field-group array-field-item\">' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"first field-item addon clickable sort-handle noselect\" style=\"width:8px;\">::</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<span class=\"sub-field\"></span>' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"field-item addon clickable array-field-delete\">' +\n\t\t\t\t\t\t\t'<span class=\"tms-icon tms-icon-remove\" title=\"'+util.lang.remove+'\"></span>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>', \n\n\t\t_create: function(){\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.subField = e.html();\n\n\t\t\tself.id = nextArrayFieldId();\n\n\t\t\te.html(self._arrayFieldTemplate);\n\n\t\t\tif(e.attr('data-addmessage')){\n\t\t\t\te.find('.array-field-add-message').text(e.attr('data-addmessage'));\n\t\t\t}\n\n\t\t\tvar items = self.items = e.find('.items');\n\t\t\tself.itemsContent = items.find('.items-content');\n\n\t\t\t//CDH 2013-12-05 removed this during the rafactor needed for waypoints\n\t\t\t//self.data = [];\n\t\t\t//self.draw();\n\n\n\t\t\te.on('click', '.array-field-add, .array-field-add-message', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._handleAddButtonClick();\n\t\t\t});\n\n\t\t\te.on('click', '.array-field-delete', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\t$(this).parents('.array-field-item').first().remove();\n\t\t\t\tself._onDirty();\n\t\t\t\tself._trigger('afterdelete', ev);\n\t\t\t});\n\n\t\t\tself.itemsContent.sortable({\n\t\t\t\taxis: \"y\",\n\t\t\t\thandle: '.sort-handle',\n\t\t\t\tcontainment: self.itemsContent,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\tself._checkDirty();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * proxy dirty and clean events\n\t\t\t */\n\t\t\tself.dirty = false;\n\t\t\t//items.on('dirty', $.proxy(self._onDirty, self)).on('clean', $.proxy(self._onClean, self));\n\n\n\t\t\t/*\n\t\t\t * proxy clean/dirty events to hanlder functions\n\t\t\t */\n\t\t\te.on('dirty clean', function (ev) {\n\t\t\t\t/*\n\t\t\t\t * only listen to events from children of the widget,\n\t\t\t\t * that way a loop will not form when the element triggers\n\t\t\t\t * the same events\n\t\t\t\t */\n\t\t\t\tif(!$(ev.target).childOf(e)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\n\t\t\t\tif(ev.type === 'dirty'){\n\t\t\t\t\tself._onDirty();\n\t\t\t\t}else{\n\t\t\t\t\tself._onClean();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetId: function(){\n\t\t\treturn this.id;\n\t\t},\n\n\t\t_handleAddButtonClick: function () {\n\t\t\tvar self = this;\n\t\t\tif(self._trigger('beforeaddnewitem')){\n\t\t\t\t//default can be prevented\n\t\t\t\tself.addItem();\n\t\t\t}\n\t\t},\n\n\t\t_checkDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcurData = self.data,\n\t\t\t\tnewData = self.get();\n\n\t\t\tif(util.equals(newData, curData)){\n\t\t\t\tself.dirty = false;\n\t\t\t\tself.element.trigger('clean');\n\t\t\t}else{\n\t\t\t\tself.dirty = true;\n\t\t\t\tself.element.trigger('dirty');\n\t\t\t}\n\t\t},\n\n\t\t_onDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\t_onClean: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\tgetFieldInstances: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tfields = [];\n\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tfields.push($(this).find('.array-field-input-' + self.id));\n\t\t\t});\n\t\t\treturn fields;\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget') || 'inputField',\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tdata = [];\n\n\t\t\t/*\n\t\t\t$.each(self.fields, function (i, field) {\n\t\t\t\tvar val = field[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t*/\n\t\t\t\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tvar val = $(this).find('.array-field-input-' + self.id)[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\n\t\t\treturn data;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tvalid = true;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\tvalid = valid && $(this).find(':add123-inputField').inputField('validate');\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\tself.dirty = false;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\t\t\tself.set([]);\n\t\t},\n\n\t\tflash: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':add123-inputField').inputField('flash');\n\t\t\t});\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this,\n\t\t\t\titems = self.items,\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tself._empty();\n\n\t\t\tif(!$.isArray(data)){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tself.data = data;\n\n\t\t\t$.each(data, function (i, item) {\n\t\t\t\tcontent.append(self.drawItem(item));\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * allows a different cleanup behavior for special lists (example: tms.tmsLocationTicketRoute)\n\t\t */\n\t\t_empty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcontent = self.itemsContent;\n\t\t\tcontent.children().remove(); // calls the destroy on widgets + removed them\n\t\t\t// content.empty(); //redundant\n\t\t},\n\n\t\taddItem: function (index, item) {\n\t\t\tvar self = this,\n\t\t\t\titemEl = self.drawItem(item),\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tif((index || index === 0) && index >= 0){\n\t\t\t\tcontent.children().eq(index).before(itemEl);\n\t\t\t}else{\n\t\t\t\t/*\n\t\t\t\t * if no insert index is defined, just append\n\t\t\t\t */\n\t\t\t\tcontent.append(itemEl);\n\t\t\t}\n\n\t\t\tself._trigger('afteradd', null, itemEl);\n\n\t\t\treturn itemEl || null;\n\t\t},\n\n\t\tdrawItem: function (item) {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget'),\n\t\t\t\titemView = $(self._arrayFieldItemTemplate);\n\n\t\t\tif(subWidget) {\n\t\t\t\tself._drawWidgetItem(item, itemView, subWidget);\n\t\t\t}else{\n\t\t\t\tself._drawInternalMarkupItem(item, itemView);\n\t\t\t}\n\t\t\treturn itemView;\n\t\t},\n\n\t\t_drawInternalMarkupItem: function (item, itemView) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $(self.subFieldMarkup());\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').html(field);\n\t\t\tfield.parent().find('input[type!=submit], select, textarea, [data-load-widget-as-field]')\n\t\t\t\t.inputField()\n\t\t\t\t.inputField('set', item)\n\t\t\t\t.addClass('array-field-input-' + self.id);\n\t\t},\n\n\t\t_drawWidgetItem: function (item, itemView, subWidget) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $('<div/>')[subWidget]();\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').append(field);\n\t\t\tfield[subWidget]('set', item).addClass('array-field-input-' + self.id).css('display', 'inline');\n\t\t},\n\n\t\tsubFieldMarkup: function () {\n\t\t\treturn this.subField;\n\t\t},\n\n\n\t\t_destroy: function(){\n\t\t\tvar self = this;\n\n\t\t\t// Remove everything and put the inital back\n\t\t\tself._empty(); //destroys the widgets gracefully\n\t\t\tself.element.empty();\n\t\t\tself.element.html(self.subField);\n\t\t}\n\t});\n})(jQuery);\n","/**\n * tms.textSubmitter widget\n *\n * You can type text then hit enter to trigger a submit event with the data and a callback.\n * Once submitted, the textbox is cleared and ready for new input.\n *\n * A send instruction message appears when focused\n */\n\n(function($){\n\t'use strict';\n\t\n\t// Converted the lang.sendInstruction to an option with 'press enter to submit' as a default\n\t// Note: this differs from the tms 'press enter to add note'\n\n\t$.widget(\"tms.textSubmitter\", {\n\t\t_textSubmitterTemplate:\n\t\t\t'<div class=\"text-submitter\">' +\n\t\t\t\t'<textarea name=\"text-entry\" rows=\"3\" />' +\n\t\t\t\t'<div class=\"send-instruction noselect\"></div>' +\n\t\t\t'</div>',\n\n\t\toptions: {\n\t\t\twidth: '300px',\n\t\t\tplaceholder: '',\n\t\t\tsendInstruction: 'press enter to submit',\n\t\t\trows: undefined, // default 3\n\t\t\tignoreEmptySubmit: false\t// submit when empty yes/no\n\t\t},\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\ttmp;\n\n\t\t\t/**\n\t\t\t * Setup html\n\t\t\t */\n\t\t\tself.container = $(self._textSubmitterTemplate);\n\n\t\t\te.append(self.container);\n\n\t\t\tself.textEntry = e.find('textarea[name=\"text-entry\"]');\n\n\t\t\tif(!isNaN(o.rows)) {\n\t\t\t\tself.textEntry.attr('rows', o.rows);\n\t\t\t}\n\n\t\t\tself.sendInstruction = e.find('.send-instruction').text(o.sendInstruction);\n\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\n\t\t\tself.textEntry.width(o.width).inputField({\n\t\t\t\tplaceholder: o.placeholder,\n\t\t\t\tstatusUpdate: function(ev, data) {\n\t\t\t\t\tif(data.statusName === 'disable'){\n\t\t\t\t\t\tif(data.value === false && self.textEntry.is(':focus')) {\n\t\t\t\t\t\t\t// Just been enabled and still on it\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t\t\t\tself.textEntry.removeAttr('readonly');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Just been disabled\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t\t\t\tself.textEntry.attr('readonly', true); // prevents edits during submit\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.element.width(o.width);\n\n\t\t\t/**\n\t\t\t * Handle events\n\t\t\t */\n\t\t\tself.textEntry\n\t\t\t\t.on('focus',function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t})\n\t\t\t\t.on('blur', function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t})\n\t\t\t\t.on('keydown', function (ev) {\n\t\t\t\t\tif (ev.which === 13 && !ev.shiftKey) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tself._submit();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t_submit: function () {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tif(self.textEntry.inputField('isDisabled') || \n\t\t\t\t(o.ignoreEmptySubmit && self.textEntry.inputField('isEmpty'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tself.disable();\n\n\t\t\tvar onComplete = function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\tself.clear();\n\t\t\t\t}\n\t\t\t\tself.enable();\n\t\t\t};\n\t\t\tself._trigger('submit', null, {text: self.get(), onComplete: onComplete});\n\t\t},\n\n\t\tset: function (text) {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('set', text);\n\t\t},\n\n\t\tsetInstruction: function(text){\n\t\t\tvar self = this;\n\n\t\t\tself.sendInstruction.text(text);\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.textEntry.inputField('get');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('clear');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('disable');\n\t\t},\n\n\t\tenable: function () {\n\t\t\tvar self = this;\n\t\t\tself.textEntry.inputField('enable');\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.container.remove();\n\t\t}\n\t});\n\t\n})(jQuery);\n","/*\n\t * Large Code Type Support (code)\n\t *\n\t * TODO: update this so that the code table does not have to global (e.g. assigned to window)\n\t *\n\t * Example Code Table:\n\t * [\n\t *   {\"value\" : \"100\",  \"label\" : \"BROWARD TRAILER\"},\n\t *   {\"value\" : \"AAA\",  \"label\" : \"122 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"BBB\",  \"label\" : \"22 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"CCC\",  \"label\" : \"333 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"EEE\",  \"label\" : \"444 WELDING LLC. TRAILER\"},\n\t *   {\"value\" : \"ZZZ\",  \"label\" : \"MEADOW CREEK WELDING LLC.\"}\n\t * ]\n\t */\n\n\n\n(function($) {\n\t'use strict';\n\n\t/*\n\t * binary array search, codes must be in alpha order!\n\t */\n\tvar binarySearch = function(needle, haystack) {\n\t\tvar mid, element;\n\n\t\tif(!haystack.length) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar high = haystack.length - 1;\n\t\tvar low = 0;\n\n\t\tneedle = needle.toLowerCase();\n\n\t\t//TODO: only supporting case insensitive right now\n\t\twhile(low <= high) {\n\t\t\tmid = parseInt((low + high) / 2, 10);\n\t\t\telement = haystack[mid].value.toLowerCase();\n\t\t\tif(element > needle) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if(element < needle) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\treturn mid;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tvar codeListFilter = function(codeTable) {\n\t\treturn function(request, response) {\n\t\t\tif(request.term.length < 3) {\n\t\t\t\tresponse();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), \"i\");\n\n\t\t\tvar matches = $.grep(codeTable, function(value) {\n\t\t\t\treturn matcher.test(value.label) || matcher.test(value.value);\n\t\t\t});\n\n\t\t\tresponse(matches);\n\t\t};\n\t};\n\n\t$.add123.inputField.types.code = {\n\t\tsetUp: function(ui) {\n\t\t\tvar e = ui.element,\n\t\t\t\to = ui.options;\n\n\n\t\t\tvar codeTableName = e.data('codes');\n\n\t\t\tif(!codeTableName) {\n\t\t\t\tthrow new Error('not data-codes attribute given for input ' + e.attr('name'));\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * save code table reference to options\n\t\t\t */\n\t\t\to._codeTable = window[codeTableName];\n\n\t\t\tif(!o._codeTable) {\n\t\t\t\tthrow new Error('ERROR: data-codes points to an undefined window property window[' + codeTableName + '] for input [name=' + e.attr('name') + ']');\n\t\t\t}\n\n\t\t\te.autocomplete({\n\t\t\t\tsource: codeListFilter(o._codeTable)\n\t\t\t}).on('autocompleteselect.type-code', function(ev, ui) {\n\t\t\t\t/*\n\t\t\t\tif(ui.item && ui.item.label) {\n\t\t\t\t\t//o._layers.notice.html(ui.item.label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t}).on('keyup.type-code', function(ev) {\n\t\t\t\t/*\n\t\t\t\tvar val = binarySearch(e.val(), o._codeTable);\n\t\t\t\tif(val > -1) {\n\t\t\t\t\t//o._layers.notice.html(o._codeTable[val].label).show();\n\t\t\t\t} else {\n\t\t\t\t\t//o._layers.notice.html('').hide(0);\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t});\n\n\t\t},\n\t\ttearDown: function(ui) {\n\t\t\tvar o = ui.options,\n\t\t\t\te = ui.element;\n\t\t\te.html('').off('.type-code').autocomplete('destroy');\n\t\t\tdelete o.codeTable;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\tvar e = ui.element;\n\t\t\tif(binarySearch(e.val(), ui.options._codeTable) < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/*\n * Data Type 'date'\n *\n * Has calendar popup (bootstrap-datepicker)\n *\n * Attribute Settings:\n * data-minyear (default [-=15]) - Can be set to 'CURRENT'\n * data-maxyear (default [+=2]) - Can be set to 'CURRENT'\n * data-startdate (default 01/01/[minyear]) - trumps minyear if both set. Can be set to 'TODAY'\n * data-enddate (default 12/31/[maxyear]) - trumps maxyear if both set. Can be set to 'TODAY'\n * data-enforce-min (default false) - marks dates <startDate as invalid\n * data-enforce-max (default false) - marks dates >endDate as invalid\n */\n\n/*global util:true, moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\n\n\ttypes.date = {\n\t\tattributes: ['minyear', 'maxyear', 'startdate', 'enddate','enforceMax','enforceMin'],\n\t\tmomentStoreFormat: 'YYYY-MM-DD',\n\n\t\t_dateFormat: 'MM/DD/YYYY', // for output + datepicker\n\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element,\n\t\t\t\ttmp, startDate, endDate;\n\n\t\t\tui.placeholder(self._dateFormat);\n\n\t\t\tself.enforceMin = !!e.data('enforceMin');\n\t\t\tself.enforceMax = !!e.data('enforceMax');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\t// Determine year ends\n\t\t\tvar minYear = new Date().getFullYear() - 15,\n\t\t\t\tmaxYear = new Date().getFullYear() + 2;\n\n\t\t\ttmp = e.data('minyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tminYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tminYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmp = e.data('maxyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tmaxYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tmaxYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.startDate = '01/1/' + minYear;\n\t\t\tself.endDate = '12/31/' + maxYear;\n\n\t\t\t// Determine date ends and save for validation\n\n\t\t\ttmp = e.data('startdate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.startDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.startDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = e.data('enddate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.endDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.endDate = tmp;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\n\t\t\t// Setup datepicker\n\t\t\tvar datePickerOptions = {\n\t\t\t\tstartDate: self.startDate, \n\t\t\t\tendDate: self.endDate,\n\t\t\t\tautoclose: true,\n\t\t\t\tforceParse: false,\n\t\t\t\tformat: 'mm/dd/yyyy',\n\t\t\t\ttodayBtn: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tlanguage: util.lang.code\n\t\t\t};\n\n\t\t\te.datepicker(datePickerOptions);\n\n\t\t\t// Setup inputFilter\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\/]/,\n\t\t\t\tmax : 10,\n\t\t\t\ttoUpper: true\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/*\n\t\t\t * Store date in XSD standard: yyyy-mm-dd, display in dd/mm/yyy \n\t\t\t */\n\t\t\t\n\t\t\t/**\n\t\t\t * yyyy-mm-dd => mm/dd/yyyy\n\t\t\t */\n\t\t\ttoField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(5, 7) + '/' + val.substring(8, 10) + '/' + val.substring(0, 4);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * mm/dd/yyyy (local) => yyyy-mm-dd (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn val.substring(6, 10) + '-' + val.substring(0, 2) + '-' + val.substring(3, 5);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ui) {\n\t\t\tui.element.datepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\tdate = moment(ui.element.val(),self._dateFormat,true);\n\n\n\t\t\tif(!date.isValid() || \n\t\t\t\t(self.enforceMin && date.isBefore(moment(self.startDate, self._dateFormat))) ||\n\t\t\t\t(self.enforceMax && moment(self.endDate, self._dateFormat).isBefore(date))) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'display'\n *\n * Displays data and acts as a read-only inputField\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.display = {\n\t\tsetUp: function (ui) {\n\t\t\tvar e = ui.element;\n\n\t\t\te.parents('.field-item').hide();\n\t\t\te.parents('.field-items').append('<div class=\"input-display\"></div>');\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function (val, ui) {\n\t\t\t\tui.element.parents('.field-items').find('.input-display').html(val);\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn ui.element.parents('.field-items').find('.input-display').html().trim();\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'money'\n *\n * Attribute Settings:\n * data-currency-symbol (default=$) - Can modify currency symbol to any other symbol\n * data-show-symbol (default=true) - Choose whether or not to show currency symbol \n */\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.money = {\n\n\t\tattributes: ['currency-symbol', 'show-symbol', 'max-amount', 'min-amount'],\n\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\tself.element = e;\n\n\t\t\tself.currency = e.data('currency-symbol');\n\t\t\tself.showSymbol = e.data('show-symbol');\n\t\t\tself.max = e.data('max-amount');\n\t\t\tself.min = e.data('min-amount');\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\.]/\n\t\t\t}).change(function () {\n\t\t\t\tself._onChange();\n\t\t\t}).blur(function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t\tif(self.showSymbol === undefined || !!self.showSymbol)\n\t\t\t{\n\t\t\t\tif(!self.currency) {\n\t\t\t\t\tui.addOn(-100, '$');\n\t\t\t\t} else {\n\t\t\t\t\tui.addOn(-100, self.currency);\n\t\t\t\t}\n\t\t\t}\t\n\n\t\t},\n\t\t_onChange: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tcaret = e.caret();\n\n\t\t\te.val(self.format(e.val())).caret(caret.begin, caret.end);\n\t\t},\n\n\t\tformat: function (money) {\n\t\t\tvar self = this; \n\t\t\tif($.trim(money) === ''){\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// MISC-916 removed extra decimals that cause NaN\n\t\t\t\tif(isNaN(money)) {\n\t\t\t\t\tmoney = money.toString();\n\t\t\t\t\tvar count = 0; \n\t\t\t\t\tfor(var i = 0; i < money.length; i++){\n\n\t\t\t\t\t\tif((money[i]) === '.'){\n\t\t\t\t\t\tcount++;}\n\t\t\t\t\t}\n\t\t\t\t\tvar dec = money.indexOf('.');\n\t\t\t\t\tif(dec !== -1) {\n\t\t\t\t\t\tmoney = money.replace(/\\./g,'');\n\t\t\t\t\t\tmoney = money.substring(0,dec) + '.' + money.substring(dec);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tmoney = parseFloat(money);\n\t\t\t\t}\n\t\t\t\treturn (+money).toFixed(2);\n\t\t\t} catch(err) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif($.trim(val) === ''){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn +this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function(ifw){\n\t\t\tvar self = this; \n\n\t\t\tif(self.max || self.min){\n\t\t\t\tvar e = ifw.element,\n\t\t\t\t\tenteredAmount = +ifw.get();\n\n\t\t\t\tif(self.max && enteredAmount > self.max){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'over'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(self.min && enteredAmount < self.min){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'under'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'phone'\n *\n * \n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.phone = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9()\\s\\-x]/\n\t\t\t});\n\n\t\t\te.on('blur', function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tformat: function (text) {\n\n\n\t\t\tif(!text){\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * find extension delimeter\n\t\t\t */\n\t\t\tvar extensionStart = 0,\n\t\t\t\txlocation = text.indexOf('x'),\n\t\t\t\tlastSpace = text.lastIndexOf(' '),\n\t\t\t\text = '',\n\t\t\t\textraExt = '';\n\n\t\t\tif(xlocation > 0){\n\t\t\t\textensionStart = xlocation;\n\t\t\t}else if(lastSpace > 7){\n\t\t\t\textensionStart = lastSpace;\n\t\t\t}\n\n\t\t\tif(extensionStart > 0){\n\t\t\t\text = text.substring(extensionStart + 1);\n\t\t\t\ttext = text.substring(0, extensionStart);\n\t\t\t}\n\n\t\t\tvar num = $.trim(text.replace(/[()\\s\\-]/g, '')),\n\t\t\t\tnumberLength = num.length;\n\n\n\t\t\tif(num[0] === '1'){\n\t\t\t\tnum = num.substring(1);\n\t\t\t\tnumberLength--;\n\t\t\t}\n\n\t\t\tif(numberLength > 10){\n\t\t\t\textraExt = num.substring(10);\n\t\t\t\tnum = num.substring(0, 10);\n\t\t\t\tnumberLength = 10;\n\t\t\t}\n\n\t\t\tif (numberLength === 7) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3);\n\t\t\t} else if (numberLength === 10) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3,6) + '-' + num.substring(6);\n\t\t\t}\n\n\t\t\text = extraExt + ext;\n\n\t\t\tnum = num.replace(/[^0-9^x^-]/g, '');\n\t\t\text = ext.replace(/[^0-9^x^-]/g, '');\n\n\t\t\tif(ext){\n\t\t\t\tnum += 'x' + ext;\n\t\t\t}\n\n\t\t\treturn num;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\t///^([0-9]{3}-)?[0-9]{3}-[0-9]{4}(x[0-9]+)?$/ simple regex\n\t\t\tif(!ui.element.val().match(/^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/)) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\t\n\n})(jQuery);","/**\n * Basic Regex data types\n * \n * Types defined:\n *  - utext\n *  - integer\n *  - number\n *  - state\n *  - feid\n *  - zip\n *  - email\n *\n * Type Creator defined:\n *  - createRegexType(pattern, filter, flags, max)\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\tvar cannedFormatters = {\n\t\ttrim: function(val) {\n\t\t\treturn $.trim(val);\n\t\t}\n\t};\n\n\t/*\n\t * helper function to build basic types\n\t */\n\tvar createRegexType = function(pattern, filter, flags, max) {\n\t\tif(flags === undefined) {\n\t\t\tflags = {};\n\t\t}\n\t\tif(flags.toUpper !== false) {\n\t\t\tflags.toUpper = true;\n\t\t}\n\n\t\tvar type = {\n\t\t\tvalidate: function(ui) {\n\t\t\t\tif(!ui.element.val().match(pattern)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(filter || max) {\n\t\t\ttype.setUp = function(ui) {\n\n\t\t\t\tvar filterData = {\n\t\t\t\t\tpattern: filter || /./,\n\t\t\t\t\ttoUpper: flags.toUpper,\n\t\t\t\t\tmax: max || 0\n\t\t\t\t};\n\n\t\t\t\tif(ui.element.attr('data-max')){\n\t\t\t\t\tfilterData.max = ui.element.attr('data-max');\n\t\t\t\t}\n\n\t\t\t\t//console.log('setup ', ui.element.attr('name'), filterData, max);\n\t\t\t\tui.element.inputFilter(filterData);\n\t\t\t};\n\t\t}\n\n\t\tif(flags.cannedFormatter !== undefined) {\n\t\t\tif($.isFunction(cannedFormatters[flags.cannedFormatter])) {\n\t\t\t\ttype.format = cannedFormatters[flags.cannedFormatter];\n\n\t\t\t\t// add converters\n\t\t\t\ttype.converter = {\n\t\t\t\t\ttoField: function (val, ui) { return type.format(val); },\n\t\t\t\t\tfromField: function (val, ui) { return type.format(val); }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t};\n\t$.add123.inputField.createRegexType = createRegexType;\n\n\n\t/*\n\t * basic types\n\t */\n\t$.extend(types, {\n\t\t'utext': createRegexType(/.*/, /.*/, {\n\t\t\ttoUpper: true\n\t\t}),\n\t\t'integer': createRegexType(/^[0-9]*$/, /[0-9]/),\n\t\t'number': createRegexType(/^-?[0-9]+\\.?[0-9]*$/, /[-0-9.]/),\n\t\t'state': createRegexType(/^[A-Z]{2}$/, /[A-Z]/, {}, 2),\n\t\t'feid': createRegexType(/^[0-9]{2}\\-?[0-9]{7}$/, /[0-9\\-]/, {}, 10),\n\t\t'zip': createRegexType(/(^\\d{5}(\\-?\\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} ?\\d{1}[A-Za]{1}\\d{1})$/, /[0-9A-Z\\s\\-]/, {}, 10),\n\t\t'email': createRegexType(/^(?!.*\\.{2})[A-Za-z0-9._%+\\-]+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,4}$/, /[A-Za-z0-9._%+\\-@]/, {\n\t\t\ttoUpper: false,\n\t\t\tcannedFormatter: 'trim'\n\t\t})\n\t});\n\t\n\n})(jQuery);","/**\n * Datatype 'select'\n * \n */\n\n(function($) {\n\t'use strict';\n\t\n\tvar doc = $(document);\n\t$.add123.inputField.types.select = {\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this, // Object = {}\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\t\t\tself.source = [];\n\t\t\tself.inputWidget = inputWidget;\n\n\t\t\tvar fieldGroup = self.fieldGroup = inputWidget.field.parents('.input-field-group');\n\n\t\t\tif(e.is('select')){\n\t\t\t\tconsole.log('** ERROR: deprecated use of <select> in the select type **');\n\t\t\t}\n\n\t\t\te.css('opacity', 0);\n\n\t\t\t/*\n\t\t\t * width(inputWidget.layers.items.width() - 26).\n\t\t\t */\n\t\t\tvar shim = self.shim = $('<div class=\"shim\" style=\"width:100%;height:100%;position:absolute;top:0;left:0;\"><div style=\"padding:0 25px 0 6px;overflow:hidden;\"><div style=\"overflow:hidden;\"></div></div></div>').insertAfter(e);\n\n\t\t\tinputWidget.field.addClass('select-box');\n\n\t\t\tself.iconClosed = $('<span class=\"tms-icon tms-icon-sort-down dropdown-closed-icon\"></span>').insertAfter(e);\n\t\t\tself.iconOpen = $('<span class=\"tms-icon tms-icon-sort-up dropdown-open-icon\"></span>').insertAfter(e).hide();\n\t\t\t/*\n\t\t\tself.iconClear = $('<span class=\"tms-icon tms-icon-erase clear-icon\"></span>').insertAfter(shim).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tself.clear();\n\t\t\t\te.change();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t*/\n\t\t\tvar panel = self.panel = $('<div class=\"dropdown-panel\"><div class=\"tms-select-dropdown-content\"><div class=\"search\" style=\"position:relative;\"/><div class=\"options\" style=\"position:relative;\"/></div></div>').hide();\n\t\t\tself.options = panel.find('.options');\n\n\t\t\tinputWidget.layers.items.append(panel).css('position', 'relative');\n\n\t\t\tvar selectionClass = self.sectionClass =  'selected';\n\n\t\t\tpanel.on('click', '.option', function () {\n\t\t\t\tself._setSelected();\n\t\t\t}).on('mouseenter', '.option', function () {\n\t\t\t\tpanel.find('.' + selectionClass).removeClass(selectionClass);\n\t\t\t\t$(this).addClass(selectionClass);\n\t\t\t}).on('mouseleave', '.option', function () {\n\t\t\t\t$(this).removeClass(selectionClass);\n\t\t\t});\n\n\t\t\tinputWidget.layers.items.on('click', function (ev) {\n\t\t\t\tif (inputWidget.states.disable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(target.childOf(panel, true)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * stop all enter and esc key events to leave the field\n\t\t\t */\n\t\t\t/*\n\t\t\tinputWidget.field.on('keydown', function (ev) {\n\n\t\t\t\tif(ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself._setSelected();\n\t\t\t\t}\n\n\n\t\t\t\tif(ev.which === 27 || ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.element.focus();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t*/\n\n\t\t\t/*\n\t\t\t * build filter input\n\t\t\t */\n\t\t\tvar filter = self.filter = $('<input type=\"text\" class=\"filter-box\" style=\"width:100%; position:relative; cursor:text;\" />').appendTo(panel.find('.search')).inputField();\n\t\t\tfilter.after('<span class=\"tms-icon tms-icon-search\" style=\"position:absolute;right: 7px;top: 1px; font-size: 15px; cursor: default; pointer-events:none;\"></span>');\n\t\t\tfilter.parents('.field-item').first().addClass('first');\n\n\t\t\tfilter.parent().css('display', 'block').parent().css('display', 'block').parent().css('display', 'block');\n\t\t\tfilter.parent().css('padding-right', '30px');\n\t\t\t/*\n\t\t\t * kill click event, to prevent the inputField from grabbing focus\n\t\t\t */\n\n\t\t\tfilter.on('click', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * down 40\n\t\t\t * up 39\n\t\t\t * left 37\n\t\t\t * right 39\n\t\t\t */\n\n\n\t\t\te.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keyup', $.proxy(self._onKeyup, self));\n\n\t\t\tfilter.on('dirty clean', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\tself.closeListener = function (ev) {\n\t\t\t\tvar which = ev.which;\n\t\t\t\t/*\n\t\t\t\tif(ev.which === 9){\n\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif(which === 27 || which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\tif(which === 13){\n\t\t\t\t\t\tself._setSelected();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!target.childOf(panel, true) && !target.childOf(fieldGroup, true)){\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.update();\n\t\t},\n\n\t\t_keyDownNavigate: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tselectionClass = self.sectionClass,\n\t\t\t\twhich = ev.which;\n\n\t\t\t/*\n\t\t\t * special handling for tab, does not perform any function (keeping for legacy)\n\t\t\t */\n\t\t\tif(which === 9){\n\t\t\t\tself.element.next('input').focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif(which === 27 || which === 13){\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar selected, next;\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 40){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:first').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.next();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 38){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:last').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.prev();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\tif(which < 32 || which > 126){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.open();\n\t\t},\n\n\t\t_onKeyup: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tfilter = self.filter,\n\t\t\t\twhich = ev.which,\n\t\t\t\tval = filter.val();\n\n\t\t\tif(self.filterValue === val){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = val;\n\n\n\t\t\tself._filterOptions();\n\t\t},\n\n\t\t_setSelected: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\t/*\n\t\t\t * use the first value if none of the options are selected\n\t\t\t */\n\t\t\tif(!selected.length){\n\t\t\t\tself._selectFirstNonEmptyOption();\n\t\t\t}\n\n\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\tvar item = self.item = selected.data('item');\n\t\t\t/*\n\t\t\t * TMS-1137\n\t\t\t * if nothing is selected, ignore this call\n\t\t\t */\n\t\t\tif(!item){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._setLabel(self.renderLabel(item));\n\n\t\t\tself.close();\n\t\t\te.val(self.item.value);\n\t\t\te.focus();\n\t\t\te.change();\n\t\t\tself.inputWidget.redraw();\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\t_selectFirstNonEmptyOption: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.find('.option:not(.filtered):visible').each(function () {\n\t\t\t\tvar option = $(this);\n\t\t\t\tif(option.html()){\n\t\t\t\t\toption.addClass('selected');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_set: function (val) {\n\t\t\tvar self = this;\n\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\n\t\t\tself.item = undefined;\n\n\t\t\tself.loaded.done(function () {\n\t\t\t\tself._removeSelection();\n\t\t\t\tvar options = self.panel.find('.option');\n\n\t\t\t\toptions.each(function () {\n\t\t\t\t\tvar item = $(this),\n\t\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\t\tif(self._equal(itemData, val)){\n\t\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\t\tself.item = itemData;\n\t\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!self.item || !self.item.value){\n\t\t\t\t\tif(self.inputWidget._trigger('itemnotfound', null, [val])){\n\t\t\t\t\t\tself._handleItemNotFound();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_removeSelection: function () {\n\t\t\tthis.panel.find('.option.selected').removeClass('selected');\n\t\t},\n\n\t\t_handleItemNotFound: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tself._setDefaultItem();\n\n\t\t\tif(!self.item || !self.item.value){\n\t\t\t\tself._selectFirstItem();\n\t\t\t}\n\t\t},\n\n\t\t_setDefaultItem: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option'),\n\t\t\t\tdefaultValue =  { value: e.attr('data-default')};\n\n\t\t\toptions.each(function () {\n\t\t\t\tvar item = $(this),\n\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\tif(self._equal(itemData, defaultValue)){\n\t\t\t\t\tif(e.attr('name') === 'params.category'){\n\t\t\t\t\t\tconsole.log('found defaultValue', defaultValue, itemData);\n\t\t\t\t\t}\n\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\tself.item = itemData;\n\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_selectFirstItem: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option');\n\n\t\t\tself.item = options.first().addClass('selected').data('item');\n\t\n\t\t\tif(self.item && self.item.label) {\n\t\t\t\tself._setLabel(self.item.label);\n\t\t\t} else {\n\t\t\t\tself._setLabel('');\n\t\t\t}\n\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\tshowHideCommand: function () {\n\t\t\tvar self = this,\n\t\t\t\tshowClass = self.item && self.item.showClass,\n\t\t\t\tsections = self.showHideSections;\n\n\t\t\tif(!sections){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.hide();\n\n\t\t\tif(!showClass){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.filter('.' + showClass).show();\n\t\t},\n\n\t\tclear: function (andSelectNothing) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.item = {};\n\t\t\tself.panel.find('.selected').removeClass('selected');\n\t\t\te.val('');\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\t\t\tself.shim.children().children().text('');\n\n\t\t\tif(!andSelectNothing) {\n\t\t\t\tself._handleItemNotFound();\n\t\t\t}\n\n\t\t\tself.inputWidget.redraw();\n\t\t},\n\n\t\t_equal: function (a, b) {\n\t\t\treturn a && b && a.value === b.value;\n\t\t},\n\n\t\t_setLabel: function (text) {\n\t\t\tthis.shim.children().children().text(text);\n\t\t},\n\n\t\t/*\n\t\t * used for testing\n\t\t */\n\t\t_getLabel: function () {\n\t\t\treturn this.shim.children().children().text();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tvar self = this;\n\t\t\tif(self.panel.is(':visible')){\n\t\t\t\tself.close();\n\t\t\t}else{\n\t\t\t\tself.open();\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * this options was built for testing\n\t\t */\n\t\tgetOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\toptionPanel = self.panel.find('.option'),\n\t\t\t\toptions = [];\n\n\t\t\toptionPanel.each(function () {\n\t\t\t\toptions.push($(this).data('item'));\n\t\t\t});\n\n\t\t\treturn options;\n\t\t},\n\n\t\t_filterOptions: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.addClass('filtering');\n\t\t\tif(self.filterTimer){\n\t\t\t\tclearTimeout(self.filterTimer);\n\t\t\t}\n\t\t\tself.filterTimer = setTimeout(function() {\n\t\t\t\tself.__filterOptionsWork();\n\t\t\t}, 200);\n\t\t},\n\n\t\t__filterOptionsWork: function (optionsElements) {\n\t\t\tvar self = this,\n\t\t\t\tval = self.filterValue;\n\t\t\t/*\n\t\t\tif(val && item.label && item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/\n\n\t\t\tself.panel.addClass('filtering');\n\n\t\t\tif(!optionsElements){\n\t\t\t\toptionsElements = self.panel.find('.option');\n\t\t\t}\n\t\t\t\n\t\t\tif(!optionsElements.length){\n\t\t\t\tself.panel.removeClass('filtering');\n\t\t\t\tself.inputWidget._trigger('filterdone');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar optionsToProcessNow = optionsElements.splice(0,1000);\n\n\t\t\t$.each(optionsToProcessNow, function (i, optionsEl) {\n\t\t\t\tself._filterItem($(optionsEl), val);\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.__filterOptionsWork(optionsElements);\n\t\t\t}, 0);\n\t\t},\n\n\t\t_filterItem: function (optionEl, val) {\n\t\t\tvar self = this,\n\t\t\t\titem = optionEl.data('item');\n\n\t\t\tif(self._itemShoudBeFiltered(item, val)){\n\t\t\t\toptionEl.addClass('filtered');\n\t\t\t}else{\t\t\t\n\t\t\t\toptionEl.removeClass('filtered');\n\t\t\t}\n\t\t},\n\n\t\t_itemShoudBeFiltered: function (item, val) {\n\t\t\tif(!val){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(!item.label){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null;\n\t\t},\n\n\t\t_clearFilter: function () {\n\t\t\tvar self = this;\n\t\t\tself.filter.val('');\n\t\t\tself.panel.find('.option.filtered').removeClass('filtered');\n\t\t},\n\n\t\t_buildEmptyOption: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\temptyLabel = e.data('emptyLabel');\n\n\t\t\tif(emptyLabel !== '' && !emptyLabel){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.source.unshift({\n\t\t\t\tlabel: emptyLabel,\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t},\n\n\t\t_buildOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\toptions = self.options;\n\n\t\t\tself.element.trigger('tmsselectbeforebuild');\n\n\t\t\toptions.empty();\n\n\t\t\tvar optionsbuffer = $('<div/>');\n\n\t\t\tif (!e.data('noSort')) {\n\t\t\t\tself._sort(self.source);\n\t\t\t}\n\n\t\t\tself._buildEmptyOption();\n\n\t\t\t$.each(self.source, function (i, item) {\n\t\t\t\t\n\t\t\t\tvar option = $('<div class=\"option\"/>'),\n\t\t\t\t\trenderedItem = self.renderItem(item);\n\n\t\t\t\tif(renderedItem !== null){\n\t\t\t\t\toption.append(renderedItem).data('item', item);\n\t\t\t\t\toptionsbuffer.append(option);\n\t\t\t\t}\n\n\t\t\t\tif(renderedItem === ''){\n\t\t\t\t\toption.height(20);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.append(optionsbuffer);\n\t\t\tself.element.trigger('tmsselectafterbuild', [options]);\n\t\t},\n\n\t\t_sort: function (items) {\n\t\t\titems.sort(function (a, b) {\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar al = a.label.toLowerCase(), bl = b.label.toLowerCase();\n\t\t\t\treturn al > bl ? 1 : al < bl ? -1 : a.label > b.label ? 1 : a.label < b.label ? -1 : 0;\n\t\t\t});\n\t\t},\n\n\t\t_scroll: function () {\n\t\t\tvar self = this,\n\t\t\t\toptions = self.options;\n\n\t\t\tif(!self.panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar selected = self.panel.find('.selected');\n\n\t\t\t\tif(selected.length === 0){\n\t\t\t\t\toptions.scrollTop(0);\n\t\t\t\t}else{\n\t\t\t\t\toptions.scrollTop(selected.position().top - selected.before().outerHeight());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}, 0);\n\n\n\t\t\t/*\n\t\t\tsetTimeout(function() {\n\t\t\t\tpanel.find('.options').scrollTop(0);\n\t\t\t}, 0);\n\t\t\t*/\n\t\t},\n\n\t\topen: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tinputLayer = self.inputWidget.layers.input,\n\t\t\t\titemsLayer = self.inputWidget.layers.items;\n\n\n\t\t\tif(panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = '';\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tvar leftOffset = 0;\n\t\t\tif(inputLayer.index()){\n\t\t\t\tleftOffset = inputLayer.position().left - 1;\n\t\t\t}\n\n\t\t\tpanel.width(e.width()).css({\n\t\t\t\tleft: leftOffset,\n\t\t\t\ttop: (itemsLayer.height() - 1) + 'px',\n\t\t\t\twidth: (e.outerWidth() ) + 'px'\n\t\t\t}).hide();\n\n\t\t\tself.iconClosed.hide();\n\t\t\tself.iconOpen.show();\n\t\t\tpanel.show();\n\t\t\tself.filter.focus();\n\t\t\t//self.filter.hide();\n\n\t\t\tself._scroll();\n\t\t},\n\n\t\trenderLabel: function (item) {\n\t\t\treturn (item && item.label) || '';\n\t\t},\n\n\t\trenderItem: function (item) {\n\t\t\treturn item.label;\n\t\t},\n\n\t\tclose: function () {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tfilter = self.filter;\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tpanel.hide();\n\n\t\t\tself._clearFilter();\n\n\t\t\tself.iconClosed.show();\n\t\t\tself.iconOpen.hide();\n\t\t},\n\n\t\tupdate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\t// Clear any selected option \n\t\t\tself.clear(true);\n\n\t\t\t// Setup the new options \n\t\t\tself.loaded = $.Deferred();\n\t\t\tself.load().done(function (source) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = [];\n\t\t\t\t}\n\t\t\t\tself.source = source;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.removeInvalid();\n\t\t\t\t}, 0);\n\n\t\t\t\tself._buildOptions();\n\n\t\t\t\t/*\n\t\t\t\t * hide the filter if less then five items are returned\n\t\t\t\t */\n\t\t\t\tif (self.filter && self.filter.data('inputField')) {\n\t\t\t\t\tif(source.length < 5){\n\t\t\t\t\t\tself.filter.inputField('hide');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.filter.inputField('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * scan for showClass commands\n\t\t\t\t */\n\t\t\t\tvar form, sections = $([]);\n\n\t\t\t\t$.each(source, function (i, item) {\n\t\t\t\t\tif(item.showClass){\n\t\t\t\t\t\tif(!form){\n\t\t\t\t\t\t\tform = e.parents(':add123-formBuilder').first();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsections = sections.add(form.find('.' + item.showClass));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.showHideSections = sections;\n\t\t\t\tself.loaded.resolve();\n\t\t\t\tself.showHideCommand();\n\t\t\t});\n\t\t\treturn self.loaded;\n\t\t},\n\n\t\tremoveInvalid: function (ev, ui) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element, \n\t\t\t\tval = e.val(),\n\t\t\t\tsource = self.source, \n\t\t\t\tl = source.length, \n\t\t\t\ti; \n\n\t\t\t/*\n\t\t\t * if ui.item is set, the autocomplete just set this\n\t\t\t * and it does not need to be checked\n\t\t\t */\n\t\t\tif(ui && ui.item){\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t/*\n\t\t\t * verify that the current self.item matches an id in the source and that the label matches\n\t\t\t */\n\t\t\tfor(i = 0; i < l; i++){\n\t\t\t\tif(source[i].label === val && self.item && self.item.value === source[i].value){\n\t\t\t\t\tself.item = source[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.val('');\n\t\t},\n\n\t\tsetOptions: function(options) {\n\t\t\tvar self = this;\n\n\t\t\tself.optionsMap = options;\n\t\t\tself.optionsSetDynamically = true;\n\t\t\tself.update();\n\t\t},\n\t\t/*\n\t\t * returns a sorted array of objects that have value and label properties\n\t\t */\n\t\tload: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tsource = [],\n\t\t\t\tdataOptions;\n\n\t\t\tif(self.optionsSetDynamically) {\n\t\t\t\t// Options already loaded from setOptions\n\t\t\t\tself.optionsSetDynamically = false;\n\t\t\t\treturn $.when(self.optionsMap);\n\t\t\t}\n\n\t\t\t// Load options from DOM\n\t\t\tdataOptions = e.attr('data-options');\n\n\t\t\tif(dataOptions) {\n\t\t\t\tsource = $.parseJSON(dataOptions);\n\t\t\t} else {\n\t\t\t\te.find('option').each(function () {\n\t\t\t\t\tvar option = $(this);\n\t\t\t\t\tsource.push({\n\t\t\t\t\t\tlabel: option.text(),\n\t\t\t\t\t\tvalue: option.val()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $.when(source); // returns a promise object\n\t\t},\n\n\t\tmap: function (raw) {\n\t\t\treturn {\n\t\t\t\tlabel: raw,\n\t\t\t\tvalue: raw\n\t\t\t};\n\t\t},\n\n\t\tdeMap: function (obj) {\n\t\t\tif(!obj){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj.value || null;\n\t\t},\n\n\t\tisEmpty: function () {\n\t\t\tvar self = this,\n\t\t\t\tdata = self.deMap(self.item);\n\n\t\t\treturn data !== 0 && !data;\n\t\t},\n\n\t\tconverter: {\n\n\t\t\tfromField: function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdata = self.item;\n\t\t\t\tif(data === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar val = self.deMap(data);\n\n\t\t\t\tif(val === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\ttoField: function (rawdata) {\n\t\t\t\tvar self = this,\n\t\t\t\t\te = self.element,\n\t\t\t\t\tdata = self.map(rawdata);\n\n\t\t\t\tif(!rawdata && typeof e.data('default') !== 'undefined') {\n\t\t\t\t\tdata = self.map(e.data('default'));\n\t\t\t\t}\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._set(data);\n\n\t\t\t\tif (!self.item) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn self.item.label;\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'text'\n *\n * This is the default type and has no special features.\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.text = {};\t\n\n})(jQuery);","/**\n * Data Type 'time'\n *\n * Has a dropdown with shortcuts.\n *\n * Attribute Settings:\n * data-step (default=30) - Minute increment between times in dropdown\n * data-military - Converts time into 24-hour\n * data-store-utc (default true) - keeps set/get in utc time zone format, rather than local.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.time = {\n\t\tattributes: ['step', 'military','storeUtc'],\n\t\tmomentStoreFormat: 'HH:mm',\n\n\t\t_regex: /^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,\n\t\t_regex2400: /^(([01]?[0-9])|(2[0-3])):[0-5][0-9]$/,\n\n\t\tsetUp: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element;\n\n\t\t\tself.military = !!e.data('military');\n\t\t\tself.step = e.data('step');\n\t\t\tself.storeUtc = e.data('storeUtc');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tif(!self.military)\n\t\t\t{\n\t\t\t\tifw.placeholder('H:MMam/pm');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:apm]/,\n\t\t\t\t\tmax: 7\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tifw.placeholder('HH:MM');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:]/,\n\t\t\t\t\tmax: 5\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\n\t\t\te.timepicker({\n\t\t\t\tappendTo: ifw.getField(),\n\t\t\t\tselectOnBlur: false,\n\t\t\t\tstep: self.step, //default is 30 and will be set if undefined\n\t\t\t\ttimeFormat: self.military?'H:i':'g:ia'\n\t\t\t});\n\n\t\t\t// Make sure the timepicker width matches the field width\n\t\t\te.on('showTimepicker', function(){\n\t\t\t\tvar newWidth = e.outerWidth();\n\t\t\t\tif(newWidth < 80) {\n\t\t\t\t\tnewWidth = 80;\n\t\t\t\t}\n\t\t\t\tifw.getField().children('.ui-timepicker-wrapper').width(newWidth);\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * convert from moment format HH:mm (utc) to h:mma (local)\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}:[0-9]{2}$/)){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\ttime = moment.utc(val, self.momentStoreFormat, true);\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert utc back to local for display\n\t\t\t\t\ttime.local();\n\t\t\t\t}\n\n\t\t\t\treturn time.format(self.military? 'H:mm' : 'h:mma');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * convert from moment format h:mma (local) to HH:mm (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\t\t\t\t\n\t\t\t\tif(!val || !val.match(self.military? self._regex2400 : self._regex)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\n\t\t\t\ttime = moment(val, self.military? 'H:mm' : 'h:mma');\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert to utc for storage\n\t\t\t\t\ttime.utc();\n\t\t\t\t}\n\n\t\t\t\t// Return in 24hr format\n\t\t\t\treturn time.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tifw.element.timepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tinvalidMessage = {message: 'invalid'},\n\t\t\t\tvalid;\n\n\t\t\tvalid = self.military? val.match(self._regex2400) : val.match(self._regex);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn invalidMessage;\n\t\t\t}\n\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data Type 'tmsQuantityUnit'\n * \n * For general unit input with some autocompletes\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\tvar units = ['MI', 'KM', 'HR', 'MIN', 'DAYS', 'PKGS'];\n\ttypes.tmsQuantityUnit = {\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\to = ui.options,\n\t\t\t\te = ui.element;\n\n\t\t\tself.e = e;\n\n\t\t\te.inputFilter({\n\t\t\t\ttoUpper: true,\n\t\t\t\tpattern: /./\n\t\t\t});\n\n\t\t\te.autocomplete({\n\t\t\t\tminLength: 0,\n\t\t\t\tautoFocus: false,\n\t\t\t\tappendTo: ui.getField(),\n\t\t\t\tposition: {\n\t\t\t\t\tmy: \"left top+6\", // may be theme dependent\n\t\t\t\t\tat: \"left bottom\",\n\t\t\t\t\tof: e,\n\t\t\t\t\tcollision: \"none\"\n\t\t\t\t},\n\n\t\t\t\tsource: units\n\t\t\t});\n\t\t}\n\t};\n\t\n})(jQuery);\n","/**\n * Data Type 'dateTime'\n * \n * A combination of two InputFields, date & time.\n *\n * The original inputfield is hidden between them.\n *\n * Format: 'YYYY-MM-DDTHH:mm:ssZ' in UTC\n *\n * Attribute Settings:\n * data-time-width-ratio (default=0.5, min=.2, max=.8) \n * data-store-utc (default true) keeps set/get in utc time zone format, rather than local.\n *\n * CSS Settings:\n * min-width (default=270px, min=100px)\n *\n * Attributes specific for date or time will be passed to them.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.add123.inputField.types;\n\n\ttypes.dateTime = {\n\t\tmomentStoreFormat: 'YYYY-MM-DDTHH:mm:ss[Z]',\n\n\n\t\tsetUp: function(inputFieldWidgetInstance) {\n\t\t\tvar self = this,\n\t\t\t\te = inputFieldWidgetInstance.element;\n\n\n\t\t\t// Get option constants\n\t\t\tself.storeUtc = e.data('storeUtc');\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tself.ifw = inputFieldWidgetInstance;\n\n\t\t\tself._setUpFields();\n\t\t\tself._refreshFieldWidth();\n\t\t\tself._setUpCleanDirtyEvents();\n\n\t\t\tself.ifw.element.on('resize', function(ev){\n\t\t\t\tself._refreshFieldWidth();\n\t\t\t});\n\t\t},\n\n\t\t_setUpFields: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.ifw.element,\n\t\t\t\tfieldItems = self.ifw.element.parent().parent(),\n\t\t\t\toptions, tmp, i;\n\n\t\t\tself.ifw.element.parent().hide();\n\n\t\t\t// Create the elements\n\t\t\tself.dateWidget = $('<input type=\"text\" data-type=\"date\"/>');\n\t\t\tself.timeWidget = $('<input type=\"text\" data-type=\"time\"/>');\n\n\t\t\t// Pass date attributes\n\t\t\tfor(i = 0; i < types.date.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.date.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.dateWidget.data(types.date.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Pass time attributes\n\t\t\tfor(i = 0; i < types.time.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.time.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.timeWidget.data(types.time.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\trequire: true\n\t\t\t};\n\n\t\t\t// Create the widgets\n\t\t\tself.dateWidget.prependTo(fieldItems).inputField(options);\n\t\t\tself.timeWidget.appendTo(fieldItems).inputField(options);\n\n\t\t\tself.dateWidget.parent().addClass('first');\n\n\t\t\tself.timeWidgetInstance = self.timeWidget.data('add123InputField');\n\t\t\tself.dateWidgetInstance = self.dateWidget.data('add123InputField');\n\t\t},\n\n\t\t/**\n\t\t * Make sure the child widgets' total width is equal to the base element's width\n\t\t */\n\t\t_refreshFieldWidth: function() {\n\t\t\tvar self = this,\n\t\t\t\tfullWidth = self.ifw.element.width(),\n\t\t\t\telDate = self.dateWidget,\n\t\t\t\telTime = self.timeWidget,\n\t\t\t\ttimeWidthRatio,\n\t\t\t\tminWidth;\n\t\t\t\t\t\n\t\t\t\t// Take out widghet margins/padding from outer width\n\t\t\t\tfullWidth -= elDate.outerWidth(true) - elDate.width();\n\t\t\t\tfullWidth -= elTime.outerWidth(true) - elTime.width();\n\t\t\t\t\n\t\t\t\t// Prevent it from being too small\n\t\t\t\tminWidth = self.ifw.element.css('min-width');\n\t\t\t\tif(minWidth !== null) {\n\t\t\t\t\tminWidth = parseInt(minWidth, 10);\n\t\t\t\t}\n\t\t\t\tif(isNaN(minWidth) || minWidth < 100) {\n\t\t\t\t\tminWidth = 270; //default\n\t\t\t\t}\n\n\t\t\t\tif(fullWidth < minWidth) {\n\t\t\t\t\tfullWidth = minWidth;\n\t\t\t\t}\n\n\t\t\t\t// Set time width at ratio and give the rest to date\n\t\t\t\ttimeWidthRatio = self.ifw.element.data('timeWidthRatio');\n\t\t\t\tif(isNaN(timeWidthRatio) || timeWidthRatio < 0.2 || 0.8 < timeWidthRatio) {\n\t\t\t\t\ttimeWidthRatio = 0.5; //default\n\t\t\t\t}\n\n\t\t\t\telTime.width(fullWidth * timeWidthRatio);\n\t\t\t\telDate.width(fullWidth - elTime.width());\n\t\t},\n\n\t\t_setUpCleanDirtyEvents: function() {\n\t\t\tvar self = this;\t\n\n\t\t\tself.dateWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\n\t\t\tself.timeWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * No need to worry about utc/local. Handled in type time.\n\t\t\t * All retrived/set times should be in utc\n\t\t\t *\n\t\t\t * Seconds are included in the formatting but are ignored and \n\t\t\t * always set to 00\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tsplitDate = self._splitDateAndTime(val);\n\n\t\t\t\tself.timeWidgetInstance.set(splitDate.time);\n\t\t\t\tself.dateWidgetInstance.set(splitDate.date);\n\t\t\t}, \n\t\t\t\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tlocalDate = self.dateWidgetInstance.get(),\n\t\t\t\t\ttime = self.timeWidgetInstance.get(),\n\t\t\t\t\tdateTime;\n\n\t\t\t\t// If one is empty just return nothing\n\t\t\t\tif(!localDate.trim() || !time.trim()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\t// Convert them to moments\n\t\t\t\tlocalDate = moment(localDate, types.date.momentStoreFormat);\n\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Parse as UTC and localize\n\t\t\t\t\ttime = moment.utc(time, types.time.momentStoreFormat).local();\n\t\t\t\t} else {\n\t\t\t\t\t// Parse as local\n\t\t\t\t\ttime = moment(time, types.time.momentStoreFormat);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t// Account for DST shifts \n\t\t\t\tif(localDate.isDST() && !time.isDST()) {\n\t\t\t\t\ttime.add(1,'h');\n\t\t\t\t} else if(!localDate.isDST() && time.isDST()) {\n\t\t\t\t\ttime.subtract(1,'h');\n\t\t\t\t}\n\n\t\t\t\t// Combine them\n\t\t\t\tdateTime = self._joinDateAndTimeMoments(localDate,time);\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\tdateTime.utc();\n\t\t\t\t}\n\n\t\t\t\tif(!dateTime.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn dateTime.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\t_splitDateAndTime: function (dateTimeString) {\n\t\t\tvar self = this,\n\t\t\t\tdateTime,\n\t\t\t\tresult = {};\n\t\t\t\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// Parse as UTC\n\t\t\t\tdateTime = moment.utc(dateTimeString, self.momentStoreFormat);\n\t\t\t} else {\n\t\t\t\t// Parse as local\n\t\t\t\tdateTime = moment(dateTimeString, self.momentStoreFormat);\n\t\t\t}\n\n\t\t\tif(!dateTime.isValid()){\n\t\t\t\treturn {\n\t\t\t\t\tdate: '',\n\t\t\t\t\ttime: ''\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tresult.time = dateTime.format(types.time.momentStoreFormat);\n\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// need local for date type\n\t\t\t\tdateTime.local();\n\t\t\t}\n\n\t\t\tresult.date = dateTime.format(types.date.momentStoreFormat);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t_joinDateAndTimeMoments: function(localDateMoment, localTimeMoment) {\n\t\t\treturn moment().utcOffset(localTimeMoment.utcOffset())\n\t\t\t\t.second(localTimeMoment.second())\n\t\t\t\t.minute(localTimeMoment.minute())\n\t\t\t\t.hour(localTimeMoment.hour())\n\n\t\t\t\t.date(localDateMoment.date())\n\t\t\t\t.month(localDateMoment.month())\n\t\t\t\t.year(localDateMoment.year());\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\tvalid = true,\n\t\t\t\tskipRequired = !self.ifw.hasStatus('require');\n\n\t\t\t// Do not skip require check when only one is empty\n\t\t\tif(skipRequired){\n\t\t\t\tskipRequired = !self.dateWidgetInstance.isEmpty();\n\t\t\t\tskipRequired = skipRequired && !self.timeWidgetInstance.isEmpty();\n\t\t\t}\n\n\t\t\tvalid = valid && self.dateWidgetInstance.validate(skipRequired);\n\t\t\tvalid = valid && self.timeWidgetInstance.validate(skipRequired);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'invalid'\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t// will not validate if empty\n\t\tisEmpty: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn ($.trim(self.dateWidget.val()) + $.trim(self.timeWidget.val())) === '';\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tvar self = this;\n\n\t\t\tself.dateWidget.inputField('getField').remove();\n\t\t\tself.timeWidget.inputField('getField').remove();\n\n\t\t\tself.dateWidget = undefined;\n\t\t\tself.timeWidget = undefined;\n\n\t\t\tifw.element.parent().show();\n\t\t}\n\n\t};\n\n})(jQuery);","/**\n * Data type 'tmsPhone', an extension of phone\n *\n * It adds a secondary addon to the right to specify number type.\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsPhone = $.extend({}, types.phone, {\n\t\t_phoneTypeTemplate:\n\t\t\t\t'<div class=\"phone-type-form\">' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"mobile\"><span class=\"tms-icon tms-icon-iphone\"></span> '+'mobile'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"home\"><span class=\"tms-icon tms-icon-home\"></span> '+'home'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"work\"><span class=\"tms-icon tms-icon-office\"></span> '+'work'+'</div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"fax\"><span class=\"tms-icon tms-icon-print\"></span> '+'fax'+'</div>' +\n\t\t\t\t'</div>',\n\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\n\t\t\ttypes.phone.setUp.call(self, inputWidget);\n\n\t\t\t/*\n\t\t\t * add icon\n\t\t\t */\n\n\t\t\tself.desc = $('<span></span>');\n\t\t\tself.setType();\n\t\t\tself.icon = inputWidget.addOn(1, '').addClass('clickable').append(self.desc).width(75).css('textAlign', 'left');\n\n\t\t\tself.icon.on('click', function() {\n\t\t\t\t/*\n\t\t\t\t * build the menu lazily, so that popovers are not created when now needed and the field has time to attach\n\t\t\t\t * to the form so that the popover appendto can be set\n\t\t\t\t */\n\t\t\t\tself._setupMenu(inputWidget);\n\t\t\t\tself.toggleMenu();\n\t\t\t});\n\n\t\t\t//updateTmsPhone.call(self);\n\t\t\t//o._layers.suggest.html('(NNN) NNN-NNNN');\n\t\t},\n\n\t\ttoggleMenu: function () {\n\t\t\tvar self = this;\n\t\t\tself.menu.find('.focused').removeClass('focused').end().find('[data-code=\"' + self.type + '\"]').addClass('focused').end().popOver('toggle');\n\t\t},\n\n\t\t_setupMenu: function (inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tappendToParent, appendTo;\n\n\t\t\tif(self.menuBuilt){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.menu = $(self._phoneTypeTemplate).popOver({\n\t\t\t\ttarget: self.icon,\n\t\t\t\tappendTo: inputWidget.getField()\n\t\t\t}).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t}).on('click', '.phone-type', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tvar control = $(this);\n\t\t\t\tself.setType(control.attr('data-code'));\n\t\t\t\tself.menu.popOver('hide');\n\t\t\t});\n\n\t\t\tself.menuBuilt = true;\n\t\t},\n\n\t\tsetType: function (type) {\n\t\t\tvar self = this;\n\n\t\t\tif(!type){\n\t\t\t\ttype = 'home';\n\t\t\t}\n\n\t\t\tvar icon = '';\n\n\t\t\tif(type === 'work'){\n\t\t\t\ticon = 'office';\n\t\t\t} else if(type === 'mobile'){\n\t\t\t\ticon = 'iphone';\n\t\t\t} else if(type === 'fax'){\n\t\t\t\ticon = 'print';\n\t\t\t} else {\n\t\t\t\ticon = type = 'home';\n\t\t\t}\n\n\t\t\tself.desc.html('<span class=\"tms-icon tms-icon-' + icon + '\" style=\"margin-right:0.25em;\"></span> ' + type);\n\t\t\tself.type = type;\n\t\t},\n\n\t\tconverter: {\n\t\t\tfromField: function(number, inputWidget) {\n\t\t\t\tvar self = this;\n\t\t\t\tnumber = types.phone.converter.fromField.call(self, number, inputWidget);\n\t\t\t\t// Number is the value being entered\n\n\t\t\t\tconsole.log(this);\n\n\t\t\t\t// Returns null if the value entered is not a number \n\t\t\t\tif(number !== 0 && !number){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\ttype: self.type,\n\t\t\t\t\tnumber: number\n\t\t\t\t};\n\n\t\t\t\tif(self.id){\n\t\t\t\t\tconsole.log(self.id);\n\t\t\t\t\tdata.id = self.id;\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t},\n\t\t\ttoField: function(data, inputWidget) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(data){\n\t\t\t\t\tself.setType(data.type);\n\t\t\t\t\tself.id = data.id;\n\t\t\t\t\tdata = types.phone.converter.toField.call(self, data.number, inputWidget);\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function(inputWidget) {\n\t\t\tinputWidget.element.off('.tmsPhone');\n\t\t\t$.Widget.prototype.destroy.call(this);\n\t\t}\n\t});\n\t\n})(jQuery);\n","/**\n * Functions to quickly make extensions of the select type\n * \n * arraySelectCreator(array)\n * booleanSelectCreator(trueString, falseString)\n * \n */\n\n/* global util:true */\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\t$.add123.inputField.arraySelectCreator = function (array) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {};\n\t\t\t\td.label = s;\n\t\t\t\td.value = s;\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map(array, $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.add123.inputField.booleanSelectCreator = function (trueString, falseString) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {},\n\t\t\t\t\tval = falseString;\n\n\t\t\t\tif(s === true){\n\t\t\t\t\tval = trueString;\n\t\t\t\t}\n\n\t\t\t\td.label = val;\n\t\t\t\td.value = !!s;\n\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tdeMap: function (d) {\n\t\t\t\tif($.isEmptyObject(d)){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn d.value;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map([true, false], $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Examples from tms\n\tvar date = new Date();\n\tvar years = [];\n\tfor (var i = 0; i <= 10; i++) {\n\t\tyears.push((date.getFullYear() + i).toString());\n\t}\n\t\n\ttypes.tmsExpYear = $.add123.inputField.arraySelectCreator(years);\n\ttypes.tmsYesNo = $.add123.inputField.booleanSelectCreator(util.lang.dict.yes, util.lang.dict.no);\n\t\n})(jQuery);\n","/**\n * Data Type 'tmsFullname', an extension of utext\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.add123.inputField.types;\n\n\ttypes.tmsFullname = $.extend({}, types.utext, {\n\t\tvalidate: function (ui) {\n\t\t\tvar value = ui.element.val();\n\n\t\t\tvalue = value.trim().replace(/\\s{2,}/g, ' '); // Replace outside whitespace with two or more whitespaces?\n\n\t\t\tif (value.split(' ').length < 2) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'first and last name'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(isNaN(value)) {\n\t\t\t\tvalue = value.toString();\n\t\t\t\tvar count = 0; \n\t\t\t\tvar countH = 0; \n\t\t\t\tvar countA = 0; \n\t\t\t\tfor(var i = 0; i < value.length; i++){\n\n\t\t\t\t\tif((value[i]) === ','){\n\t\t\t\t\tcount++;}\n\t\t\t\t\tif((value[i]) === '-'){\n\t\t\t\t\tcountH++;}\n\t\t\t\t\tif((value[i]) === '\\''){\n\t\t\t\t\tcountA++;}\n\t\t\t\t\tif(value[i].match(/^[!@#\\$%\\^&*()_+={}\\[\\]\\\\\\/|;:\"\\?<>\\.~`]?$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'illegal symbol'\n\t\t\t\t\t};}\n\t\t\t\t\tif(value[i].match(/^[0-9]$/)){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'no numbers'\n\t\t\t\t\t};}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(count > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one comma allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countH > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one hyphen allowed'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(countA > 3){\n\t\t\t\t\treturn {\n\t\t\t\t\tmessage: 'one apostrophe per name'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n"],"sourceRoot":"/source/"}