{"version":3,"sources":["english.en.js","spanish.es.js","spin.js","util.js","caret.js","arrayField.js","dateRangePicker.js","dateTimeRangePicker.js","dropDownPanel.js","formBuilder.js","inputField.js","inputFilter.js","popOver.js","submitButton.js","textSubmitter.js","tier0/date.js","tier0/display.js","tier0/money.js","tier0/phone.js","tier0/regexTypes.js","tier0/select.js","tier0/text.js","tier0/time.js","tier0/tmsQuantityUnit.js","tier1/dateTime.js","tier1/phone.tmsPhone.js","tier1/select-generators.js","tier1/utext.tmsFullname.js"],"names":["$","code","acceptedCodes","formBuilder","lang","locales","browserCode","navigator","language","userLanguage","browserLanguage","systemLanguage","dashIndex","indexOf","slice","undefined","extend","remove","from","to","custom","day","week","month","year","required","defaultSendInstruction","invalid","over","under","MI","KM","HR","MIN","DAYS","PKG","mobile","home","work","fax","yes","no","dict","jQuery","fn","datepicker","dates","days","daysShort","daysMin","months","monthsShort","today","clear","rtl","widget","options","lines","length","width","radius","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","top","left","_spinner","_create","self","this","Spinner","_init","start","spin","element","stop","_destroy","window","console","log","dir","timeStamp","time","timeEnd","Object","create","o","F","prototype","util","en","selectPath","namespace","domKey","i","a","toString","split","key","match","parseInt","isArray","insertPath","obj","type","origRef","types","k","v","push","deletePath","childOf","b","includeSelf","p","parents","isEmpty","equals","hasOwnProperty","removeEqual","ignoreDiffKeys","removeTmp","inArray","caret","begin","end","range","input","is","l","val","setSelectionRange","selectionStart","selectionEnd","document","selection","createRange","duplicate","moveStart","text","focus","value","scrollLeft","err","createTextRange","collapse","moveEnd","select","arrayFieldId","nextArrayFieldId","_arrayFieldTemplate","_arrayFieldItemTemplate","remoasdase","e","subField","html","id","attr","find","items","itemsContent","on","ev","preventDefault","stopPropagation","_handleAddButtonClick","first","_onDirty","_trigger","sortable","axis","handle","containment","tolerance","_checkDirty","dirty","target","_onClean","getId","addItem","curData","data","newData","get","trigger","isDirty","getFieldInstances","fields","children","each","subWidget","validate","valid","inputField","clearDirty","set","flash","content","_empty","item","append","drawItem","index","itemEl","eq","before","itemView","_drawWidgetItem","_drawInternalMarkupItem","field","subFieldMarkup","parent","addClass","css","empty","_dateRangePickerTemplate","form","fromDate","toDate","button","_moveRange","setRange","number","unit","deserialize","add","moment","subtract","_setFromAndTo","startOf","endOf","serialize","momentDate","format","sDate","_dateTimeRangePickerTemplate","fromTypeInstance","toTypeInstance","dateWidgetInstance","deserializeDate","serializeDate","timeWidgetInstance","hours","minutes","utc","stringDate","doc","dropDownPanelCount","offset","focusTarget","targetInput","hideFields","wrapper","panel","hide","appendTo","isOpen","Array","fieldName","closeListener","which","setTimeout","close","openListener","open","attach","getClassNames","isOpened","detach","instanceClasses","removeClass","off","newTarget","newFocusTarget","closest","insertAfter","inputItem","wrapperOffset","targetOffset","outerHeight","outerWidth","maxWidth","overflow","show","converter","fromForm","toForm","ignoreHidden","baseData","defaultRequired","fieldsWidgets","scanForNewFields","el","Error","has","label","wrap","not","newInput","require","_proxyCommandToWidget","widgetElement","widgetName","instance","method","splice","call","arguments","args","apply","flashDirty","numberOfTimes","flashError","filter","error","disable","enable","formData","_readDataFromDom","isFunction","conflicts","ignoreKeys","_convertFormData","aData","bData","fieldElement","conflict","concat","setOptions","_writeDataToDom","values","getFields","repeat","delay","count","idx","statusNames","loadDomData","aKey","placeholder","min","max","tooltip","tooltipContent","next","layers","setLabel","trim","removeAttr","parentContainer","preinput","addOn","postinput","suffix","setSuffix","prefix","setPrefix","addon","popOver","onShow","onHide","one","autoValidate","states","updateStatus","status","blur","_onBlur","change","_onKeyup","suffixShim","_onKeydown","mouseenter","mouseleave","setType","prevValue","setMax","prependTo","t","inputFilter","toUpper","pattern","_showLayer","checkDirty","redraw","cleanCheckTimer","clearTimeout","prev","isEmptyObject","weight","pre","found","hasClass","eWeight","insertBefore","s","vOld","vNew","autoClean","hasStatus","_formatToField","f","_clean","_formatFromField","skipRequired","setError","message","clearError","flashTimer","toField","fromField","hasVal","showError","showNotice","showPlaceholder","paddingLeft","startPaddingLeft","startInputWidth","prefixPaddingAdded","replace","isNaN","paddingRight","startPaddingRight","suffixPaddingAdded","valWidth","layer","ph","parseFloat","sType","tearDown","setUp","getType","displayValue","getField","isDisabled","statusName","bool","fireEvents","cleanBool","height","extraFilter","currentValue","inText","memory","nativeChange","proxy","_onKeyDown","_onKeyPress","_onPaste","setPattern","regex","ctrlKey","_type","String","fromCharCode","c","tmp","keytypedEvent","keyignoredEvent","toUpperCase","activeElement","substring","win","showing","clone","title","onClick","delegateTarget","onResize","position","setAppendTo","titleElement","toggle","fadeIn","my","at","collision","of","disabled","waiting","enterKeyListenerProvider","onKeyDown","keyCode","submit","_showLoading","h","getButtonLabel","spinner","_hideLoading","destroyed","bOptions","icons","listenerProvider","listener","_textSubmitterTemplate","sendInstruction","rows","ignoreEmptySubmit","container","textEntry","statusUpdate","shiftKey","_submit","onComplete","success","setInstruction","date","attributes","momentStoreFormat","_dateFormat","ui","enforceMin","enforceMax","storeUtc","minYear","Date","getFullYear","maxYear","startDate","endDate","datePickerOptions","autoclose","forceParse","todayBtn","todayHighlight","isValid","isBefore","display","money","currency","showSymbol","_onChange","dec","toFixed","ifw","enteredAmount","phone","extensionStart","xlocation","lastSpace","lastIndexOf","ext","extraExt","num","numberLength","cannedFormatters","createRegexType","flags","filterData","cannedFormatter","utext","integer","state","feid","zip","email","inputWidget","source","fieldGroup","shim","iconClosed","iconOpen","selectionClass","sectionClass","_setSelected","after","_keyDownNavigate","update","selected","_scroll","filterValue","_filterOptions","_selectFirstNonEmptyOption","_setLabel","renderLabel","showHideCommand","_removeSelection","option","_set","loaded","done","itemData","_equal","_handleItemNotFound","_setDefaultItem","_selectFirstItem","defaultValue","showClass","sections","showHideSections","andSelectNothing","shimWidthSet","eWidth","_getLabel","getOptions","optionPanel","filterTimer","__filterOptionsWork","optionsElements","margin","optionsToProcessNow","optionsEl","_filterItem","optionEl","_itemShoudBeFiltered","RegExp","autocomplete","escapeRegex","_clearFilter","_buildEmptyOption","emptyLabel","unshift","_buildOptions","optionsbuffer","_sort","renderedItem","renderItem","sort","al","toLowerCase","bl","scrollTop","inputLayer","itemsLayer","leftOffset","Deferred","load","removeInvalid","resolve","optionsMap","optionsSetDynamically","dataOptions","when","parseJSON","map","raw","deMap","rawdata","_regex","_regex2400","military","step","timepicker","selectOnBlur","timeFormat","newWidth","local","milliseconds","invalidMessage","units","PKGS","tmsQuantityUnit","minLength","autoFocus","dateTime","inputFieldWidgetInstance","_setUpFields","_refreshFieldWidth","_setUpCleanDirtyEvents","fieldItems","dateWidget","timeWidget","timeWidthRatio","minWidth","fullWidth","elDate","elTime","splitDate","_splitDateAndTime","localDate","_joinDateAndTimeMoments","dateTimeString","result","localDateMoment","localTimeMoment","utcOffset","second","minute","hour","tmsPhone","_phoneTypeTemplate","desc","menu","icon","textAlign","_setupMenu","toggleMenu","menuBuilt","control","destroy","Widget","arraySelectCreator","array","d","booleanSelectCreator","trueString","falseString","years","tmsExpYear","tmsYesNo","tmsFullname","countH","countA"],"mappings":"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","file":"jquery.formBuilder.min.js","sourcesContent":["/**\n * Localization support\n *\n * Language: English\n * Code: 'en'\n *\n * This is included by default, and is the default language.\n *\n *\n * ======== Localization Notes ========\n * \n * Unless $.formBuilder.lang.code is already defined, this will\n * attempt to match the browser's code with one in the acceptedCodes[].\n * If matched, it will define it as the formBuilder language code. \n *\n * Browser codes take the form 'langCode-countryCode'. When creating your own\n * codes you may choose to use to ignore the country code. This script has an\n * example of how to do that at the bottom.\n * \n * Possible browser lang codes: http://www.loc.gov/standards/iso639-2/php/code_list.php\n * Possible browser country codes: https://www.iso.org/obp/ui/#search\n */\n\n(function($) {\n\t'use strict';\n\n\t// Code used by formBuilder to select the language\n\tvar code = 'en';\n\n\t// Accepted language codes from the browser \n\tvar acceptedCodes = [\n\t\t'en',\n\t\t'eng'\n\t];\n\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(typeof($.formBuilder) === 'undefined') {\n\t\t$.formBuilder = {};\n\t}\n\n\tvar lang = $.formBuilder.lang;\n\n\tif(!lang) {\n\t\tlang = $.formBuilder.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t// Check for accepted code\n\tif(typeof(lang.code) === 'undefined') {\n\t\tvar browserCode; // like 'en-US'\n\n\t\t// Chrome, Firefox, Opera, Safari, IE 11+ (desktop only)\n\t\tbrowserCode = navigator.language;\n\t\t\n\t\t// Other IE support\n\t\tif(!browserCode) { browserCode = navigator.userLanguage; }\n\t\tif(!browserCode) { browserCode = navigator.browserLanguage; }\n\t\tif(!browserCode) { browserCode = navigator.systemLanguage; }\n\n\t\tif(browserCode) {\n\t\t\t// Extract language code (optional)\n\t\t\tvar dashIndex = browserCode.indexOf('-');\n\t\t\tbrowserCode = browserCode.slice(0, (dashIndex > 0)? dashIndex : undefined);\n\n\t\t\tif(acceptedCodes.indexOf(browserCode) !== -1) {\n\t\t\t\tlang.code = code;\n\t\t\t}\n\n\t\t}\n\t}\n\t\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t/**\n\t\t * Widgets\n\t\t */\n\t\t\n\t\t// arrayField\n\t\tremove: 'Remove',\n\t\t\n\n\t\t// dateRangePicker\n\t\tfrom :'From',\n\t\tto : 'To',\n\t\tcustom :'Custom',\n\t\tday : 'Day',\n\t\tweek:'Week',\n\t\tmonth :'Month',\n\t\tyear :'Year',\n\n\t\t// inputField\n\t\trequired: 'required',\n\n\t\t// textSubmitter\n\t\tdefaultSendInstruction: 'press enter to submit',\n\n\n\t\t/**\n\t\t * Types\n\t\t */\n\t\t\n\t\tinvalid: 'invalid',\n\n\t\t// money\n\t\tover: 'over',\n\t\tunder: 'under',\n\n\t\t// tmsQuantityUnit\n\t\tMI: 'MI',\n\t\tKM: 'KM',\n\t\tHR: 'HR',\n\t\tMIN: 'MIN',\n\t\tDAYS: 'DAYS',\n\t\tPKG: 'PKG',\n\n\t\t// tmsPhone\n\t\tmobile: 'Mobile',\n\t\thome: 'Home',\n\t\twork: 'Work',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'Yes',\n\t\tno: 'No'\n\n\t\t// tmsFullName TODO\n\t\t\n\t});\n\n\tvar dict = $.formBuilder.lang.dict;\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker (default english included)\n\t\n\n\n\t\n\n})(jQuery);","/**\n * Localization support\n *\n * Language: Spanish\n * Code: 'es'\n *\n * This is included by default\n */\n\n(function($) {\n\t'use strict';\n\n\t// Code used by formBuilder to select the language\n\tvar code = 'es';\n\n\t// Accepted language codes from the browser \n\tvar acceptedCodes = [\n\t\t'es',\n\t\t'spa'\n\t];\n\n\t/**\n\t * Make sure language structure is setup\n\t */\n\tif(typeof($.formBuilder) === 'undefined') {\n\t\t$.formBuilder = {};\n\t}\n\n\tvar lang = $.formBuilder.lang;\n\n\tif(!lang) {\n\t\tlang = $.formBuilder.lang = {};\n\t}\n\tif(!lang.locales) {\n\t\tlang.locales = {};\n\t}\n\tif(!lang.locales[code]) {\n\t\tlang.locales[code] = {};\n\t}\n\n\t// Check for accepted code\n\tif(typeof(lang.code) === 'undefined') {\n\t\tvar browserCode; // like 'en-US'\n\n\t\t// Chrome, Firefox, Opera, Safari, IE 11+ (desktop only)\n\t\tbrowserCode = navigator.language;\n\t\t\n\t\t// Other IE support\n\t\tif(!browserCode) { browserCode = navigator.userLanguage; }\n\t\tif(!browserCode) { browserCode = navigator.browserLanguage; }\n\t\tif(!browserCode) { browserCode = navigator.systemLanguage; }\n\n\t\tif(browserCode) {\n\t\t\t// Extract language code (optional)\n\t\t\tvar dashIndex = browserCode.indexOf('-');\n\t\t\tbrowserCode = browserCode.slice(0, (dashIndex > 0)? dashIndex : undefined);\n\n\t\t\tif(acceptedCodes.indexOf(browserCode) !== -1) {\n\t\t\t\tlang.code = code;\n\t\t\t}\n\n\t\t}\n\t}\n\n\t/**\n\t * Define formBuilder language\n\t */\n\t$.extend(true, lang.locales[code], {\n\t\t// arrayField\n\t\tremove: 'Quitar',\n\n\t\t// textSubmitter TODO\n\t\t\n\t\t// tmsPhone\n\t\tmobile: 'Mvil',\n\t\thome: 'Casa',\n\t\twork: 'Trabajo',\n\t\tfax: 'Fax',\n\n\t\t// booleanSelectCreator\n\t\tyes: 'S',\n\t\tno: 'No'\n\t});\n\n\n\t/**\n\t * Extension language support\n\t */\n\t// Datepicker\n\t$.fn.datepicker.dates[code] = {\n\t\tdays: ['Domingo', 'Lunes', 'Martes', 'Mi&eacute;rcoles', 'Jueves', 'Viernes', 'S&aacute;bado'],\n\t\tdaysShort: ['Dom', 'Lun', 'Mar', 'Mi&eacute;', 'Juv', 'Vie', 'S&aacute;b'],\n\t\tdaysMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'S&aacute;'],\n\t\tmonths: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n\t\tmonthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\n\t\ttoday: \"Hoy\",\n\t\tclear: \"Borre\",\n\t\trtl: false\n\t};\n\t\n\n})(jQuery);","/**\n * jQuery UI Widget support for spin.js\n *\n * http://fgnass.github.com/spin.js/\n */\n\n/*global Spinner:true */\n(function($){\n\t'use strict';\n\n\t$.widget('formBuilder.spin', {\n\n\t\toptions: {\n\t\t\tlines: 10,\n\t\t\t// The number of lines to draw\n\t\t\tlength: 4,\n\t\t\t// The length of each line\n\t\t\twidth: 2,\n\t\t\t// The line thickness\n\t\t\tradius: 3,\n\t\t\t// The radius of the inner circle\n\t\t\trotate: 0,\n\t\t\t// The rotation offset\n\t\t\tcolor: '#000',\n\t\t\t// #rgb or #rrggbb\n\t\t\tspeed: 1.5,\n\t\t\t// Rounds per second\n\t\t\ttrail: 60,\n\t\t\t// Afterglow percentage\n\t\t\tshadow: false,\n\t\t\t// Whether to render a shadow\n\t\t\thwaccel: false,\n\t\t\t// Whether to use hardware acceleration\n\t\t\tclassName: 'spinner',\n\t\t\t// The CSS class to assign to the spinner\n\t\t\tzIndex: 0,\n\t\t\t// The z-index (defaults to 2000000000)\n\t\t\ttop: '0',\n\t\t\t// Top position relative to parent in px\n\t\t\tleft: '0' // Left position relative to parent in px\n\t\t},\n\n\t\t_spinner: undefined,\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tself._spinner = new Spinner(self.options);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tthis.start();\n\t\t},\n\n\t\tstart: function() {\n\t\t\tthis._spinner.spin(this.element[0]);\n\t\t},\n\n\t\tstop: function() {\n\t\t\tthis._spinner.stop();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.stop();\n\t\t\tdelete self._spinner;\n\t\t}\n\t});\n\n})(jQuery);\n","/*\n * A subset of the ADD Utility library. \n *\n * It only declares objects/functions when they do not already exist\n */\n\n(function($) {\n\t\"use strict\";\n\n\n\n\t/*\n\t * If console is not defined build a mock console to avoid script errors in production\n\t */\n\tif(typeof(window.console) === 'undefined') {\n\t\twindow.console = {\n\t\t\tlog: function() {},\n\t\t\tdir: function() {},\n\t\t\ttimeStamp: function () {},\n\t\t\ttime: function () {},\n\t\t\ttimeEnd: function () {}\n\t\t};\n\t}\n\n\tif(typeof(console.timeStamp) === 'undefined'){\n\t\tconsole.timeStamp = function () {};\n\t}\n\tif(typeof(console.time) === 'undefined'){\n\t\tconsole.time = function () {};\n\t}\n\tif(typeof(console.timeEnd) === 'undefined'){\n\t\tconsole.timeEnd = function () {};\n\t}\n\n\n\t/*\n\t * Object create polyfill\n\t */\n\tif(typeof(Object.create) === 'undefined') {\n\t\tObject.create = function(o) {\n\t\t\tfunction F() {}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t}\n\n\n\t/*****************************************************\n\t * $.formBuilder.util (formerly window.util)\n\t */\n\t\n\tif(typeof($.formBuilder) === 'undefined') {\n\t\t$.formBuilder = {};\n\t}\n\n\tif(typeof($.formBuilder.util) === 'undefined') {\n\t\t$.formBuilder.util = {};\n\t}\n\n\tvar util = $.formBuilder.util;\n\n\n\t/**\n\t * Language Support Setup\n\t */\n\tvar lang = $.formBuilder.lang; //should be defined in at least the english package\n\t\n\tif(typeof(lang.code) === 'undefined' || !lang.locales[lang.code]) {\n\t\tlang.code = 'en';\n\t}\n\n\t// Create dictionary, based off of english and then replacing them with new words (prevents missing words)\n\tlang.dict = {};\n\t$.extend(true, lang.dict, lang.locales.en);\n\tif(lang.code !== 'en') {\n\t\t$.extend(lang.dict, lang.locales[lang.code]);\n\t}\n\t\n\n\t/*\n\t * Retrieve from a namespace given the dot-notated key\n\t *\n\t * Since the form has a flat structure and therefore has prefixes to avoid naming conflicts, we need a way to map\n\t * the prefixed DOM Keys to the hierarchical data maps. Keys that are not found will be saved in the extraKeys object\n\t * in the correct hierarchical order\n\t *\n\t * DOM -> Data Examples: given dealFile = efsResponse['efs']['deal-file']\n\t *\n\t * basic:\n\t *   'deal.acquired-date' -> dealFile['deal']['acquired-date']\n\t *   'purchase-vehicle.data.vin' -> dealFile['purchase-vehicle']['data']['vin']\n\t *\n\t * arrays:\n\t *   'customer.0.first-name' -> dealFile['customer'][0]['first-name']\n\t *\n\t */\n\n\tif(typeof(util.selectPath) === 'undefined') {\n\t\tutil.selectPath = function(namespace, domKey) {\n\t\t\t\n\t\t\tif(namespace === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(domKey === undefined || domKey === ''){\n\t\t\t\treturn namespace;\n\t\t\t}\n\n\t\t\tvar i, a = domKey.toString().split('.');\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tvar key = a[i];\n\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\t\t\t\t\t/*\n\t\t\t\t\t * treat this as an array index\n\t\t\t\t\t */\n\t\t\t\t\tkey = parseInt(key, 10);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * arrays with index might be pulled out of the array, so check if we can find the correct mapping without the array\n\t\t\t\t */\n\t\t\t\tif(key === 0 && !$.isArray(namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(namespace === undefined || namespace === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\tif(i === a.length - 1 || namespace === undefined) {\n\t\t\t\t\treturn namespace;\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}\n\n\t/*\n\t * Given and namespace object and a dot-notated key, save the given object to\n\t * the proper path in the namespace\n\t *\n\t */\n\tif(typeof(util.insertPath) === 'undefined') {\n\t\tutil.insertPath = function(namespace, domKey, obj) {\n\t\t\tvar i, a = domKey.split('.'),\n\t\t\t\torigRef = namespace;\n\t\t\tvar types = [],\n\t\t\t\tkey, type;\n\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tkey = a[i];\n\n\t\t\t\tif(i === a.length - 1) {\n\n\t\t\t\t\t/*\n\t\t\t\t\t * clean this logic up\n\t\t\t\t\t */\n\t\t\t\t\tif(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\t\tv: []\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttypes.push({\n\t\t\t\t\t\t\tk: key,\n\t\t\t\t\t\t\tv: obj\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t} else if(key.match(/^[0-9]{1,3}$/)) {\n\n\t\t\t\t\ttypes[types.length - 1] = {\n\t\t\t\t\t\tk: types[types.length - 1].k,\n\t\t\t\t\t\tv: []\n\t\t\t\t\t};\n\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: parseInt(key, 10),\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\ttypes.push({\n\t\t\t\t\t\tk: key,\n\t\t\t\t\t\tv: {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(i = 0; i < types.length; i += 1) {\n\t\t\t\ttype = types[i];\n\t\t\t\tkey = type.k;\n\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t} else {\n\n\t\t\t\t\tif(typeof namespace[key] === 'undefined') {\n\t\t\t\t\t\tnamespace[key] = type.v;\n\t\t\t\t\t}\n\n\t\t\t\t\tnamespace = namespace[key];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn origRef;\n\n\t\t};\n\t}\n\n\t/*\n\t * var ns = {test: {foo: 1, bar: 2, baz: 3}};\n\t * deletePath(ns, 'test.foo');\n\t * console.log(ns);\n\t *\n\t * TODO: make this work for arrays\n\t */\n\tif(typeof(util.deletePath) === 'undefined') {\n\t\tutil.deletePath = function(namespace, domKey) {\n\t\t\tvar a = domKey.split('.'),\n\t\t\t\ti;\n\t\t\tfor(i = 0; i < a.length; i += 1) {\n\t\t\t\tif(i === a.length - 1) {\n\t\t\t\t\tdelete namespace[a[i]];\n\t\t\t\t} else {\n\t\t\t\t\tif(typeof namespace[a[i]] === \"undefined\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tnamespace = namespace[a[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\n\t/*\n\t * parameter can be a jQuery object or HTML element object\n\t */\n\tif(typeof($.fn.childOf) === 'undefined') {\n\t\t$.fn.childOf = function(b, includeSelf) {\n\t\t\tvar i;\n\n\t\t\tif(b instanceof jQuery) {\n\t\t\t\tb = b[0];\n\t\t\t}\n\n\t\t\tif(includeSelf && b === this[0]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar p = this.parents();\n\t\t\tfor(i = 0; i < p.length; i++) {\n\t\t\t\tif(b === p[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\n\tif(typeof(window.isEmpty) === 'undefined') {\n\t\twindow.isEmpty = function isEmpty(a) {\n\t\t\tif(a === 0){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !a;\n\t\t};\n\t}\n\n\tif(typeof(util.equals) === 'undefined') {\n\t\tutil.equals = function(a, b) {\n\t\t\tvar p;\n\n\t\t\tif(a === b){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) && window.isEmpty(b)){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(window.isEmpty(a) || window.isEmpty(b)){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(p in b) {\n\t\t\t\t\tif(b.hasOwnProperty(p)) {\n\t\t\t\t\t\tif(!util.equals(a[p], b[p])) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 'function':\n\t\t\t\tif(typeof(b) === 'undefined' || (a.toString() !== b.toString())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(a.toString() !== b.toString()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tif(typeof(util.removeEqual) === 'undefined') {\n\t\tutil.removeEqual = function (a, b, ignoreDiffKeys) {\n\t\t\tvar p, remove, removeTmp;\n\n\t\t\tif(!ignoreDiffKeys){\n\t\t\t\tignoreDiffKeys = [];\n\t\t\t}\n\n\t\t\tif(a === undefined || b === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch(typeof(a)) {\n\t\t\tcase 'object':\n\t\t\t\tremove = true;\n\t\t\t\tfor(p in a) {\n\t\t\t\t\tif(a.hasOwnProperty(p)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($.inArray(p, ignoreDiffKeys) > -1){\n\t\t\t\t\t\t\tremoveTmp = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tremoveTmp = util.removeEqual(a[p], b[p]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(removeTmp){\n\t\t\t\t\t\t\tdelete a[p];\n\t\t\t\t\t\t\tdelete b[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremove = remove && removeTmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn remove;\n\t\t\tdefault:\n\t\t\t\treturn a.toString() === b.toString();\n\t\t\t}\n\t\t};\n\t}\n})(jQuery);\n","/**\n * caret plugin\n */\n\n(function($){\n\t'use strict';\n\t\n\t/*\n\t * This plugin only operates on the first element of the working set\n\t */\n\t$.fn.caret = function(begin, end) {\n\n\t\tif(this.length === 0) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar input = this[0],\n\t\t\trange;\n\n\t\tif(typeof begin === 'number') {\n\t\t\t/*\n\t\t\t * setter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tend = (typeof end === 'number') ? end : begin;\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\t\tinput.focus();\n\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\t * chrome hack\n\t\t\t\t * TMS-2049\n\t\t\t\t * Still need a better way to do this, chrome fails to set the scrolLeft\n\t\t\t\t * whem the cursor moves, still will only work it they are at the end of the text\n\t\t\t\t */\n\t\t\t\ttry{\n\t\t\t\t\tif(end === input.value.length){\n\t\t\t\t\t\tinput.scrollLeft = 9999999999;\n\t\t\t\t\t}\n\t\t\t\t}catch(err){}\n\t\t\t} else if(input.createTextRange) {\n\t\t\t\trange = input.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', begin);\n\t\t\t\trange.select();\n\t\t\t}\n\n\n\t\t} else {\n\t\t\t/*\n\t\t\t * getter mode\n\t\t\t */\n\n\t\t\tif(!$(input).is(':visible')) {\n\t\t\t\tvar l = $(input).val().length;\n\t\t\t\treturn {\n\t\t\t\t\tbegin: l,\n\t\t\t\t\tend: l\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(input.setSelectionRange) {\n\t\t\tbegin = input.selectionStart;\n\t\t\t\tend = input.selectionEnd;\n\t\t\t} else if(document.selection && document.selection.createRange) {\n\t\t\t\trange = document.selection.createRange();\n\t\t\t\tbegin = -range.duplicate().moveStart('character', -100000);\n\t\t\t\tend = begin + range.text.length;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbegin: begin,\n\t\t\t\tend: end\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t};\n})(jQuery);","/**\n * Array Field Widget.\n *\n * - We may want to put this in formBuilder-os\n * - May require css from dyn\n *\n * Attribute Settings:\n * data-addmessage=\"Some message\"\t- Message next to the '+' button\n * data-sub-widget=\"widgetName\"\t\t- Name of jQuery widget to be used as the items\n */\n/*global util:true */\n(function($){\n\t'use strict';\n\tvar util = $.formBuilder.util;\n\tvar dict = $.formBuilder.lang.dict;\n\n\tvar arrayFieldId = 0;\n\tvar nextArrayFieldId = function () {\n\t\treturn arrayFieldId++;\n\t};\n\n\t$.widget(\"formBuilder.arrayField\", {\n\t\t_arrayFieldTemplate: \n\t\t\t'<div class=\"array-field\">' + \n\t\t\t\t'<div class=\"items\"><div class=\"items-content\"></div></div>' + \n\t\t\t\t'<div class=\"input-field\">' + \n\t\t\t\t\t'<div class=\"field-items\">' + \n\t\t\t\t\t\t'<span class=\"first field-item addon clickable array-field-add noselect\"><a href=\"#\">+</a></span>' + \n\t\t\t\t\t\t'<span class=\"field-item array-field-add-message\"></span>' + \n\t\t\t\t\t'</div>' + \n\t\t\t\t'</div>' + \n\t\t\t'</div>',\n\n\t\t_arrayFieldItemTemplate:\n\t\t\t'<div class=\"input-field-group array-field-item\">' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"first field-item addon clickable sort-handle noselect\">::</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<span class=\"sub-field\"></span>' +\n\t\t\t\t'<div class=\"input-field\">' +\n\t\t\t\t\t'<div class=\"field-items\">' +\n\t\t\t\t\t\t'<span class=\"field-item addon clickable array-field-delete\">' +\n\t\t\t\t\t\t\t'<span class=\"fb-icon fb-icon-remove\" title=\"'+ dict.remoasdase+'\"></span>' +\n\t\t\t\t\t\t'</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t'</div>', \n\n\t\t_create: function(){\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.subField = e.html();\n\n\t\t\tself.id = nextArrayFieldId();\n\n\t\t\te.html(self._arrayFieldTemplate);\n\n\t\t\tif(e.attr('data-addmessage')){\n\t\t\t\te.find('.array-field-add-message').text(e.attr('data-addmessage'));\n\t\t\t}\n\n\t\t\tvar items = self.items = e.find('.items');\n\t\t\tself.itemsContent = items.find('.items-content');\n\n\t\t\t//CDH 2013-12-05 removed this during the rafactor needed for waypoints\n\t\t\t//self.data = [];\n\t\t\t//self.draw();\n\n\n\t\t\te.on('click', '.array-field-add, .array-field-add-message', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself._handleAddButtonClick();\n\t\t\t});\n\n\t\t\te.on('click', '.array-field-delete', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\t/*\n\t\t\t\t * killing the event here because this will cause cascaded array fields to delete the parent items as well.\n\t\t\t\t */\n\t\t\t\tev.stopPropagation();\n\t\t\t\t$(this).parents('.array-field-item').first().remove();\n\t\t\t\tself._onDirty();\n\t\t\t\tself._trigger('afterdelete', ev);\n\t\t\t});\n\n\t\t\tself.itemsContent.sortable({\n\t\t\t\taxis: \"y\",\n\t\t\t\thandle: '.sort-handle',\n\t\t\t\tcontainment: self.itemsContent,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\tself._checkDirty();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * proxy dirty and clean events\n\t\t\t */\n\t\t\tself.dirty = false;\n\t\t\t//items.on('dirty', $.proxy(self._onDirty, self)).on('clean', $.proxy(self._onClean, self));\n\n\n\t\t\t/*\n\t\t\t * proxy clean/dirty events to hanlder functions\n\t\t\t */\n\t\t\te.on('dirty clean', function (ev) {\n\t\t\t\t/*\n\t\t\t\t * only listen to events from children of the widget,\n\t\t\t\t * that way a loop will not form when the element triggers\n\t\t\t\t * the same events\n\t\t\t\t */\n\t\t\t\tif(!$(ev.target).childOf(e)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\n\t\t\t\tif(ev.type === 'dirty'){\n\t\t\t\t\tself._onDirty();\n\t\t\t\t}else{\n\t\t\t\t\tself._onClean();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgetId: function(){\n\t\t\treturn this.id;\n\t\t},\n\n\t\t_handleAddButtonClick: function () {\n\t\t\tvar self = this;\n\t\t\tif(self._trigger('beforeaddnewitem')){\n\t\t\t\t//default can be prevented\n\t\t\t\tself.addItem();\n\t\t\t}\n\t\t},\n\n\t\t_checkDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcurData = self.data,\n\t\t\t\tnewData = self.get();\n\n\t\t\tif(util.equals(newData, curData)){\n\t\t\t\tself.dirty = false;\n\t\t\t\tself.element.trigger('clean');\n\t\t\t}else{\n\t\t\t\tself.dirty = true;\n\t\t\t\tself.element.trigger('dirty');\n\t\t\t}\n\t\t},\n\n\t\t_onDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\t_onClean: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.dirty){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._checkDirty();\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\tgetFieldInstances: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tfields = [];\n\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tfields.push($(this).find('.array-field-input-' + self.id));\n\t\t\t});\n\t\t\treturn fields;\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget') || 'inputField',\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tdata = [];\n\n\t\t\t/*\n\t\t\t$.each(self.fields, function (i, field) {\n\t\t\t\tvar val = field[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t*/\n\t\t\t\n\t\t\titemsContent.children('.array-field-item').each(function () {\n\t\t\t\tvar val = $(this).find('.array-field-input-' + self.id)[subWidget]('get');\n\t\t\t\tif(val === 0 || val){\n\t\t\t\t\tdata.push(val);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\n\t\t\treturn data;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent,\n\t\t\t\tvalid = true;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\tvalid = valid && $(this).find(':formBuilder-inputField').inputField('validate');\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\tself.dirty = false;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':formBuilder-inputField').inputField('clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\t\t\tself.set([]);\n\t\t},\n\n\t\tflash: function () {\n\t\t\tvar self = this,\n\t\t\t\titemsContent = self.itemsContent;\n\n\t\t\titemsContent.find('.sub-field').each(function () {\n\t\t\t\t$(this).find(':formBuilder-inputField').inputField('flash');\n\t\t\t});\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this,\n\t\t\t\titems = self.items,\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tself._empty();\n\n\t\t\tif(!$.isArray(data)){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tself.data = data;\n\n\t\t\t$.each(data, function (i, item) {\n\t\t\t\tcontent.append(self.drawItem(item));\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * allows a different cleanup behavior for special lists)\n\t\t */\n\t\t_empty: function () {\n\t\t\tvar self = this,\n\t\t\t\tcontent = self.itemsContent;\n\t\t\tcontent.children().remove(); // calls the destroy on widgets + removed them\n\t\t\t// content.empty(); //redundant\n\t\t},\n\n\t\taddItem: function (index, item) {\n\t\t\tvar self = this,\n\t\t\t\titemEl = self.drawItem(item),\n\t\t\t\tcontent = self.itemsContent;\n\n\t\t\tif((index || index === 0) && index >= 0){\n\t\t\t\tcontent.children().eq(index).before(itemEl);\n\t\t\t}else{\n\t\t\t\t/*\n\t\t\t\t * if no insert index is defined, just append\n\t\t\t\t */\n\t\t\t\tcontent.append(itemEl);\n\t\t\t}\n\n\t\t\tself._trigger('afteradd', null, itemEl);\n\n\t\t\treturn itemEl || null;\n\t\t},\n\n\t\tdrawItem: function (item) {\n\t\t\tvar self = this,\n\t\t\t\tsubWidget = self.element.attr('data-sub-widget'),\n\t\t\t\titemView = $(self._arrayFieldItemTemplate);\n\n\t\t\tif(subWidget) {\n\t\t\t\tself._drawWidgetItem(item, itemView, subWidget);\n\t\t\t}else{\n\t\t\t\tself._drawInternalMarkupItem(item, itemView);\n\t\t\t}\n\t\t\treturn itemView;\n\t\t},\n\n\t\t_drawInternalMarkupItem: function (item, itemView) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $(self.subFieldMarkup());\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').html(field);\n\t\t\tfield.parent().find('input[type!=submit], select, textarea, [data-load-widget-as-field]')\n\t\t\t\t.inputField()\n\t\t\t\t.inputField('set', item)\n\t\t\t\t.addClass('array-field-input-' + self.id);\n\t\t},\n\n\t\t_drawWidgetItem: function (item, itemView, subWidget) {\n\t\t\tvar self = this,\n\t\t\t\tfield = $('<div/>')[subWidget]();\n\n\t\t\tself._trigger('beforeadd', null, field);\n\t\t\titemView.find('.sub-field').append(field);\n\t\t\tfield[subWidget]('set', item).addClass('array-field-input-' + self.id).css('display', 'inline');\n\t\t},\n\n\t\tsubFieldMarkup: function () {\n\t\t\treturn this.subField;\n\t\t},\n\n\n\t\t_destroy: function(){\n\t\t\tvar self = this;\n\n\t\t\t// Remove everything and put the inital back\n\t\t\tself._empty(); //destroys the widgets gracefully\n\t\t\tself.element.empty();\n\t\t\tself.element.html(self.subField);\n\t\t}\n\t});\n})(jQuery);\n","\n/*global  moment:true */\n(function($) {\n\t\"use strict\";\n\tvar dict = $.formBuilder.lang.dict;\n\n\t$.widget(\"formBuilder.dateRangePicker\", {\n\t\t_dateRangePickerTemplate:\n\t\t\t'<div class=\"date-range-picker form\">'+\n\t\t\t\t'<input type=\"text\" name=\"from\" data-type=\"date\" data-label=\"'+dict.from+'\"/>' +\n\t\t\t\t'<input type=\"text\" name=\"to\" data-type=\"date\" data-label=\"'+dict.to+'\"/>' +\n\t\t\t\t\n\t\t\t\t'<button type=\"button\" class=\"previous-range\">&lt;&lt;</button>' +\n\t\t\t\t\n\t\t\t\t'<div class=\"input-field-group range-select\">' +\n\t\t\t\t\t'<select name=\"range\" style=\"width: 138px;\">' +\n\t\t\t\t\t\t'<option value=\"custom\">'+dict.custom+'</option>' +\n\t\t\t\t\t\t'<option value=\"day\">'+dict.day+'</option>' +\n\t\t\t\t\t\t'<option value=\"week\">'+dict.week+'</option>' +\n\t\t\t\t\t\t'<option value=\"month\">'+dict.month+'</option>' +\n\t\t\t\t\t\t'<option value=\"year\">'+dict.year+'</option>' +\n\t\t\t\t\t'</select>' +\n\t\t\t\t'</div>'+\n\n\t\t\t\t'<button type=\"button\" class=\"next-range\">&gt;&gt;</button>' +\n\t\t\t'</div>',\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tvar form = self.form = $('<div></div>').html(self._dateRangePickerTemplate).find('.date-range-picker').formBuilder();\n\n\t\t\te.append(form);\n\n\t\t\tself.fromDate = form.find('input[name=\"from\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tself.toDate = form.find('input[name=\"to\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\n\t\t\tform.find('button.previous-range').button().on('click', function () {\n\t\t\t\tself._moveRange(-1, $(self.range).val());\n\t\t\t});\n\n\t\t\tform.find('button.next-range').button().on('click', function () {\n\t\t\t\tself._moveRange(1, $(self.range).val());\n\t\t\t});\n\n\t\t\tself.range = form.find('select[name=\"range\"]').on('change', function () {\n\t\t\t\tself.setRange($(this).val());\n\t\t\t});\n\t\t},\n\n\t\t_moveRange: function (number, unit) {\n\t\t\tvar self = this,\n\t\t\t\tfromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate || unit === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = self.deserialize(fromDate);\n\n\n\t\t\tvar begin = fromDate.add(number, unit);\n\t\t\tvar end = moment(begin).add(1,unit).subtract(1,'day');\n\n\t\t\tself._setFromAndTo(begin, end);\n\t\t},\n\n\t\tsetRange: function (range) {\n\t\t\tvar self = this;\n\t\t\tif (range === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar fromDate = self.fromDate.inputField('get');\n\n\t\t\tif (!fromDate) {\n\t\t\t\tfromDate = moment();\n\t\t\t}\n\n\t\t\tif (typeof fromDate === 'string') {\n\t\t\t\tfromDate = self.deserialize(fromDate);\t\n\t\t\t}\n\n\t\t\tvar from = fromDate.startOf(range);\n\t\t\tvar to = moment(from).endOf(range);\n\n\t\t\tself._setFromAndTo(from, to);\n\t\t},\n\t\t\n\t\t_setFromAndTo: function (from, to) {\n\t\t\tvar self = this;\n\n\t\t\tif (typeof from !== 'string') {\n\t\t\t\tfrom = self.serialize(from);\n\t\t\t}\n\t\t\tif (typeof to !== 'string') {\n\t\t\t\tto = self.serialize(to);\n\t\t\t}\n\n\t\t\tself.fromDate.inputField('set', from);\n\t\t\tself.toDate.inputField('set', to);\n\t\t},\n\n\t\tserialize: function (momentDate) {\t\n\t\t\tif (!momentDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn momentDate.format('YYYY-MM-DD');\n\t\t},\n\n\t\tdeserialize: function (sDate) {\n\t\t\tif (!sDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn moment(sDate, 'YYYY-MM-DD');\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.form.formBuilder('get');\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('set', data);\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.form.formBuilder('isDirty');\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('clearDirty');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.set({\n\t\t\t\tfrom: '',\n\t\t\t\tto: '',\n\t\t\t\trange: 'custom'\n\t\t\t});\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tform = self.form;\n\n\t\t\tif (!form.formBuilder('validate')) {\n\t\t\t\treturn false;\n\t\t\t}\t\t\t\n\t\t}\n\t});\n\n}(jQuery));","\n/*global  moment:true */\n(function($) {\n\t\"use strict\";\n\tvar dict = $.formBuilder.lang.dict;\n\t\n\t$.widget(\"formBuilder.dateTimeRangePicker\", {\n\t\t_dateTimeRangePickerTemplate:\n\t\t\t\t'<div class=\"date-range-picker form\">' +\n\t\t\t\t\t'<input type=\"text\" name=\"from\" data-type=\"dateTime\" data-label=\"'+dict.from+'\"/>' +\n\t\t\t\t\t'<input type=\"text\" name=\"to\" data-type=\"dateTime\" data-label=\"'+dict.to+'\"/>' +\n\n\t\t\t\t\t'<button type=\"button\" class=\"previous-range\">&lt;&lt;</button>' +\n\n\t\t\t\t\t'<div class=\"input-field-group range-select\">' +\n\t\t\t\t\t\t'<select name=\"range\" style=\"width: 138px;\">' +\n\t\t\t\t\t\t\t'<option value=\"custom\">'+dict.custom+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"day\">'+dict.day+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"week\">'+dict.week+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"month\">'+dict.month+'</option>' +\n\t\t\t\t\t\t\t'<option value=\"year\">'+dict.year+'</option>' +\n\t\t\t\t\t\t'</select>' +\n\t\t\t\t\t'</div>' +\n\n\t\t\t\t\t'<button type=\"button\" class=\"next-range\">&gt;&gt;</button>' +\n\t\t\t\t'</div>',\n\t\t\t\t\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tvar form = self.form = $('<div></div>').html(self._dateTimeRangePickerTemplate).find('.date-range-picker').formBuilder();\n\n\t\t\te.append(form);\n\n\t\t\tself.fromDate = form.find('input[name=\"from\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\t\t\t// self.fromDate.inputField('setLabel', e.attr('data-from-label'));\n\n\t\t\tself.toDate = form.find('input[name=\"to\"]').on('keyup ondateselect', function () {\n\t\t\t\t$(self.range).val('custom');\n\t\t\t});\n\t\t\t// self.toDate.inputField('setLabel', e.attr('data-to-label'));\n\n\t\t\tform.find('button.previous-range').button().on('click', function () {\n\t\t\t\tself._moveRange(-1, $(self.range).val());\n\t\t\t});\n\n\t\t\tform.find('button.next-range').button().on('click', function () {\n\t\t\t\tself._moveRange(1, $(self.range).val());\n\t\t\t});\n\n\t\t\tself.range = form.find('select[name=\"range\"]').on('change', function () {\n\t\t\t\tself.setRange($(this).val());\n\t\t\t});\n\t\t},\n\n\t\t_moveRange: function (number, unit) {\n\t\t\tvar self = this,\n\t\t\t\tfromTypeInstance = self.fromDate.inputField('getType'),\n\t\t\t\ttoTypeInstance = self.toDate.inputField('getType'),\n\t\t\t\tfromDate;\n\n\t\t\tif (fromTypeInstance.dateWidgetInstance.isEmpty() || unit === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = self.deserializeDate(fromTypeInstance.dateWidgetInstance.get());\n\n\t\t\tvar begin = fromDate.add(number, unit);\n\t\t\tvar end = moment(begin).add(1,unit).subtract(1,'day');\n\n\t\t\tfromTypeInstance.dateWidgetInstance.set(self.serializeDate(begin));\n\t\t\ttoTypeInstance.dateWidgetInstance.set(self.serializeDate(end));\n\n\t\t\t// Force times to be correct in regards to DST\n\t\t\tif(fromTypeInstance.timeWidgetInstance.isEmpty()) {\n\t\t\t\tfromTypeInstance.timeWidgetInstance.set(moment().hours(0).minutes(0).utc().format('HH:mm'));\n\t\t\t}\n\t\t\t\n\t\t\tif(toTypeInstance.timeWidgetInstance.isEmpty()) {\n\t\t\t\ttoTypeInstance.timeWidgetInstance.set(moment().hours(23).minutes(59).utc().format('HH:mm'));\n\t\t\t}\n\t\t},\n\n\t\tsetRange: function (range) {\n\t\t\tvar self = this,\n\t\t\t\tfromTypeInstance = self.fromDate.inputField('getType'),\n\t\t\t\ttoTypeInstance = self.toDate.inputField('getType'),\n\t\t\t\tfromDate;\n\n\t\t\tif (range === 'custom') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfromDate = fromTypeInstance.dateWidgetInstance.get();\n\n\t\t\tif (!fromDate) {\n\t\t\t\tfromDate = moment();\n\t\t\t}\n\n\t\t\tif (typeof fromDate === 'string') {\n\t\t\t\tfromDate = self.deserializeDate(fromDate);\n\t\t\t}\n\t\t\t\t\t\t\n\n\t\t\tvar from = fromDate.startOf(range);\n\t\t\tvar to = moment(from).endOf(range);\n\n\t\t\tfromTypeInstance.dateWidgetInstance.set(self.serializeDate(from));\n\t\t\ttoTypeInstance.dateWidgetInstance.set(self.serializeDate(to));\n\n\t\t\t// Force times to be correct in regards to DST\n\t\t\tif(fromTypeInstance.timeWidgetInstance.isEmpty()) {\n\t\t\t\tfromTypeInstance.timeWidgetInstance.set(moment().hours(0).minutes(0).utc().format('HH:mm'));\n\t\t\t}\n\t\t\t\n\t\t\tif(toTypeInstance.timeWidgetInstance.isEmpty()) {\n\t\t\t\ttoTypeInstance.timeWidgetInstance.set(moment().hours(23).minutes(59).utc().format('HH:mm'));\n\t\t\t}\n\n\t\t\tself.range.val(range);\n\t\t},\n\n\t\tserializeDate: function (momentDate) {\n\t\t\tif (!momentDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn momentDate.format('YYYY-MM-DD');\n\t\t},\n\n\t\tdeserializeDate: function (stringDate) {\n\t\t\tif (!stringDate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn moment(stringDate, 'YYYY-MM-DD');\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.form.formBuilder('get');\n\t\t},\n\n\t\tset: function (data) {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('set', data);\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.form.formBuilder('isDirty');\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.form.formBuilder('clearDirty');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.set({\n\t\t\t\tfrom: '',\n\t\t\t\tto: '',\n\t\t\t\trange: 'custom'\n\t\t\t});\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tform = self.form;\n\n\t\t\tif (!form.formBuilder('validate')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n}(jQuery));","/**\n * formBuilder.dropDownPanel widget\n *\n * Events:\n * beforeopen\n * afteropen\n * beforeclose\n * afterclose\n */\n\n(function($){\n\t'use strict';\n\n\tvar doc = $(document);\n\n\n\tvar dropDownPanelCount = 0;\n\n\t$.widget(\"formBuilder.dropDownPanel\", {\n\n\t\toptions: {\n\t\t\toffset: {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\n\n\t\t\t// What it listens for events on and is positioned under (required)\n\t\t\ttarget: undefined,\n\n\t\t\t// Listen for focus/blur to trigger open/close on this element (default = target)\n\t\t\tfocusTarget: undefined,\n\n\t\t\t// Automatically change target to the given target's first .field-item-input child, if it has one\n\t\t\ttargetInput: true,\n\n\t\t\t// Array of name attributes to hide \n\t\t\thideFields: undefined\t\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\twrapper = $('<div class=\"fb-dropDownPanel-wrapper\" style=\"position: relative;\"></div>'),\n\t\t\t\tpanel = $('<div class=\"fb-dropDownPanel\"></div>').hide().appendTo(wrapper);\n\n\t\t\tself.wrapper = wrapper;\n\t\t\tself.panel = panel;\n\t\t\tself.isOpen = false;\n\t\t\tself.id = dropDownPanelCount++;\n\n\t\t\to.targetInput = !!o.targetInput;\n\n\t\t\te.addClass('fb-dropDownPanel-content').appendTo(panel);\n\n\t\t\tif(o.hideFields && Array.isArray(o.hideFields)) {\n\t\t\t\t$.each(o.hideFields, function(i, fieldName) {\n\t\t\t\t\tpanel.find('[name=\"' + fieldName + '\"]').remove();\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tself.closeListener = function(ev) {\n\n\t\t\t\t// Listen for Escape key\n\t\t\t\tif(ev.which === 27) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.focusTarget.focus();\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Listen for a click outside\n\t\t\t\tif(!$(ev.target).childOf(panel, true) && !$(ev.target).childOf(self.focusTarget, true)) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.openListener = function(ev) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.open();\n\t\t\t\t}, 0);\n\t\t\t};\n\n\t\t\t\n\t\t\tself.attach(o.target, o.focusTarget);\n\t\t},\n\n\t\tgetClassNames: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn {\n\t\t\t\ttarget: 'fb-dropDownPanel-'+self.id+'-target',\n\t\t\t\tfocus: 'fb-dropDownPanel-'+self.id+'-focusTarget'\n\t\t\t};\n\t\t},\n\n\t\tgetId: function() {\n\t\t\treturn this.id;\n\t\t},\n\n\t\tisOpened: function() {\n\t\t\treturn this.isOpen;\n\t\t},\n\n\t\tdetach: function() {\n\t\t\tvar self = this,\n\t\t\t\tinstanceClasses = self.getClassNames();\n\n\t\t\tself.close();\n\n\t\t\tif(self.target) {\n\t\t\t\tself.target.removeClass(instanceClasses.target);\n\t\t\t}\n\t\t\tif(self.focusTarget) {\n\t\t\t\tself.focusTarget.removeClass(instanceClasses.focus);\n\t\t\t\tself.focusTarget.off('click focus', self.openListener);\n\t\t\t}\n\n\t\t\tself.focusTarget = undefined;\n\t\t\tself.target = undefined;\n\t\t\tself.wrapper.detach();\n\t\t},\n\n\t\tattach: function(newTarget, newFocusTarget) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tinstanceClasses = self.getClassNames();\n\n\t\t\tif(!newTarget || !(newTarget instanceof $) || newTarget.length === 0) {\n\t\t\t\tthrow '[dropDownPanel] No target element specifed.';\n\t\t\t}\n\n\t\t\tif(self.target) {\n\t\t\t\tself.detach();\n\t\t\t}\n\n\n\t\t\t// Determine correct targets\n\n\t\t\tif(newTarget.is(':formBuilder-inputField')) {\n\t\t\t\tif(!newFocusTarget) {\n\t\t\t\t\tnewFocusTarget = newTarget;\n\t\t\t\t}\n\t\t\t\tnewTarget = newTarget.closest('.input-field');\n\n\t\t\t} else if(newTarget.is('.input-field') && !newFocusTarget) {\n\t\t\t\tnewFocusTarget = newTarget.find(':focusable:tabbable'); //NOTE: This may be mutiple elements, but that's okay\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tself.wrapper.insertAfter(newTarget);\n\t\t\t}\n\n\n\t\t\tif(newTarget.is('.input-field')) {\n\t\t\t\tself.wrapper.appendTo(newTarget.closest('.input-field-group'));\n\n\t\t\t\tif(o.targetInput) {\n\t\t\t\t\tvar inputItem = newTarget.find('.field-item-input');\n\t\t\t\t\tif(inputItem.length > 0) {\n\t\t\t\t\t\tnewTarget = $(inputItem[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\n\t\t\tif(!newFocusTarget) {\n\t\t\t\tnewFocusTarget = newTarget;\n\t\t\t}\n\n\n\t\t\t// Update targets\n\t\t\tif(self.target) {\n\t\t\t\tself.target.removeClass(instanceClasses.target);\n\t\t\t}\n\t\t\tif(self.focusTarget) {\n\t\t\t\tself.focusTarget.removeClass(instanceClasses.focus);\n\t\t\t\tself.focusTarget.off('click focus', self.openListener);\n\t\t\t}\n\t\t\t\n\t\t\tself.target = newTarget;\n\t\t\tself.focusTarget = newFocusTarget;\n\n\t\t\tself.target.addClass(instanceClasses.target);\n\t\t\tself.focusTarget.addClass(instanceClasses.focus);\n\n\t\t\tself.focusTarget.on('click focus', self.openListener);\n\t\t},\n\n\t\topen: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tpanel = self.panel,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tif(self.isOpen || !self.target){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.isOpen = true;\n\n\t\t\tvar wrapperOffset = self.wrapper.offset();\n\t\t\tvar targetOffset = self.target.offset();\n\n\n\t\t\tvar css = {\n\t\t\t\tleft: (targetOffset.left - wrapperOffset.left) + o.offset.left + 'px',\n\t\t\t\ttop: (targetOffset.top + self.target.outerHeight() - wrapperOffset.top) + o.offset.top + 'px',\n\t\t\t\twidth: self.target.outerWidth() - (self.panel.outerWidth() - self.panel.width()) + 'px'\n\t\t\t};\n\n\t\t\tpanel.css(css);\n\t\t\tpanel.children().css({\n\t\t\t\tmaxWidth: css.width,\n\t\t\t\toverflow: 'hidden'\n\t\t\t});\n\n\n\t\t\tif(!self._trigger('beforeopen', null, [panel, css])){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpanel.show();\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tself._trigger('afteropen');\n\n\t\t},\n\n\t\tclose: function() {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel;\n\n\t\t\tif(!self.isOpen){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!self._trigger('beforeclose')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.isOpen = false;\n\n\t\t\tpanel.hide();\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\n\t\t\tself._trigger('afterclose');\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tself.wrapper.remove();\n\t\t}\n\t});\n\n\n\t\n})(jQuery);\n","/**\n * formBuilder Widget\n *\n * TODO: improve codes type\n *\n * TODO: handle submission, bind to buttons somehow, and on-submit event\n *\n * TODO: maintain a model, take in the model, link to the fields and make is\n * accessible by a getter model linker? listen to changes\n *\n * TODO: can you call _init() a second type with more options? is that how you\n * call _setOption from outside?\n */\n\n\n(function($) {\n\t\"use strict\";\n\tvar util = $.formBuilder.util;\n\n\t$.widget(\"formBuilder.formBuilder\", {\n\n\t\toptions: {\n\t\t\tconverter: {\n\t\t\t\tfromForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t},\n\t\t\t\ttoForm: function(data) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t/*\n\t\t\t * set to true to ignore fields that are not $(':visible')\n\t\t\t */\n\t\t\tignoreHidden: false\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.baseData = {};\n\n\t\t\to.defaultRequired = e.data('default-required');\n\n\t\t\tself.fieldsWidgets = $([]);\n\t\t\tself.fields = $([]);\n\n\t\t\tself.scanForNewFields();\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * proxy the dirty events from all of the fields in the form\n\t\t\t */\n\t\t\te.on('dirty', function (ev) {\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.dirty = true;\n\t\t\t}).on('clean', function (ev) {\n\n\t\t\t\t/*\n\t\t\t\t * if the form is clean kill the clean event\n\t\t\t\t */\n\t\t\t\tif(!self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * check if form is really clean\n\t\t\t\t */\n\t\t\t\tself.dirty = self.isDirty();\n\n\t\t\t\t/*\n\t\t\t\t * if form is still dirty, kill the clean event\n\t\t\t\t */\n\t\t\t\tif(self.dirty){\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\te.show();\n\t\t},\n\n\t\tscanForNewFields: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\t/*\n\t\t\t * expected methods for a widget to act a as field:\n\t\t\t *\n\t\t\t * set()\n\t\t\t * get()\n\t\t\t * isDirty()\n\t\t\t * clearDirty()\n\t\t\t * flashDirty()\n\t\t\t * flashError()\n\t\t\t * disable()\n\t\t\t * enable()\n\t\t\t * clear()\n\t\t\t * validate()\n\t\t\t *\n\t\t\t */\n\t\t\te.find('[data-load-widget-as-field]').each(function () {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif(!el.attr('name')){\n\t\t\t\t\tthrow new Error('data-load-widget-as-field must have name attribute');\n\t\t\t\t}\n\n\t\t\t\tif(self.fieldsWidgets.has(el[0]).length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tel[el.attr('data-load-widget-as-field')]();\n\n\t\t\t\t/*\n\t\t\t\t * check if the widget extends the base FieldWidget widget\n\t\t\t\t */\n\n\t\t\t\tself.fieldsWidgets = self.fieldsWidgets.add(el);\n\n\t\t\t\t/*\n\t\t\t\t * wrap if label is found\n\t\t\t\t */\n\t\t\t\tvar label = el.attr('data-label');\n\n\t\t\t\tif(!label){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tel.addClass('field-items').wrap('<div class=\"input-field-group\"><div class=\"input-field\"></div></div>').before('<label>' + label + '</label>');\n\t\t\t});\n\t\t\t/*\n\t\t\tself.fields = e.find('input[type!=submit], select, textarea').not(':formBuilder-inputField').inputField({\n\t\t\t\trequire: typeof o.defaultRequired !== 'undefined' && o.defaultRequired === true\n\t\t\t});\n\t\t\t*/\n\t\t\te.find('input[type!=submit], select, textarea').not(':formBuilder-inputField').not('.form-builder-ignore *').each(function () {\n\t\t\t\tvar newInput = $(this);\n\t\t\t\tif(newInput.is('[data-load-widget-as-field]') || newInput.parents('[data-load-widget-as-field]').length){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tnewInput.inputField({\n\t\t\t\t\trequire: !!o.defaultRequired\n\t\t\t\t});\n\n\t\t\t\tself.fields = self.fields.add(newInput);\n\n\n\t\t\t});\n\n\n\n\t\t\t/*\n\t\t\t * set the first class on the first fields for proper styling\n\t\t\t */\n\t\t\t//setTimeout(function() {\n\t\t\t\t//var ingroup = e.find('.input-field-group .input-field .field-item:nth(0)').addClass('first');\n\t\t\t\t//\n\t\t\t\te.find('.input-field-group').each(function () {\n\t\t\t\t\t$(this).find('.field-item:first').addClass('first');\n\t\t\t\t});\n\t\t\t\t//e.find('.input-field .field-item:first-child').not('.input-field-group .input-field:first-child .field-item:first-child').addClass('first');\n\t\t\t//}, 0);\n\t\t},\n\n\t\t_proxyCommandToWidget: function (widgetElement) {\n\t\t\tvar self = this,\n\t\t\t\twidgetName = widgetElement.data('load-widget-as-field') || 'inputField',\n\t\t\t\tinstance = widgetElement.data(widgetName),\n\t\t\t\tmethod = Array.prototype.splice.call(arguments, 1, 1),\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\n\t\t\ttry {\n\t\t\t\treturn instance[method].apply(instance, args);\n\t\t\t}catch(err){\n\t\t\t\tthrow new Error('ERROR: widget field error NAME[' + widgetName + '] METHOD[' + method + ']');\n\t\t\t}\n\t\t},\n\t\n\n\t\tisDirty: function() {\n\t\t\tvar self = this,\n\t\t\t\tdirty = false;\n\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tdirty = !!$(this).inputField('isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\tif(dirty){\n\t\t\t\treturn dirty;\n\t\t\t}\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tdirty = !!self._proxyCommandToWidget($(this), 'isDirty');\n\t\t\t\treturn !dirty;\n\t\t\t});\n\n\t\t\treturn dirty;\n\t\t},\n\n\t\tclearDirty: function() {\n\t\t\tvar self = this;\n\t\t\tself.dirty = false;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clearDirty');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clearDirty');\n\t\t\t});\n\t\t},\n\n\t\tflashDirty: function(numberOfTimes) {\n\t\t\t//this.dirty.inputField('flash', numberOfTimes);\n\t\t\t/*\n\t\t\tvar self = this;\n\t\t\tself.dirty.each(function () {\n\t\t\t\tself._proxyCommandToWidget($(this), 'flash', numberOfTimes);\n\t\t\t});\n\t\t\t*/\n\t\t},\n\n\t\tflashError: function(numberOfTimes) {\n\t\t\tthis.fields.filter(function() {\n\t\t\t\treturn $(this).data('inputField').options.error;\n\t\t\t}).inputField('flash', numberOfTimes);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', true);\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.fields.inputField('status', 'disable', false);\n\t\t},\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tformData = self._readDataFromDom();\n\n\t\t\tif($.isFunction(o.converter.fromForm)) {\n\t\t\t\tformData = o.converter.fromForm(formData);\n\t\t\t}\n\n\t\t\tif(!formData){\n\t\t\t\tformData = {};\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.baseData = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('clear');\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'clear');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * check if the given data would overwrite any dirty fields if set\n\t\t *\n\t\t * returns an array of conflict data, and false for no conflicts\n\t\t */\n\t\tconflicts: function (data, ignoreKeys) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data),\n\t\t\t\tconflicts = [];\n\n\t\t\t/*\n\t\t\t * if dirty flag is not set, assume there is no conflict\n\t\t\t */\n\t\t\tif(!self.isDirty()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar aData = $.extend(true, {}, self.baseData),\n\t\t\t\tbData = $.extend(true, {}, formData);\n\n\t\t\t/*\n\t\t\t * only check fields that are different than the base value\n\t\t\t */\n\t\t\tutil.removeEqual(aData, bData, ignoreKeys);\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar fieldElement = $(this),\n\t\t\t\t\tfieldName = fieldElement.attr('name');\n\n\t\t\t\tvar conflict = fieldElement.inputField('conflicts', formData[fieldName]);\n\t\t\t\tif(conflict){\n\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar conflict = self._proxyCommandToWidget($(this), 'conflicts', formData);\n\t\t\t\tif(conflict){\n\t\t\t\t\tif($.isArray(conflict)){\n\t\t\t\t\t\tconflicts.concat(conflict);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconflicts.push(conflict);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(conflicts.length){\n\t\t\t\treturn conflicts;\n\t\t\t}else{\n\t\t\t\t// Under what circumstances would it be false?\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tset: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\tformData = self._convertFormData(data);\n\n\t\t\tself._trigger('beforeset', null, formData);\n\t\t\tself._writeDataToDom(formData, setOptions);\n\t\t\tself._trigger('afterset', null, formData);\n\t\t},\n\n\t\t_convertFormData: function (data) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * clone data object so form can not change the original\n\t\t\t */\n\t\t\tvar formData = $.extend(true, {}, data || {});\n\n\t\t\tif($.isFunction(o.converter.toForm)) {\n\t\t\t\tformData = o.converter.toForm(formData);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t},\n\n\t\tval: function(values) {\n\t\t\t//TODO: forgot to implement this, there is logic taking its place in efsfl.js\n\t\t\tif(values === undefined) {\n\t\t\t\t/*\n\t\t\t\t * getter\n\t\t\t\t */\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * setter\n\t\t\t\t */\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tvalid = true;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif((!self.ignoreHidden || el.is(':visible')) && el.inputField('validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\tif((!self.ignoreHidden || el.is(':visible')) && self._proxyCommandToWidget(el, 'validate') === false){\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn valid;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.fields.inputField('destroy');\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'destroy');\n\t\t\t});\n\t\t},\n\n\t\tgetFields: function() {\n\t\t\treturn this.fields;\n\t\t},\n\n\t\t_writeDataToDom: function(data, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tself.fields.each(function() {\n\t\t\t\t$(this).inputField('set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tself._proxyCommandToWidget($(this), 'set', util.selectPath(data, $(this).attr('name')), setOptions);\n\t\t\t});\n\t\t},\n\n\t\t_readDataFromDom: function() {\n\t\t\tvar self = this,\n\t\t\t\tignoreHidden = self.options.ignoreHidden,\n\t\t\t\tdata = {};\n\n\t\t\tself.fields.each(function() {\n\t\t\t\tvar el = $(this);\n\t\t\t\t// console.log('inside of each');\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar val = el.inputField('get');\n\n\t\t\t\tif($.isArray(val)) {\n\t\t\t\t\tval = val[0];\n\t\t\t\t}\n\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\t\t\tself.fieldsWidgets.each(function() {\n\t\t\t\tvar el = $(this),\n\t\t\t\t\tignoreHidden = self.options.ignoreHidden;\n\n\t\t\t\tif(ignoreHidden && !el.is(':visible')){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar val = self._proxyCommandToWidget(el, 'get');\n\t\t\t\tutil.insertPath(data, el.attr('name'), val);\n\t\t\t});\n\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t\n\n}(jQuery));","/**\n * inputField Widget\n *\n * This widget wraps the operation of a single field of a form\n *\n * Public Methods:\n *   value(value)\n *   validate()\n *   flash()\n *   setError()\n *   clearError()\n *   redraw()\n *   status(statusName, bool)\n */\n\n(function($) {\n\t\"use strict\";\n\tvar util = $.formBuilder.util;\n\tvar dict = $.formBuilder.lang.dict;\n\n\tvar repeat = function(work, delay, count, idx) {\n\t\tidx = idx || 0;\n\t\tif(idx < count) {\n\t\t\twork();\n\t\t\tsetTimeout(function() {\n\t\t\t\trepeat(work, delay, count, idx + 1);\n\t\t\t}, delay);\n\t\t}\n\t};\n\n\tvar statusNames = ['require', 'disable', 'error', 'hover', 'warn', 'focus'];\n\n\tvar loadDomData = function(namespace, aKey) {\n\t\tvar self = this;\n\t\t$.each(aKey, function(i, key) {\n\t\t\t/*\n\t\t\tif(namespace){\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tvar data = self.element.data(key);\n\t\t\tif(data !== undefined && data !== null) {\n\t\t\t\tnamespace[key] = data;\n\t\t\t}\n\t\t});\n\t};\n\n\t$.widget('formBuilder.fieldWidget', {\n\n\t\tisDirty: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\tvalidate: function () {\n\t\t\treturn true;\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\t\n\t\t},\n\n\t\tclear: function () {\n\t\t\tthis.set();\n\t\t},\n\n\t\tflash: function () {\n\t\t\t\n\t\t},\n\n\t\tset: function (data) {\n\t\t\t\n\t\t},\n\n\t\tget: function () {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\t$.widget(\"formBuilder.inputField\", {\n\t\toptions: {\n\t\t\ttype: 'text',\n\n\t\t\t/*\n\t\t\t * the text shown\n\t\t\t */\n\t\t\tlabel: '',\n\n\t\t\trequire: '',\n\n\t\t\t/*\n\t\t\t * text to show when the field is empty, this uses the suggest layer\n\t\t\t */\n\t\t\tplaceholder: '',\n\n\t\t\t/*\n\t\t\t * min and max, there meaning depends on the type that is loaded\n\t\t\t */\n\t\t\tmin: '', // min does nothing in formbuilder\n\t\t\tmax: '',\n\n\n\t\t\terror: 'error' // does nothing?\n\n\t\t\t/*\n\t\t\t * values: false/undefined, 'keyup', 'blur'\n\t\t\t */\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tif(!e.is('input[type!=submit], select, textarea')) {\n\t\t\t\tthrow new Error(\"invalid element\");\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\n\t\t\t/*\n\t\t\t * load DOM settings from field into options\n\t\t\t */\n\t\t\tloadDomData.call(self, o, ['require', 'empty', 'placeholder', 'type', 'label', 'min', 'max', 'preinput', 'postinput', 'suffix', 'prefix']);\n\n\t\t\t/*\n\t\t\t * legacy support\n\t\t\t */\n\t\t\tif(!o.placeholder && o.empty) {\n\t\t\t\to.placeholder = o.empty;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check if a tool-tip was given\n\t\t\t */\n\t\t\tvar tooltip, tooltipContent = e.next();\n\t\t\tif(tooltipContent.is('div.form-input-tooltip') || tooltipContent.is('div.tooltip')) {\n\t\t\t\ttooltip = tooltipContent;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * convert the simple input into the full field format\n\t\t\t */\n\t\t\t \n\t\t\tvar field = self.field = $('<div class=\"input-field\"><div class=\"field-items\"><span class=\"field-item field-item-input\"></span></div></div>');\n\n\t\t\tvar layers = self.layers = {\n\t\t\t\titems: field.find('.field-items'),\n\t\t\t\tinput: field.find('.field-item-input')\n\t\t\t};\n\n\t\t\tif(o.label){\n\t\t\t\tself.setLabel(o.label);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move the DOM elements around\n\t\t\t */\n\t\t\te.before(field).appendTo(layers.input);\n\n\t\t\t/*\n\t\t\t * move classes\n\t\t\t */\n\t\t\tfield.attr('class', $.trim(field.attr('class') + ' ' + e.attr('class')));\n\t\t\te.removeAttr('class');\n\n\t\t\tif(e.is('textarea')) {\n\t\t\t\tfield.addClass('textarea-fix');\n\t\t\t\te.wrap('<div class=\"textarea-wrapper\"></div>');\n\t\t\t}\n\t\t\tif (e.is('select')) {\n\t\t\t\tfield.addClass('select-fix');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if this field is not part of a group in its form, add a group class to this field for proper styling\n\t\t\t */\n\t\t\tvar parentContainer = field.closest('.input-field-group, :formBuilder-formBuilder');\n\n\t\t\tif(!parentContainer.length || parentContainer.is(':formBuilder-formBuilder')) {\n\t\t\t\tfield.wrap('<div class=\"input-field-group\"/>');\n\t\t\t\tfield.find('.field-item:first').addClass('first');\n\t\t\t}\n\n\t\t\tif(o.placeholder){\n\t\t\t\tself.placeholder(o.placeholder);\n\t\t\t}\n\n\t\t\tif(o.preinput) {\n\t\t\t\tself.addOn(-1, o.preinput);\n\t\t\t}\n\n\t\t\tif(o.postinput) {\n\t\t\t\tself.addOn(1, o.postinput);\n\t\t\t}\n\n\t\t\tif(o.suffix){\n\t\t\t\tself.setSuffix(o.suffix);\n\t\t\t}\n\n\t\t\tif(o.prefix){\n\t\t\t\tself.setPrefix(o.prefix);\n\t\t\t}\n\n\t\t\tif(tooltip) {\n\t\t\t\tvar addon = self.addOn(1000, '<span class=\"tooltip noselect\">?</span>', 'clickable');\n\n\t\t\t\tfield.addClass('has-tooltip');\n\n\t\t\t\ttooltip.popOver({\n\t\t\t\t\ttarget: addon,\n\t\t\t\t\tonShow: function () {\n\t\t\t\t\t\taddon.addClass('open');\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function () {\n\t\t\t\t\t\taddon.removeClass('open');\n\t\t\t\t\t}\n\t\t\t\t}).on('click', function () {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\n\n\n\t\t\t\ttooltip.popOver('hide');\n\n\n\t\t\t\taddon.on('click', function() {\n\t\t\t\t\ttooltip.popOver('toggle');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move element style\n\t\t\t */\n\t\t\t// field.attr('style', e.attr('style'));\n\t\t\t// e.removeAttr('style');\n\t\t\t/*\n\t\t\t * add the pad1 class to make way for the drop down handle\n\t\t\t */\n\t\t\t// if(e.is('select')){\n\t\t\t// field.addClass('pad1');\n\t\t\t// }\n\t\t\t/*\n\t\t\t * if someone tries to select text from one of the layers, this will focus the input field\n\t\t\t */\n\t\t\t/* this causes problems when extra dialogs like dropdown panels are placed inside the field container */\n\t\t\t//field.on('mousedown.inputField', function() {\n\t\t\tlayers.input.on('mousedown.inputField', function() {\n\t\t\t\t$('body').one('mouseup.inputField', function() {\n\t\t\t\t\te.focus();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tself.autoValidate = 'blur';\n\n\t\t\tself.states = {};\n\n\t\t\t/*\n\t\t\t * set the require option as a status\n\t\t\t */\n\t\t\tself.updateStatus('require', o.require, false);\n\n\t\t\t/*\n\t\t\t * activate focus classes and suggestion layer\n\t\t\t */\n\t\t\te.focus(function() {\n\t\t\t\tself.status('focus', true);\n\t\t\t}).blur(function(ev) {\n\t\t\t\tself.status('focus', false);\n\t\t\t\tself._onBlur(ev);\n\t\t\t}).change(function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('inputfilterkeyignored.inputField', function() {\n\t\t\t\tself.flash();\n\t\t\t}).on('inputfilterkeytyped.inputField', function() {\n\t\t\t\tif(self.suffixShim){\n\t\t\t\t\tself.suffixShim.text(self.element.val());\n\t\t\t\t}\n\t\t\t}).on('keyup', function(ev) {\n\t\t\t\tself._onKeyup(ev);\n\t\t\t}).on('keydown', function(ev) {\n\t\t\t\tself._onKeydown(ev);\n\t\t\t});\n\n\t\t\tfield.mouseenter(function() {\n\t\t\t\tself.status('hover', true);\n\t\t\t}).mouseleave(function() {\n\t\t\t\tself.status('hover', false);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * set the type of this field\n\t\t\t */\n\t\t\tself.setType(o.type);\n\n\t\t\tself.prevValue = e.val();\n\n\t\t\tif(o.max){\n\t\t\t\tself.setMax(o.max);\n\t\t\t}\n\t\t},\n\n\t\tsetLabel: function (label) {\n\t\t\tvar self = this,\n\t\t\t\tfield = self.field;\n\n\t\t\tif(!self.label){\n\t\t\t\tself.label = $('<label>' + label + '</label>');\n\t\t\t\tself.label.prependTo(field);\n\t\t\t}\n\n\t\t\tself.label.html(label);\n\t\t},\n\n\t\tsetSuffix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.suffix){\n\t\t\t\tlayers.suffix = $('<div class=\"suffix-overlay\"><div class=\"shim\"></div><span class=\"value noselect\">' + t + '</span></div>').prependTo(layers.items);\n\t\t\t\tself.suffixShim = layers.suffix.find('.shim');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tlayers.suffix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetPrefix: function (t) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.prefix){\n\t\t\t\tlayers.prefix = $('<div class=\"prefix-overlay noselect\">' + t + '</div>').prependTo(layers.items);\n\t\t\t}else{\n\t\t\t\tself.layers.prefix.find('.value').text(t);\n\t\t\t}\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(e.is(':formBuilder-inputFilter')){\n\t\t\t\te.inputFilter('setMax', max);\n\t\t\t}else{\n\t\t\t\te.inputFilter({\n\t\t\t\t\ttoUpper: false,\n\t\t\t\t\tmax: max,\n\t\t\t\t\tpattern: /./\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_onKeydown: function(ev) {\n\t\t\tvar self = this;\n\t\t\tself._showLayer('placeholder', false);\n\t\t},\n\n\t\t_onKeyup: function(ev) {\n\t\t\tvar self = this;\n\n\t\t\tif(self.autoValidate === 'keyup') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tself.checkDirty();\n\t\t\tself.redraw();\n\t\t},\n\n\t\tcheckDirty: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tval;\n\n\n\t\t\tif(!self.dirty){\n\t\t\t\tval = self.get();\n\n\t\t\t\t/*\n\t\t\t\t * TMS-350 Save/Cancel become greyed out on Ticket Details page even when changes are present\n\t\t\t\t */\n\t\t\t\tif(!util.equals(self.prevValue, val) && !(typeof self.prevValue === 'undefined' && val === '')){\n\t\t\t\t\te.trigger('dirty');\n\t\t\t\t\tself.dirty = true;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t/*\n\t\t\t\t * clean checks can be fired many times, so debouce them with a timer\n\t\t\t\t */\n\t\t\t\tif(self.cleanCheckTimer){\n\t\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t\t}\n\t\t\t\tself.cleanCheckTimer = setTimeout(function() {\n\t\t\t\t\tvar prev = self.prevValue,\n\t\t\t\t\t\tval = self.get();\n\n\t\t\t\t\tif(prev !== 0 && (!prev || $.isEmptyObject(prev))){\n\t\t\t\t\t\tprev = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(val !== 0 && (!val || $.isEmptyObject(val))){\n\t\t\t\t\t\tval = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif(util.equals(prev,val)){\n\t\t\t\t\t\tself.dirty = false;\n\t\t\t\t\t\te.trigger('clean');\n\t\t\t\t\t\tself.redraw();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\n\t\tisDirty: function () {\n\t\t\treturn this.dirty;\n\t\t},\n\n\t\t_onBlur: function(ev) {\n\t\t\tvar self = this;\n\t\t\tif(self.autoValidate === 'blur') {\n\t\t\t\t/*\n\t\t\t\t * defer validate, this will help give time for formaters and such to run\n\t\t\t\t */\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.validate(true);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * weight < 0 goest to left\n\t\t *\n\t\t * Overly complex weight logic, maybe this can be refactored!\n\t\t */\n\t\taddOn: function(weight, html, className) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(typeof(weight) !== 'number') {\n\t\t\t\tweight = 0;\n\t\t\t}\n\n\t\t\tvar addon = $('<span data-weight=\"' + weight + '\" class=\"field-item addon\">' + html + '</span>');\n\n\t\t\tif(className) {\n\t\t\t\taddon.addClass(className);\n\t\t\t}\n\n\t\t\tvar pre = true, found = false;\n\t\t\tlayers.items.children().each(function () {\n\t\t\t\tvar el = $(this);\n\n\t\t\t\tif(el.hasClass('field-item-input')){\n\t\t\t\t\tpre = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Get correct element weight\n\t\t\t\tvar eWeight = el.data('weight');\n\t\t\t\tif(typeof(eWeight) !== 'number') {\n\t\t\t\t\teWeight = 0;\n\t\t\t\t}\n\n\t\t\t\tif(pre && weight < 0 && weight <= eWeight){\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\n\t\t\t\t\t// refresh first\n\t\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else if(!pre && weight >= 0 && weight <= eWeight) {\n\t\t\t\t\taddon.insertBefore(el);\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found && weight < 0){\n\t\t\t\t// Must just left of input\n\t\t\t\tlayers.items.find('.field-item-input').before(addon);\n\t\t\t\t\n\t\t\t\t// refresh first\n\t\t\t\tlayers.items.find('.field-item.first').not(':first').removeClass('first');\n\t\t\t\tlayers.items.find('.field-item').filter(':first').addClass('first');\n\n\t\t\t} else if(!found){\n\t\t\t\t// Must go all the way right\n\t\t\t\tlayers.items.append(addon);\n\t\t\t}\n\n\t\t\treturn addon;\n\t\t},\n\n\t\tplaceholder: function (s) {\n\t\t\tvar self = this,\n\t\t\t\tlayers = self.layers;\n\n\t\t\tif(!layers.placeholder){\n\t\t\t\tlayers.placeholder = $('<div class=\"placeholder noselect\"></div>').hide().appendTo(layers.input);\n\t\t\t}\n\n\t\t\tlayers.placeholder.text(s);\n\t\t},\n\n\t\t_init: function() {\n\t\t\tvar self = this;\n\t\t\tself.set(self.element.attr('value'));\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tself.clearDirty();\n\n\t\t\tif(type && $.isFunction(type.clear)) {\n\t\t\t\ttype.clear.call(type, self);\n\t\t\t}else{\n\t\t\t\tself.prevValue = '';\n\t\t\t\tself.set('');\n\t\t\t}\n\t\t},\n\n\t\tclearDirty: function () {\n\t\t\tvar self = this;\n\n\t\t\tif(self.cleanCheckTimer){\n\t\t\t\tclearTimeout(self.cleanCheckTimer);\n\t\t\t}\n\n\t\t\tself.dirty = false;\n\t\t\tself.field.removeClass('dirty');\n\t\t\tself.element.trigger('clean');\n\t\t},\n\n\t\tconflicts: function (value) {\n\t\t\tvar self = this;\n\t\t\tif(self.dirty){\n\t\t\t\treturn {\n\t\t\t\t\tkey: self.element.attr('name'),\n\t\t\t\t\tvOld: self.get(),\n\t\t\t\t\tvNew: value\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tset: function(value, setOptions) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tvar val;\n\n\t\t\tsetOptions = $.extend({autoClean: true}, setOptions);\n\n\t\t\tif (setOptions.autoClean) {\n\t\t\t\t\n\t\t\t\t // * store the base value\n\t\t\t\t \n\t\t\t\tself.prevValue = value;\n\n\t\t\t\tself.clearDirty();\n\t\t\t}\n\n\t\t\t// Remove error (only if needed to avoid a redraw)\n\t\t\tif(self.hasStatus('error')) {\n\t\t\t\tself.status('error', false, false);\n\t\t\t}\n\n\t\t\tval = self._formatToField(value);\n\n\t\t\t// var val = value;\n\t\t\t/*\n\t\t\t * some complex types might not want input.val() to be called,\n\t\t\t * so ignore all undefined variables\n\t\t\t */\n\t\t\tif(typeof(val) !== 'undefined') {\n\t\t\t\te.val(val);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run the inputFilter if one exists on this field\n\t\t\t */\n\t\t\tvar f = e.data('inputFilter');\n\t\t\tif(f) {\n\t\t\t\tf._clean();\n\t\t\t}\n\n\t\t\tself._trigger('afterset', null, [val, value]);\n\t\t\t\n\t\t\t// Redraw synchronously to avoid display errors (was not working perfectly with setTimeout)\n\t\t\tself.redraw();\n\t\t},\n\t\t\n\n\t\tget: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\treturn self._formatFromField(e.val());\n\t\t},\n\n\t\t/*\n\t\t * Legacy Method, use get() and set()\n\t\t *\n\t\t * value getter/setter for this field\n\t\t */\n\t\tvalue: function(value) {\n\t\t\tvar self = this;\n\n\t\t\tif(value === undefined) {\n\t\t\t\treturn self.get();\n\t\t\t} else {\n\t\t\t\treturn self.set(value);\n\t\t\t}\n\t\t},\n\n\t\tisEmpty: function() {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\t// check if type declares an isEmpty method\n\t\t\tif($.isFunction(type.isEmpty)) {\n\t\t\t\treturn type.isEmpty.call(type, self);\n\t\t\t}\n\t\t\t\n\t\t\treturn $.trim(self.element.val()) === '';\n\t\t},\n\n\t\tvalidate: function(skipRequired) {\n\t\t\tvar self = this,\n\t\t\t\tstates = self.states,\n\t\t\t\ttype = self.type,\n\t\t\t\tempty = self.isEmpty();\n\n\t\t\t/*\n\t\t\t * check required, compare against the actual value in the field\n\t\t\t */\n\t\t\t\n\t\t\tif(!skipRequired && states.require && empty) {\n\t\t\t\tself.setError({\n\t\t\t\t\tmessage: dict.required\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * only call validate if not empty\n\t\t\t */\n\t\t\tif(empty) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif($.isFunction(self.format)) {\n\t\t\t\tself.format.call(self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * check the type validation\n\t\t\t */\n\t\t\tif($.isFunction(type.validate)) {\n\t\t\t\tvar err = type.validate.call(type, self);\n\t\t\t\tif(typeof err === 'undefined') {\n\t\t\t\t\tself.clearError();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tself.setError(err);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.clearError();\n\t\t\treturn true;\n\t\t},\n\n\t\t/*\n\t\t * flashes the field to get the users attention\n\t\t *\n\t\t * TODO: support flashing patterns\n\t\t */\n\t\tflash: function(numberOfTimes) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\trepeat(function() {\n\t\t\t\tself.field.addClass('flash');\n\t\t\t\tself.flashTimer = setTimeout(function() {\n\t\t\t\t\tself.field.removeClass('flash');\n\t\t\t\t}, 150);\n\t\t\t}, 150, numberOfTimes || 1);\n\t\t},\n\n\t\t/*\n\t\t * err: {\n\t\t *   message: '',\n\t\t *   code: '',\n\t\t *   description: ''\n\t\t * }\n\t\t */\n\t\tsetError: function(err) {\n\t\t\tvar self = this,\n\t\t\t\terror = self.states.error,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t/*\n\t\t\t * check if we need to clear the error\n\t\t\t */\n\t\t\tif(err === undefined) {\n\t\t\t\tself.clearError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!layers.error) {\n\t\t\t\tlayers.error = $('<div class=\"error-overlay noselect\"></div>').appendTo(layers.input);\n\t\t\t}\n\n\t\t\t//TODO: place error then check for overlaps\n\t\t\tlayers.error.text(err.message);\n\n\t\t\tself.status('error', true);\n\n\t\t\t/*\n\t\t\t * listen to keyUp events and rerun validate on this field\n\t\t\t */\n\t\t\tself.autoValidate = 'keyup';\n\t\t},\n\n\t\tclearError: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.states.error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.autoValidate = 'blur';\n\t\t\tself.status('error', false);\n\t\t},\n\n\t\t_formatToField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(value === null || value === undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.toField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.toField.call(type, value, self);\n\t\t},\n\n\t\t_formatFromField: function(value) {\n\t\t\tvar self = this,\n\t\t\t\ttype = self.type;\n\n\t\t\tif(!type || !type.converter || !$.isFunction(type.converter.fromField)) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\treturn type.converter.fromField.call(type, value, self);\n\t\t},\n\n\t\t/*\n\t\t * decide what layers should be shown or hidden in the field\n\t\t *\n\t\t * warning: this function gets called a lot!\n\t\t */\n\t\tredraw: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\thasVal = !!e.val(),\n\t\t\t\tshowError = false,\n\t\t\t\tshowNotice = true,\n\t\t\t\tshowPlaceholder = true,\n\t\t\t\tlayers = self.layers;\n\n\t\t\t\t//self.inputWidth = self.element.width(); // Added this line to fix display issue \n\n\t\t\tif(hasVal) {\n\t\t\t\tshowPlaceholder = false;\n\t\t\t}\n\n\t\t\tif(self.suffixShim && !showPlaceholder){\n\t\t\t\tself.suffixShim.text(e.val());\n\t\t\t}\n\n\t\t\tif(layers.prefix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.prefixPaddingAdded) {\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingLeft = e.css('padding-left').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingLeft = isNaN(self.startPaddingLeft)? 5 : parseInt(self.startPaddingLeft, 10);\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingLeft: (self.startPaddingLeft + layers.prefix.outerWidth()) + \"px\",\n\t\t\t\t\t\t\twidth: (self.startInputWidth - layers.prefix.outerWidth())  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.prefixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingLeft: self.startPaddingLeft,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\n\t\t\t\t\tself.prefixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(layers.suffix){\n\t\t\t\tif(!showPlaceholder) {\n\t\t\t\t\tif(!self.suffixPaddingAdded) {\n\t\t\t\t\t\tvar valWidth = layers.suffix.find('.value').outerWidth();\n\n\t\t\t\t\t\tself.startInputWidth = e.width();\n\t\t\t\t\t\tself.startPaddingRight = e.css('padding-right').replace('[^0-9]','');\n\t\t\t\t\t\tself.startPaddingRight = isNaN(self.startPaddingRight)? 0 : parseInt(self.startPaddingRight, 10);\n\n\t\t\t\t\t\te.css({\n\t\t\t\t\t\t\tpaddingRight: (self.startPaddingRight + valWidth) + 'px',\n\t\t\t\t\t\t\twidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.suffixShim.css({\n\t\t\t\t\t\t\tmaxWidth: (self.startInputWidth - valWidth)  + 'px'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.suffixPaddingAdded = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\t\n\t\t\t\t\te.css({\n\t\t\t\t\t\tpaddingRight: self.startPaddingRight,\n\t\t\t\t\t\twidth: self.startInputWidth + 'px'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tself.suffixPaddingAdded = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif(o.hover){\n\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.focus){\n\t\t\t\tshowSuggest = false;\n\t\t\t}\n\t\t\t*/\n\t\t\t/*\n\t\t\tif(o.warn){\n\n\t\t\t}\n\t\t\t*/\n\t\t\tif(self.states.error) {\n\t\t\t\tshowNotice = false;\n\t\t\t\tshowError = true;\n\t\t\t}\n\n\t\t\tif(self.dirty){\n\t\t\t\tself.field.addClass('dirty');\n\t\t\t}else{\n\t\t\t\tself.field.removeClass('dirty');\n\t\t\t}\n\n\t\t\tself._showLayer('error', showError);\n\t\t\tself._showLayer('notice', showNotice);\n\t\t\tself._showLayer('placeholder', showPlaceholder);\n\t\t\tself._showLayer('suffix', !showPlaceholder);\n\t\t\tself._showLayer('prefix', !showPlaceholder);\n\t\t},\n\n\t\t_showLayer: function(layer, show) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(!self.layers[layer]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'visible');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].show();\n\t\t\t\t}\n\n\t\t\t\t// MISC-919 make sure placeholder stays in input box\n\t\t\t\tif(layer === 'placeholder' && e.width() > 0) {\n\t\t\t\t\tvar ph = self.layers[layer];\n\t\t\t\t\twhile((ph.outerWidth(true)) > e.width() && (parseFloat(ph.css('font-size'),10) >= 8.0)) {\n\t\t\t\t\t\tph.css('font-size','-=1.0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(layer === 'suffix') {\n\t\t\t\t\tself.layers[layer].css('visibility', 'hidden');\n\t\t\t\t} else {\n\t\t\t\t\tself.layers[layer].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetType: function(sType) {\n\t\t\tvar self = this,\n\t\t\t\ttypes = $.formBuilder.inputField.types,\n\t\t\t\ttype = self.type;\n\n\t\t\t/*\n\t\t\t * run the type tear down if it exists\n\t\t\t */\n\t\t\t\n\t\t\tif(type && $.isFunction(type.tearDown)) {\n\t\t\t\ttype.tearDown().call(type, self);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * if type doesn't exist set to the default of text\n\t\t\t */\n\t\t\tif(!sType || !types[sType]) {\n\t\t\t\tsType = 'text';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * setup the field type\n\t\t\t */\n\t\t\ttype = Object.create(types[sType]);\n\n\t\t\t/*\n\t\t\t * run the type setup\n\t\t\t */\n\t\t\tif($.isFunction(type.setUp)) {\n\t\t\t\ttype.setUp.call(type, self);\n\t\t\t}\n\n\t\t\tself.type = type;\n\t\t},\n\n\t\t/*\n\t\t * returns the type object\n\t\t */\n\t\tgetType: function () {\n\t\t\treturn this.type;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.field.hide();\n\t\t},\n\n\t\tshow: function(displayValue) {\n\t\t\tif (displayValue) {\n\t\t\t\tthis.field.css('display', displayValue);\n\t\t\t} else {\n\t\t\t\tthis.field.show();\n\t\t\t}\n\t\t},\n\n\t\tgetField: function() {\n\t\t\treturn this.field;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.status('disable', false);\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.status('disable', true);\n\t\t},\n\n\t\tisDisabled: function() {\n\t\t\treturn this.hasStatus('disable');\n\t\t},\n\n\t\t/*\n\t\t * public status setters\n\t\t */\n\t\tstatus: function(statusName, bool, fireEvents) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\t/*\n\t\t\t * only allow changes to status flags\n\t\t\t */\n\t\t\tif($.inArray(statusName, statusNames) < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * clean and set status in options\n\t\t\t */\n\t\t\tvar cleanBool = !!bool,\n\t\t\t\tstates = self.states;\n\n\t\t\tif(cleanBool === states[statusName]) {\n\t\t\t\t/*\n\t\t\t\t * this status is already set, ignore\n\t\t\t\t */\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstates[statusName] = cleanBool;\n\t\t\tself.redraw();\n\n\t\t\t/*\n\t\t\t * set the status class to the field\n\t\t\t */\n\t\t\tif(states[statusName]) {\n\t\t\t\tself.field.addClass(statusName);\n\t\t\t} else {\n\t\t\t\tself.field.removeClass(statusName);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * run any updates to the field needed\n\t\t\t */\n\t\t\tvar layers = self.layers;\n\t\t\tif(statusName === 'disable') {\n\n\t\t\t\tif(!layers.disable) {\n\t\t\t\t\tlayers.disable = $('<div class=\"disable-overlay\"></div>').appendTo(layers.items);\n\t\t\t\t}\n\n\t\t\t\tif(cleanBool) {\n\t\t\t\t\tlayers.disable.css({\n\t\t\t\t\t\twidth: (layers.items.outerWidth() - 2) + 'px',\n\t\t\t\t\t\theight: (layers.items.outerHeight() - 2) + 'px'\n\t\t\t\t\t}).show();\n\t\t\t\t} else {\n\t\t\t\t\tlayers.disable.hide();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * fire statusUpdated event\n\t\t\t */\n\t\t\tif(fireEvents !== false) {\n\t\t\t\tself._trigger(\"statusUpdate\", null, {\n\t\t\t\t\t'statusName': statusName,\n\t\t\t\t\t'value': states[statusName]\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t * legacy status method\n\t\t */\n\t\tupdateStatus: function(statusName, bool, fireEvents) {\n\t\t\tthis.status(statusName, bool, fireEvents);\n\t\t},\n\n\t\thasStatus: function (statusName) {\n\t\t\treturn !!this.states[statusName];\n\t\t},\n\n\t\t_destroy: function () {\n\t\t\tvar self = this;\n\n\t\t\t//TODO remove all handlers\n\t\t\t//\n\n\t\t\t/*\n\t\t\t * tearDown type object\n\t\t\t */\n\t\t\tif(self.type && self.type.tearDown){\n\t\t\t\tself.type.tearDown.call(self.type, self);\n\t\t\t}\n\t\t}\n\t});\n\n\t\n\n\n\n\t/*\n\t * InputField Types\n\t *\n\t * Stored in $.formBuilder.inputField.types\n\t *\n\t * The context (this) will get set to the context of the type object, use the ui parameter to obtain access to the inputField widget\n\t *\n\t * setUp: add any events, elements, etc.\n\t *\n\t * tearDown: reverse whatever setUp did\n\t *\n\t * converter: used to convert data between \"human\" and transport formats (e.g. mm/dd/yyyy <-> yyyymmdd)\n\t *\n\t * format: attempt to format the human readable value (e.g. mm/ dd/yyyy -> mm/dd/yyyy, '  foo ' -> 'foo')\n\t *    format is called on before validate\n\t *\n\t * validate: returns an error object on error or undefined on success\n\t * err: {\n\t *   message: '',\n\t *   code: '',\n\t *   description: ''\n\t * }\n\t *\n\t */\n\t$.formBuilder.inputField.types = {};\n\n\t/* Basic Type Structure\n\t$.formBuilder.inputField.types = {\n\t\tsetUp: function(ui) {},\n\t\ttearDown: function(ui) {},\n\t\tconverter: {\n\t\t\ttoField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\treturn {\n\t\t\t\tmessage: 'invalid'\n\t\t\t};\n\t\t}\n\t};\n\t*/\n\n\n}(jQuery));\n\n","/**\n * inputFilter widget\n *\n * Events:\n * keyignored\n * keytyped\n */\n\n\n(function($) {\n\t'use strict';\n\n\t$.widget('formBuilder.inputFilter', {\n\n\t\toptions: {\n\t\t\ttoUpper: false,\n\t\t\t//TODO: support max, flash when at end of string, other wise just splice off the end\n\t\t\tmax: 0,\n\t\t\tpattern: /[\\w\\s]/, \t// was [A-Z]\n\n\t\t\t// If the typed character/text matches the pattern it will go through this function.\n\t\t\t// This can be used for custom checks. The text returned is the\n\t\t\t// one that is actually put into the input. If no text is returned, \n\t\t\t// the key is ignored like ususal\n\t\t\textraFilter: function(currentValue, inText) {\n\t\t\t\treturn inText;\n\t\t\t}\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tmemory;\n\n\t\t\t/*\n\t\t\t * track if a native change event will be fired by the browser\n\t\t\t */\n\t\t\tself.nativeChange = false;\n\n\t\t\tif(!e.is('input[type=text], textarea')) {\n\t\t\t\tthrow new Error('inputFilter must be applied to a text input ');\n\t\t\t}\n\n\t\t\te.on('keydown.inputFilter', $.proxy(this._onKeyDown, self));\n\t\t\te.on('keypress.inputFilter', $.proxy(this._onKeyPress, self));\n\t\t\te.on('paste.inputFilter', $.proxy(this._onPaste, self));\n\n\t\t\t/*\n\t\t\t * support change events\n\t\t\t */\n\t\t\te.on('focus.inputFilter', function() {\n\t\t\t\tmemory = e.val();\n\t\t\t});\n\t\t\te.on('blur.inputFilter', function() {\n\t\t\t\tif(!self.nativeChange && memory !== e.val()) {\n\t\t\t\t\te.change();\n\t\t\t\t}\n\t\t\t\tself.nativeChange = false;\n\t\t\t});\n\n\t\t},\n\n\t\tsetMax: function (max) {\n\t\t\tthis.options.max = max;\n\t\t},\n\n\t\tsetPattern: function (regex) {\n\t\t\tthis.options.pattern = regex;\n\t\t},\n\n\t\t_onPaste: function(ev) {\n\t\t\t/*\n\t\t\t * on the paste event, schedule a clean\n\t\t\t */\n\t\t\tsetTimeout($.proxy(this._clean, this), 0);\n\t\t},\n\n\t\t_onKeyDown: function(ev) {\n\t\t\t/*\n\t\t\t * detect when the native change event will be fired\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\tthis.nativeChange = true;\n\t\t\t}\n\t\t},\n\n\n\t\t_onKeyPress: function(ev) {\n\t\t\tvar self = this;\n\t\t\t/*\n\t\t\t * Weird IE glitch fix\n\t\t\t *\n\t\t\t * TODO: this needs an explaination of the problem\n\t\t\t */\n\t\t\t//if (!ev.which && ((ev.charCode || ev.charCode === 0) ? ev.charCode : ev.keyCode)) {\n\t\t\t//\tev.which = ev.charCode || ev.keyCode;\n\t\t\t//}\n\t\t\t/*\n\t\t\t * bypass command keys\n\t\t\t */\n\t\t\tif(ev.which < 32 || ev.which > 126 || ev.ctrlKey) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tself._type(String.fromCharCode(ev.which));\n\t\t\treturn false;\n\t\t},\n\n\t\t/*\n\t\t * retype all the characters in the field so they are passed through the filter\n\t\t */\n\t\t_clean: function() {\n\t\t\tvar v = this.element.val();\n\t\t\tthis.element.val('');\n\t\t\t$.each(v.split(''), $.proxy(function(i, c) {\n\t\t\t\tthis._type(c);\n\t\t\t}, this));\n\t\t},\n\n\t\t/*\n\t\t * manually enter the given text into the input field\n\t\t * obeying the regular expression and triggering events\n\t\t * when characters are ignored\n\t\t */\n\t\t_type: function(text) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tkeytypedEvent = 'keytyped',\n\t\t\t\tkeyignoredEvent = 'keyignored',\n\t\t\t\tp, tmp;\n\n\t\t\tif(o.toUpper) {\n\t\t\t\ttext = text.toUpperCase();\n\t\t\t}\n\n\t\t\tif(text.match(o.pattern) && typeof(text = o.extraFilter(val, text)) === 'string') {\n\t\t\t\t/*\n\t\t\t\t * only deal with the caret if the field is focused\n\t\t\t\t *\n\t\t\t\t * (changed focus check because of a PhantomJS bug)\n\t\t\t\t * https://github.com/ariya/phantomjs/issues/10427\n\t\t\t\t */\n\t\t\t\tif(e[0] === document.activeElement) {\n\t\t\t\t\tp = e.caret();\n\t\t\t\t\ttmp = val.slice(0, p.begin) + text + val.slice(p.end);\n\t\t\t\t\tif(o.max && tmp.length > o.max){\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te.val(tmp);\n\t\t\t\t\t\te.caret(p.begin + text.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp = val + text;\n\n\t\t\t\t\tif(o.max && p.length > o.max){\n\t\t\t\t\t\tp = p.substring(0, o.max);\n\t\t\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.val(p);\n\t\t\t\t}\n\n\t\t\t\tself._trigger(keytypedEvent);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tself._trigger(keyignoredEvent);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.inputFilter');\n\t\t}\n\n\t});\n})(jQuery);","/**\n * formBuilder.popOver widget\n */\n\n(function($){\n\t'use strict';\n\n\tvar doc = $(document),\n\t\twin = $(window),\n\t\tbody = $('body');\n\n\t$.widget(\"formBuilder.popOver\", {\n\n\t\toptions: {\n\t\t\ttarget: '',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tappendTo: 'body'\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\tself.showing = false;\n\n\t\t\te.detach();\n\t\t\tvar content = e.clone().addClass('form-input-tooltip');\n\t\t\tself.title = $('<h3 class=\"tooltip-title\"></h3>');\n\n\t\t\te.addClass('tooltip-wrapper').css('position', 'absolute');\n\n\t\t\te.empty();\n\n\t\t\te.append(self.title).append(content);\n\n\t\t\te.appendTo(o.appendTo);\n\n\t\t\tself.onClick = function(ev) {\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!target.childOf(e, true) && !$(ev.delegateTarget.activeElement).childOf(e, true) && !target.childOf(o.target, true)) {\n\t\t\t\t\tif(self._trigger('beforeoffclick', ev, target)) {\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.onResize = function(ev) {\n\t\t\t\tif(!self.showing){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.position();\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * listen for off clicks\n\t\t\t */\n\t\t\tdoc.on('mousedown', self.onClick);\n\n\t\t\t/*\n\t\t\t * listen for window resizes\n\t\t\t */\n\t\t\twin.on('resize', self.onResize);\n\t\t},\n\n\t\tsetAppendTo: function (el) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element;\n\n\t\t\to.appendTo = el;\n\t\t\te.appendTo(el);\n\t\t},\n\n\t\t_init: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\ttitleElement = self.title;\n\n\t\t\tvar title = e.attr('title');\n\n\t\t\tif(title) {\n\t\t\t\ttitleElement.text(title).show();\n\t\t\t}else{\n\t\t\t\ttitleElement.hide();\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.showing) {\n\t\t\t\tself.hide();\n\t\t\t} else {\n\t\t\t\tself.show();\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * show must be deferred with a timeout to avoid being affected by an offclick\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.showing = true;\n\t\t\t\tself.position();\n\t\t\t\t/*\n\t\t\t\t * fadeIn is used instead of show() so that the popover\n\t\t\t\t * posistioning is not visible\n\t\t\t\t */\n\t\t\t\tself.element.fadeIn(10);\n\t\t\t\tself._trigger('onShow');\n\t\t\t}, 0);\n\t\t},\n\n\t\thide: function() {\n\t\t\tvar self = this;\n\n\t\t\tif(!self.showing){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.showing = false;\n\n\t\t\tself.element.hide();\n\t\t\tself._trigger('onHide');\n\t\t},\n\n\t\tposition: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\te = self.element,\n\t\t\t\tmy = 'left+' + (o.left - 3) + ' top+' + (o.top + 3),\n\t\t\t\tat = 'left bottom',\n\t\t\t\tcollision = 'flipfit none';\n\n\t\t\tif (o.my) {\n\t\t\t\tmy = o.my;\n\t\t\t}\n\n\t\t\tif (o.at) {\n\t\t\t\tat = o.at;\n\t\t\t}\n\n\t\t\tif (o.collision) {\n\t\t\t\tcollision = o.collision;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\te.position({\n\t\t\t\t\tmy: my,\n\t\t\t\t\tat: at,\n\t\t\t\t\tof: o.target,\n\t\t\t\t\tcollision: collision\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\tdoc.off('mousedown', self.onClick);\n\t\t\twin.off('resize', self.onResize);\n\t\t}\n\t});\n\n})(jQuery);","/**\n * submitButton Widget\n */\n(function($) {\n\t'use strict';\n\n\t/*\n\t * when you catch the submitbuttonsubmit event, you need to call execute\n\t * 'event.data.onComplete' when the processing is done\n\t */\n\t$.widget('formBuilder.submitButton', {\n\t\toptions: {\n\t\t\tcolor: '#000',\n\t\t\tdelay: 10,\n\t\t\tdisabled: false,\n\t\t\twaiting: false,\n\t\t\t// label: undefined, //ignored by create\n\t\t\tpreventDefault: true,\n\t\t\tenterKeyListenerProvider: function() {\n\t\t\t\treturn this.parents('form').first();\n\t\t\t},\n\t\t\tonKeyDown: function (ev) {\n\t\t\t\tif(ev.keyCode === 13 && !$(ev.target).is('textarea')) {\n\t\t\t\t\tthis.submit.call(this, ev);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\tw = e.width(),\n\t\t\t\th = e.height();\n\n\t\t\te.addClass('submitting');\n\n\t\t\tself.getButtonLabel().css('visibility', 'hidden');\n\n\t\t\tself.spinner.appendTo(e).spin({\n\t\t\t\tcolor: o.color,\n\t\t\t\ttop: -h + 4,\n\t\t\t\tleft: -7\n\t\t\t});\n\t\t},\n\n\t\tgetButtonLabel: function () {\n\t\t\treturn this.element.find('.ui-button-text');\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tif(self.destroyed){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.removeClass('submitting');\n\t\t\tself.spinner.spin('stop');\n\t\t\tself.getButtonLabel().css('visibility', 'visible');\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\t\t\tvar e = self.element,\n\t\t\t\tbOptions = {};\n\n\t\t\tif(o.icons) {\n\t\t\t\tbOptions.icons = o.icons;\t// does nothing\n\t\t\t}\n\n\t\t\tif(o.disabled) {\n\t\t\t\tbOptions.disabled = o.disabled;\n\t\t\t}\n\n\t\t\tif(o.text !== undefined){\n\t\t\t\tbOptions.text = o.text;\n\t\t\t}\n\n\t\t\to.label = e.html();\n\t\t\te.button(bOptions).on('click.submitButton', $.proxy(self.submit, self));\n\n\t\t\tself.spinner = $('<div class=\"spinner\" style=\"display: inline-block; position: absolute;\"></div>');\n\t\t\te.append(this.spinner);\n\n\t\t\t// This actually doesn't seem to do anything. The browser will do it automatically\n\t\t\tvar listenerProvider = o.enterKeyListenerProvider;\n\t\t\tif($.isFunction(listenerProvider)) {\n\t\t\t\tvar listener = listenerProvider.call(e);\n\t\t\t\tif(typeof listener !== 'undefined') {\n\t\t\t\t\tlistener.on('keydown.submitButton', $.proxy(o.onKeyDown, self));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsubmit: function(ev) {\n\t\t\tvar self = this;\n\t\t\tvar o = self.options;\n\n\t\t\tif(o.preventDefault && ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t}\n\n\t\t\tif(o.waiting === true || o.disabled === true) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif(!ev) {\n\t\t\t\tev = null;\n\t\t\t}\n\n\t\t\tif(self._trigger('beforesubmit', ev) === false) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\to.waiting = true;\n\t\t\tself._showLoading.call(self);\n\n\t\t\t/*\n\t\t\t * submit clicks are delayed so that the UI can update before\n\t\t\t * doing all of the submit work\n\t\t\t *\n\t\t\t * passes the onComplete callback as the data for this event\n\t\t\t */\n\t\t\tsetTimeout(function() {\n\t\t\t\tself._trigger('submit', ev, function() {\n\t\t\t\t\to.waiting = false;\n\t\t\t\t\tself._hideLoading.call(self);\n\t\t\t\t\tself._trigger('aftersubmit', ev);\n\t\t\t\t});\n\t\t\t}, o.delay);\n\n\t\t\treturn this;\n\t\t},\n\n\t\tenable: function() {\n\t\t\tthis.options.disabled = false;\n\t\t},\n\n\t\tdisable: function() {\n\t\t\tthis.options.disabled = true;\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\te.off('.submitButton');\n\t\t\tself.destroyed = true;\n\t\t}\n\t});\n})(jQuery);","/**\n * formBuilder.textSubmitter widget\n *\n * You can type text then hit enter to trigger a submit event with the data and a callback.\n * Once submitted, the textbox is cleared and ready for new input.\n *\n * A send instruction message appears when focused\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar dict = $.formBuilder.lang.dict;\n\n\t// Converted the lang.sendInstruction to an option with 'press enter to submit' as a default\n\t// Note: this differs from the tms 'press enter to add note'\n\n\t$.widget(\"formBuilder.textSubmitter\", {\n\t\t_textSubmitterTemplate:\n\t\t\t'<div class=\"text-submitter\">' +\n\t\t\t\t'<textarea name=\"text-entry\" rows=\"3\" />' +\n\t\t\t\t'<div class=\"send-instruction noselect\"></div>' +\n\t\t\t'</div>',\n\n\t\toptions: {\n\t\t\twidth: '300px',\n\t\t\tplaceholder: '',\n\t\t\tsendInstruction: dict.defaultSendInstruction,\n\t\t\trows: undefined, // default 3\n\t\t\tignoreEmptySubmit: false\t// submit when empty yes/no\n\t\t},\n\n\t\t_create: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\to = self.options,\n\t\t\t\ttmp;\n\n\t\t\t/**\n\t\t\t * Setup html\n\t\t\t */\n\t\t\tself.container = $(self._textSubmitterTemplate);\n\n\t\t\te.append(self.container);\n\n\t\t\tself.textEntry = e.find('textarea[name=\"text-entry\"]');\n\n\t\t\tif(!isNaN(o.rows)) {\n\t\t\t\tself.textEntry.attr('rows', o.rows);\n\t\t\t}\n\n\t\t\tself.sendInstruction = e.find('.send-instruction').text(o.sendInstruction);\n\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\n\t\t\tself.textEntry.width(o.width).inputField({\n\t\t\t\tplaceholder: o.placeholder,\n\t\t\t\tstatusUpdate: function(ev, data) {\n\t\t\t\t\tif(data.statusName === 'disable'){\n\t\t\t\t\t\tif(data.value === false && self.textEntry.is(':focus')) {\n\t\t\t\t\t\t\t// Just been enabled and still on it\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t\t\t\tself.textEntry.removeAttr('readonly');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Just been disabled\n\t\t\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t\t\t\tself.textEntry.attr('readonly', true); // prevents edits during submit\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.element.width(o.width);\n\n\t\t\t/**\n\t\t\t * Handle events\n\t\t\t */\n\t\t\tself.textEntry\n\t\t\t\t.on('focus',function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'visible');\n\t\t\t\t})\n\t\t\t\t.on('blur', function(){\n\t\t\t\t\tself.sendInstruction.css('visibility', 'hidden');\n\t\t\t\t})\n\t\t\t\t.on('keydown', function (ev) {\n\t\t\t\t\tif (ev.which === 13 && !ev.shiftKey) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tself._submit();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t_submit: function () {\n\t\t\tvar self = this,\n\t\t\t\to = self.options;\n\n\t\t\tif(self.textEntry.inputField('isDisabled') || \n\t\t\t\t(o.ignoreEmptySubmit && self.textEntry.inputField('isEmpty'))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tself.disable();\n\n\t\t\tvar onComplete = function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\tself.clear();\n\t\t\t\t}\n\t\t\t\tself.enable();\n\t\t\t};\n\t\t\tself._trigger('submit', null, {text: self.get(), onComplete: onComplete});\n\t\t},\n\n\t\tset: function (text) {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('set', text);\n\t\t},\n\n\t\tsetInstruction: function(text){\n\t\t\tvar self = this;\n\n\t\t\tself.sendInstruction.text(text);\n\t\t},\n\n\t\tget: function () {\n\t\t\tvar self = this;\n\n\t\t\treturn self.textEntry.inputField('get');\n\t\t},\n\n\t\tclear: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('clear');\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tvar self = this;\n\n\t\t\tself.textEntry.inputField('disable');\n\t\t},\n\n\t\tenable: function () {\n\t\t\tvar self = this;\n\t\t\tself.textEntry.inputField('enable');\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.container.remove();\n\t\t}\n\t});\n\t\n})(jQuery);\n","/*\n * Data Type 'date'\n *\n * Has calendar popup (bootstrap-datepicker)\n *\n * Attribute Settings:\n * data-minyear (default [-=15]) - Can be set to 'CURRENT'\n * data-maxyear (default [+=2]) - Can be set to 'CURRENT'\n * data-startdate (default 01/01/[minyear]) - trumps minyear if both set. Can be set to 'TODAY'\n * data-enddate (default 12/31/[maxyear]) - trumps maxyear if both set. Can be set to 'TODAY'\n * data-enforce-min (default false) - marks dates <startDate as invalid\n * data-enforce-max (default false) - marks dates >endDate as invalid\n */\n\n/*global  moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar util = $.formBuilder.util;\n\tvar lang = $.formBuilder.lang;\n\n\ttypes.text = {};\n\n\ttypes.date = {\n\t\tattributes: ['minyear', 'maxyear', 'startdate', 'enddate','enforceMax','enforceMin'],\n\t\tmomentStoreFormat: 'YYYY-MM-DD',\n\n\t\t_dateFormat: 'MM/DD/YYYY', // for output + datepicker\n\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element,\n\t\t\t\ttmp, startDate, endDate;\n\n\t\t\tui.placeholder(self._dateFormat);\n\n\t\t\tself.enforceMin = !!e.data('enforceMin');\n\t\t\tself.enforceMax = !!e.data('enforceMax');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\t// Determine year ends\n\t\t\tvar minYear = new Date().getFullYear() - 15,\n\t\t\t\tmaxYear = new Date().getFullYear() + 2;\n\n\t\t\ttmp = e.data('minyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tminYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tminYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmp = e.data('maxyear');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'CURRENT') {\n\t\t\t\t\tmaxYear = new Date().getFullYear();\n\t\t\t\t} else {\n\t\t\t\t\tmaxYear = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.startDate = '01/1/' + minYear;\n\t\t\tself.endDate = '12/31/' + maxYear;\n\n\t\t\t// Determine date ends and save for validation\n\n\t\t\ttmp = e.data('startdate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.startDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.startDate = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = e.data('enddate');\n\t\t\tif(tmp !== undefined) {\n\t\t\t\tif(tmp === 'TODAY') {\n\t\t\t\t\tself.endDate = moment().format(self._dateFormat);\n\t\t\t\t} else if(tmp.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\tself.endDate = tmp;\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\n\t\t\t// Setup datepicker\n\t\t\tvar datePickerOptions = {\n\t\t\t\tstartDate: self.startDate, \n\t\t\t\tendDate: self.endDate,\n\t\t\t\tautoclose: true,\n\t\t\t\tforceParse: false,\n\t\t\t\tformat: 'mm/dd/yyyy',\n\t\t\t\ttodayBtn: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tlanguage: lang.code\n\t\t\t};\n\n\t\t\te.datepicker(datePickerOptions);\n\n\t\t\t// Setup inputFilter\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\/]/,\n\t\t\t\tmax : 10,\n\t\t\t\ttoUpper: true\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/*\n\t\t\t * Store date in XSD standard: yyyy-mm-dd, display in dd/mm/yyy \n\t\t\t */\n\t\t\t\n\t\t\t/**\n\t\t\t * yyyy-mm-dd => mm/dd/yyyy\n\t\t\t */\n\t\t\ttoField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn val.substring(5, 7) + '/' + val.substring(8, 10) + '/' + val.substring(0, 4);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * mm/dd/yyyy (local) => yyyy-mm-dd (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}$/)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn val.substring(6, 10) + '-' + val.substring(0, 2) + '-' + val.substring(3, 5);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ui) {\n\t\t\tui.element.datepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\tdate = moment(ui.element.val(),self._dateFormat,true);\n\n\n\t\t\tif(!date.isValid() || \n\t\t\t\t(self.enforceMin && date.isBefore(moment(self.startDate, self._dateFormat))) ||\n\t\t\t\t(self.enforceMax && moment(self.endDate, self._dateFormat).isBefore(date))) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: lang.dict.invalid\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'display'\n *\n * Displays data and acts as a read-only inputField\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\n\ttypes.display = {\n\t\tsetUp: function (ui) {\n\t\t\tvar e = ui.element;\n\n\t\t\te.parents('.field-item').hide();\n\t\t\te.parents('.field-items').append('<div class=\"input-display\"></div>');\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function (val, ui) {\n\t\t\t\tui.element.parents('.field-items').find('.input-display').html(val);\n\t\t\t},\n\t\t\tfromField: function(value, ui) {\n\t\t\t\treturn ui.element.parents('.field-items').find('.input-display').html().trim();\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'money'\n *\n * Attribute Settings:\n * data-currency-symbol (default=$) - Can modify currency symbol to any other symbol\n * data-show-symbol (default=true) - Choose whether or not to show currency symbol \n */\n\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\ttypes.money = {\n\n\t\tattributes: ['currency-symbol', 'show-symbol', 'max-amount', 'min-amount'],\n\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\tself.element = e;\n\n\t\t\tself.currency = e.data('currency-symbol');\n\t\t\tself.showSymbol = e.data('show-symbol');\n\t\t\tself.max = e.data('max-amount');\n\t\t\tself.min = e.data('min-amount');\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9\\.]/\n\t\t\t}).change(function () {\n\t\t\t\tself._onChange();\n\t\t\t}).blur(function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t\tif(self.showSymbol === undefined || !!self.showSymbol)\n\t\t\t{\n\t\t\t\tif(!self.currency) {\n\t\t\t\t\tui.addOn(-100, '$');\n\t\t\t\t} else {\n\t\t\t\t\tui.addOn(-100, self.currency);\n\t\t\t\t}\n\t\t\t}\t\n\n\t\t},\n\t\t_onChange: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tcaret = e.caret();\n\n\t\t\te.val(self.format(e.val())).caret(caret.begin, caret.end);\n\t\t},\n\n\t\tformat: function (money) {\n\t\t\tvar self = this; \n\t\t\tif($.trim(money) === ''){\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttry {\n\t\t\t\t// MISC-916 removed extra decimals that cause NaN\n\t\t\t\tif(isNaN(money)) {\n\t\t\t\t\tmoney = money.toString();\n\t\t\t\t\tvar count = 0; \n\t\t\t\t\tfor(var i = 0; i < money.length; i++){\n\n\t\t\t\t\t\tif((money[i]) === '.'){\n\t\t\t\t\t\tcount++;}\n\t\t\t\t\t}\n\t\t\t\t\tvar dec = money.indexOf('.');\n\t\t\t\t\tif(dec !== -1) {\n\t\t\t\t\t\tmoney = money.replace(/\\./g,'');\n\t\t\t\t\t\tmoney = money.substring(0,dec) + '.' + money.substring(dec);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tmoney = parseFloat(money);\n\t\t\t\t}\n\t\t\t\treturn (+money).toFixed(2);\n\t\t\t} catch(err) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\tif($.trim(val) === ''){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn +this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tvalidate: function(ifw){\n\t\t\tvar self = this; \n\n\t\t\tif(self.max || self.min){\n\t\t\t\tvar e = ifw.element,\n\t\t\t\t\tenteredAmount = +ifw.get();\n\n\t\t\t\tif(self.max && enteredAmount > self.max){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: dict.over\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif(self.min && enteredAmount < self.min){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: dict.under\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t};\t\n\n})(jQuery);","/**\n * Data type 'phone'\n *\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\ttypes.phone = {\n\t\tsetUp: function (ui) {\n\t\t\tvar self = this,\n\t\t\t\te = ui.element;\n\n\t\t\te.inputFilter({\n\t\t\t\tpattern: /[0-9()\\s\\-x]/\n\t\t\t});\n\n\t\t\te.on('blur', function() {\n\t\t\t\te.val(self.format(e.val()));\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\ttoField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t},\n\t\t\tfromField: function(val, ui) {\n\t\t\t\treturn this.format(val);\n\t\t\t}\n\t\t},\n\n\t\tformat: function (text) {\n\n\n\t\t\tif(!text){\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * find extension delimeter\n\t\t\t */\n\t\t\tvar extensionStart = 0,\n\t\t\t\txlocation = text.indexOf('x'),\n\t\t\t\tlastSpace = text.lastIndexOf(' '),\n\t\t\t\text = '',\n\t\t\t\textraExt = '';\n\n\t\t\tif(xlocation > 0){\n\t\t\t\textensionStart = xlocation;\n\t\t\t}else if(lastSpace > 7){\n\t\t\t\textensionStart = lastSpace;\n\t\t\t}\n\n\t\t\tif(extensionStart > 0){\n\t\t\t\text = text.substring(extensionStart + 1);\n\t\t\t\ttext = text.substring(0, extensionStart);\n\t\t\t}\n\n\t\t\tvar num = $.trim(text.replace(/[()\\s\\-]/g, '')),\n\t\t\t\tnumberLength = num.length;\n\n\n\t\t\tif(num[0] === '1'){\n\t\t\t\tnum = num.substring(1);\n\t\t\t\tnumberLength--;\n\t\t\t}\n\n\t\t\tif(numberLength > 10){\n\t\t\t\textraExt = num.substring(10);\n\t\t\t\tnum = num.substring(0, 10);\n\t\t\t\tnumberLength = 10;\n\t\t\t}\n\n\t\t\tif (numberLength === 7) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3);\n\t\t\t} else if (numberLength === 10) {\n\t\t\t\tnum = num.substring(0,3) + '-' + num.substring(3,6) + '-' + num.substring(6);\n\t\t\t}\n\n\t\t\text = extraExt + ext;\n\n\t\t\tnum = num.replace(/[^0-9^x^-]/g, '');\n\t\t\text = ext.replace(/[^0-9^x^-]/g, '');\n\n\t\t\tif(ext){\n\t\t\t\tnum += 'x' + ext;\n\t\t\t}\n\n\t\t\treturn num;\n\t\t},\n\t\tvalidate: function(ui) {\n\t\t\t///^([0-9]{3}-)?[0-9]{3}-[0-9]{4}(x[0-9]+)?$/ simple regex\n\t\t\tif(!ui.element.val().match(/^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/)) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: dict.invalid\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t};\n\t\n\n})(jQuery);","/**\n * Basic Regex data types\n * \n * Types defined:\n *  - utext\n *  - integer\n *  - number\n *  - state\n *  - feid\n *  - zip\n *  - email\n *\n * Type Creator defined:\n *  - createRegexType(pattern, filter, flags, max)\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\tvar cannedFormatters = {\n\t\ttrim: function(val) {\n\t\t\treturn $.trim(val);\n\t\t}\n\t};\n\n\t/*\n\t * helper function to build basic types\n\t */\n\tvar createRegexType = function(pattern, filter, flags, max) {\n\t\tif(flags === undefined) {\n\t\t\tflags = {};\n\t\t}\n\t\tif(flags.toUpper !== false) {\n\t\t\tflags.toUpper = true;\n\t\t}\n\n\t\tvar type = {\n\t\t\tvalidate: function(ui) {\n\t\t\t\tif(!ui.element.val().match(pattern)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: dict.invalid\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(filter || max) {\n\t\t\ttype.setUp = function(ui) {\n\n\t\t\t\tvar filterData = {\n\t\t\t\t\tpattern: filter || /./,\n\t\t\t\t\ttoUpper: flags.toUpper,\n\t\t\t\t\tmax: max || 0\n\t\t\t\t};\n\n\t\t\t\tif(ui.element.attr('data-max')){\n\t\t\t\t\tfilterData.max = ui.element.attr('data-max');\n\t\t\t\t}\n\n\t\t\t\t//console.log('setup ', ui.element.attr('name'), filterData, max);\n\t\t\t\tui.element.inputFilter(filterData);\n\t\t\t};\n\t\t}\n\n\t\tif(flags.cannedFormatter !== undefined) {\n\t\t\tif($.isFunction(cannedFormatters[flags.cannedFormatter])) {\n\t\t\t\ttype.format = cannedFormatters[flags.cannedFormatter];\n\n\t\t\t\t// add converters\n\t\t\t\ttype.converter = {\n\t\t\t\t\ttoField: function (val, ui) { return type.format(val); },\n\t\t\t\t\tfromField: function (val, ui) { return type.format(val); }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t};\n\t$.formBuilder.inputField.createRegexType = createRegexType;\n\n\n\t/*\n\t * basic types\n\t */\n\t$.extend(types, {\n\t\t'utext': createRegexType(/.*/, /.*/, {\n\t\t\ttoUpper: true\n\t\t}),\n\t\t'integer': createRegexType(/^[0-9]*$/, /[0-9]/),\n\t\t'number': createRegexType(/^-?[0-9]+\\.?[0-9]*$/, /[-0-9.]/),\n\t\t'state': createRegexType(/^[A-Z]{2}$/, /[A-Z]/, {}, 2),\n\t\t'feid': createRegexType(/^[0-9]{2}\\-?[0-9]{7}$/, /[0-9\\-]/, {}, 10),\n\t\t'zip': createRegexType(/(^\\d{5}(\\-?\\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\\d{1}[A-Z]{1} ?\\d{1}[A-Za]{1}\\d{1})$/, /[0-9A-Z\\s\\-]/, {}, 10),\n\t\t'email': createRegexType(/^(?!.*\\.{2})[A-Za-z0-9._%+\\-]+@[A-Za-z0-9.\\-]+\\.[A-Za-z]{2,4}$/, /[A-Za-z0-9._%+\\-@]/, {\n\t\t\ttoUpper: false,\n\t\t\tcannedFormatter: 'trim'\n\t\t})\n\t});\n\t\n\n})(jQuery);","/**\n * Datatype 'select'\n * \n */\n\n(function($) {\n\t'use strict';\n\t\n\tvar doc = $(document);\n\t$.formBuilder.inputField.types.select = {\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this, // Object = {}\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\t\t\tself.source = [];\n\t\t\tself.inputWidget = inputWidget;\n\n\t\t\tvar fieldGroup = self.fieldGroup = inputWidget.field.parents('.input-field-group');\n\n\t\t\tif(e.is('select')){\n\t\t\t\tconsole.log('** ERROR: deprecated use of <select> in the select type **');\n\t\t\t}\n\n\t\t\te.css('opacity', 0);\n\n\t\t\t/*\n\t\t\t * width(inputWidget.layers.items.width() - 26).\n\t\t\t */\n\t\t\tvar shim = self.shim = $('<div class=\"shim\"></div>').insertAfter(e);\n\n\t\t\tinputWidget.field.addClass('select-box');\n\n\t\t\tself.iconClosed = $('<span class=\"fb-icon fb-icon-sort-down dropdown-closed-icon\"></span>').insertAfter(e);\n\t\t\tself.iconOpen = $('<span class=\"fb-icon fb-icon-sort-up dropdown-open-icon\"></span>').insertAfter(e).hide();\n\t\t\t\n\n\n\t\t\t/*\n\t\t\tself.iconClear = $('<span class=\"fb-icon fb-icon-erase clear-icon\"></span>').insertAfter(shim).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tev.preventDefault();\n\t\t\t\tself.clear();\n\t\t\t\te.change();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t*/\n\t\t\tvar panel = self.panel = $('<div class=\"fb-select-panel\"><div class=\"tms-select-dropdown-content\"><div class=\"search\" style=\"position:relative;\"/><div class=\"options\" style=\"position:relative;\"/></div></div>').hide();\n\t\t\tself.options = panel.find('.options');\n\n\t\t\tinputWidget.layers.items.append(panel).css('position', 'relative');\n\n\t\t\tvar selectionClass = self.sectionClass =  'selected';\n\n\t\t\tpanel.on('click', '.option', function () {\n\t\t\t\tself._setSelected();\n\t\t\t}).on('mouseenter', '.option', function () {\n\t\t\t\tpanel.find('.' + selectionClass).removeClass(selectionClass);\n\t\t\t\t$(this).addClass(selectionClass);\n\t\t\t}).on('mouseleave', '.option', function () {\n\t\t\t\t$(this).removeClass(selectionClass);\n\t\t\t});\n\n\t\t\tinputWidget.layers.items.on('click', function (ev) {\n\t\t\t\tif (inputWidget.states.disable) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(target.childOf(panel, true)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * stop all enter and esc key events to leave the field\n\t\t\t */\n\t\t\t/*\n\t\t\tinputWidget.field.on('keydown', function (ev) {\n\n\t\t\t\tif(ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tself._setSelected();\n\t\t\t\t}\n\n\n\t\t\t\tif(ev.which === 27 || ev.which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tself.element.focus();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t*/\n\n\t\t\t/*\n\t\t\t * build filter input\n\t\t\t */\n\t\t\tvar filter = self.filter = $('<input type=\"text\" class=\"filter-box\"/>')\n\t\t\t\t.appendTo(panel.find('.search')).inputField();\n\n\t\t\tfilter.after('<span class=\"fb-icon fb-icon-search\"></span>');\n\t\t\tfilter.parents('.field-item').first().addClass('first');\n\n\t\t\tfilter.parent().css({\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tpaddingRight: '2em'\n\t\t\t\t})\n\t\t\t\t.parent().css('display', 'block')\n\t\t\t\t.parent().css('display', 'block');\n\t\t\t/*\n\t\t\t * kill click event, to prevent the inputField from grabbing focus\n\t\t\t */\n\n\t\t\tfilter.on('click', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * down 40\n\t\t\t * up 39\n\t\t\t * left 37\n\t\t\t * right 39\n\t\t\t */\n\n\n\t\t\te.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keydown', $.proxy(self._keyDownNavigate, self));\n\t\t\tfilter.on('keyup', $.proxy(self._onKeyup, self));\n\n\t\t\tfilter.on('dirty clean', function (ev) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\n\t\t\tself.closeListener = function (ev) {\n\t\t\t\tvar which = ev.which;\n\t\t\t\t/*\n\t\t\t\tif(ev.which === 9){\n\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif(which === 27 || which === 13){\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\tif(which === 13){\n\t\t\t\t\t\tself._setSelected();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar target = $(ev.target);\n\n\t\t\t\tif(!target.childOf(panel, true) && !target.childOf(fieldGroup, true)){\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.update();\n\t\t},\n\n\t\t_keyDownNavigate: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tselectionClass = self.sectionClass,\n\t\t\t\twhich = ev.which;\n\n\t\t\t/*\n\t\t\t * special handling for tab, does not perform any function (keeping for legacy)\n\t\t\t */\n\t\t\tif(which === 9){\n\t\t\t\tself.element.next('input').focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tif(which === 27 || which === 13){\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar selected, next;\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 40){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:first').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.next();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * move down\n\t\t\t */\n\t\t\tif(which === 38){\n\t\t\t\tselected = panel.find('.' + selectionClass);\n\n\t\t\t\tif(!selected.length){\n\t\t\t\t\tpanel.find('.option:last').addClass(selectionClass);\n\t\t\t\t}else{\n\t\t\t\t\tnext = selected.prev();\n\t\t\t\t\tif(next.length){\n\t\t\t\t\t\tnext.addClass(selectionClass);\n\t\t\t\t\t\tselected.removeClass(selectionClass);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tself._scroll();\n\t\t\t}\n\n\t\t\tif(which < 32 || which > 126){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.open();\n\t\t},\n\n\t\t_onKeyup: function (ev) {\n\t\t\tvar self = this,\n\t\t\t\tfilter = self.filter,\n\t\t\t\twhich = ev.which,\n\t\t\t\tval = filter.val();\n\n\t\t\tif(self.filterValue === val){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = val;\n\n\n\t\t\tself._filterOptions();\n\t\t},\n\n\t\t_setSelected: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\t/*\n\t\t\t * use the first value if none of the options are selected\n\t\t\t */\n\t\t\tif(!selected.length){\n\t\t\t\tself._selectFirstNonEmptyOption();\n\t\t\t}\n\n\t\t\tselected = self.panel.find('.selected:not(.filtered):visible');\n\n\t\t\tvar item = self.item = selected.data('item');\n\t\t\t/*\n\t\t\t * TMS-1137\n\t\t\t * if nothing is selected, ignore this call\n\t\t\t */\n\t\t\tif(!item){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._setLabel(self.renderLabel(item));\n\n\t\t\tself.close();\n\t\t\te.val(self.item.value);\n\n\t\t\te.focus();\n\t\t\te.change();\n\t\t\tself.inputWidget.redraw();\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\t_selectFirstNonEmptyOption: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.find('.option:not(.filtered):visible').each(function () {\n\t\t\t\tvar option = $(this);\n\t\t\t\tif(option.html()){\n\t\t\t\t\toption.addClass('selected');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_set: function (val) {\n\t\t\tvar self = this;\n\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\n\t\t\tself.item = undefined;\n\n\t\t\tself.loaded.done(function () {\n\t\t\t\tself._removeSelection();\n\t\t\t\tvar options = self.panel.find('.option');\n\n\t\t\t\toptions.each(function () {\n\t\t\t\t\tvar item = $(this),\n\t\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\t\tif(self._equal(itemData, val)){\n\t\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\t\tself.item = itemData;\n\t\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!self.item || !self.item.value){\n\t\t\t\t\tif(self.inputWidget._trigger('itemnotfound', null, [val])){\n\t\t\t\t\t\tself._handleItemNotFound();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_removeSelection: function () {\n\t\t\tthis.panel.find('.option.selected').removeClass('selected');\n\t\t},\n\n\t\t_handleItemNotFound: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\t\t\t\n\t\t\tself._setDefaultItem();\n\n\t\t\tif(!self.item || !self.item.value){\n\t\t\t\tself._selectFirstItem();\n\t\t\t}\n\t\t},\n\n\t\t_setDefaultItem: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option'),\n\t\t\t\tdefaultValue =  { value: e.attr('data-default')};\n\n\t\t\toptions.each(function () {\n\t\t\t\tvar item = $(this),\n\t\t\t\t\titemData = item.data('item');\n\n\t\t\t\tif(self._equal(itemData, defaultValue)){\n\t\t\t\t\tif(e.attr('name') === 'params.category'){\n\t\t\t\t\t\tconsole.log('found defaultValue', defaultValue, itemData);\n\t\t\t\t\t}\n\t\t\t\t\titem.addClass('selected');\n\t\t\t\t\tself.item = itemData;\n\t\t\t\t\tself._setLabel(itemData.label);\n\t\t\t\t\tself.showHideCommand();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_selectFirstItem: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\toptions = self.panel.find('.option');\n\n\t\t\tself.item = options.first().addClass('selected').data('item');\n\t\n\t\t\tif(self.item && self.item.label) {\n\t\t\t\tself._setLabel(self.item.label);\n\t\t\t} else {\n\t\t\t\tself._setLabel('');\n\t\t\t}\n\n\t\t\tself.showHideCommand();\n\t\t},\n\n\t\tshowHideCommand: function () {\n\t\t\tvar self = this,\n\t\t\t\tshowClass = self.item && self.item.showClass,\n\t\t\t\tsections = self.showHideSections;\n\n\t\t\tif(!sections){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.hide();\n\n\t\t\tif(!showClass){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsections.filter('.' + showClass).show();\n\t\t},\n\n\t\tclear: function (andSelectNothing) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\tself.item = {};\n\t\t\tself.panel.find('.selected').removeClass('selected');\n\t\t\te.val('');\n\t\t\tself.filter.val('');\n\t\t\tself.filterValue = '';\n\t\t\tself.shim.text('');\n\n\t\t\tif(!andSelectNothing) {\n\t\t\t\tself._handleItemNotFound();\n\t\t\t}\n\n\t\t\tself.inputWidget.redraw();\n\t\t},\n\n\t\t_equal: function (a, b) {\n\t\t\treturn a && b && a.value === b.value;\n\t\t},\n\n\t\t_setLabel: function (text) {\n\t\t\tvar self = this;\n\n\t\t\tself.shim.text(text);\n\n\t\t\t// Account for overlap (only needs to do this once)\n\t\t\tif(!self.shimWidthSet) {\n\t\t\t\tvar paddingRight, eWidth;\n\n\t\t\t\tpaddingRight = parseFloat(self.iconClosed.outerWidth(true)) + parseFloat(self.iconClosed.css('right'))*2;\n\t\t\t\teWidth = parseFloat(self.element.width());\n\t\t\t\tself.shim.css('max-width', eWidth - paddingRight);\n\n\t\t\t\tself.shimWidthSet = true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t},\n\n\t\t/*\n\t\t * used for testing\n\t\t */\n\t\t_getLabel: function () {\n\t\t\treturn this.shim.text();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tvar self = this;\n\t\t\tif(self.panel.is(':visible')){\n\t\t\t\tself.close();\n\t\t\t}else{\n\t\t\t\tself.open();\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * this options was built for testing\n\t\t */\n\t\tgetOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\toptionPanel = self.panel.find('.option'),\n\t\t\t\toptions = [];\n\n\t\t\toptionPanel.each(function () {\n\t\t\t\toptions.push($(this).data('item'));\n\t\t\t});\n\n\t\t\treturn options;\n\t\t},\n\n\t\t_filterOptions: function () {\n\t\t\tvar self = this;\n\t\t\tself._removeSelection();\n\t\t\tself.panel.addClass('filtering');\n\t\t\tif(self.filterTimer){\n\t\t\t\tclearTimeout(self.filterTimer);\n\t\t\t}\n\t\t\tself.filterTimer = setTimeout(function() {\n\t\t\t\tself.__filterOptionsWork();\n\t\t\t}, 200);\n\t\t},\n\n\t\t__filterOptionsWork: function (optionsElements) {\n\t\t\tvar self = this,\n\t\t\t\tval = self.filterValue;\n\t\t\t/*\n\t\t\tif(val && item.label && item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/\n\n\t\t\tself.panel.addClass('filtering');\n\n\t\t\tif(!optionsElements){\n\t\t\t\toptionsElements = self.panel.find('.option');\n\t\t\t}\n\t\t\t\n\t\t\tif(!optionsElements.length){\n\t\t\t\tself.panel.removeClass('filtering');\n\t\t\t\tself.inputWidget._trigger('filterdone');\n\n\t\t\t\t// Update option list spacer\n\t\t\t\tvar margin = (self.panel.find('.option').not('.filtered').length > 0)? self.panel.children().css('padding-top') : 0;\n\t\t\t\tself.filter.inputField('getField').css('margin-bottom', margin);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar optionsToProcessNow = optionsElements.splice(0,1000);\n\n\t\t\t$.each(optionsToProcessNow, function (i, optionsEl) {\n\t\t\t\tself._filterItem($(optionsEl), val);\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.__filterOptionsWork(optionsElements);\n\t\t\t}, 0);\n\t\t},\n\n\t\t_filterItem: function (optionEl, val) {\n\t\t\tvar self = this,\n\t\t\t\titem = optionEl.data('item');\n\n\t\t\tif(self._itemShoudBeFiltered(item, val)){\n\t\t\t\toptionEl.addClass('filtered');\n\t\t\t}else{\t\t\t\n\t\t\t\toptionEl.removeClass('filtered');\n\t\t\t}\n\t\t},\n\n\t\t_itemShoudBeFiltered: function (item, val) {\n\t\t\tif(!val){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(!item.label){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn item.label.match(new RegExp($.ui.autocomplete.escapeRegex(val), 'i')) === null;\n\t\t},\n\n\t\t_clearFilter: function () {\n\t\t\tvar self = this;\n\t\t\tself.filter.val('');\n\t\t\tself.panel.find('.option.filtered').removeClass('filtered');\n\t\t},\n\n\t\t_buildEmptyOption: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\temptyLabel = e.data('emptyLabel');\n\n\t\t\tif(emptyLabel !== '' && !emptyLabel){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.source.unshift({\n\t\t\t\tlabel: emptyLabel,\n\t\t\t\tvalue: ''\n\t\t\t});\n\t\t},\n\n\t\t_buildOptions: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\toptions = self.options;\n\n\t\t\tself.element.trigger('tmsselectbeforebuild');\n\n\t\t\toptions.empty();\n\n\t\t\tvar optionsbuffer = $('<div/>');\n\n\t\t\tif (!e.data('noSort')) {\n\t\t\t\tself._sort(self.source);\n\t\t\t}\n\n\t\t\tself._buildEmptyOption();\n\n\t\t\t$.each(self.source, function (i, item) {\n\t\t\t\t\n\t\t\t\tvar option = $('<div class=\"option\"/>'),\n\t\t\t\t\trenderedItem = self.renderItem(item);\n\n\t\t\t\tif(renderedItem !== null){\n\t\t\t\t\toption.append(renderedItem).data('item', item);\n\t\t\t\t\toptionsbuffer.append(option);\n\t\t\t\t}\n\n\t\t\t\tif(renderedItem === ''){\n\t\t\t\t\toption.height(20);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.append(optionsbuffer);\n\t\t\tself.element.trigger('tmsselectafterbuild', [options]);\n\t\t},\n\n\t\t_sort: function (items) {\n\t\t\titems.sort(function (a, b) {\n\t\t\t\tif (!a || !b) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar al = a.label.toLowerCase(), bl = b.label.toLowerCase();\n\t\t\t\treturn al > bl ? 1 : al < bl ? -1 : a.label > b.label ? 1 : a.label < b.label ? -1 : 0;\n\t\t\t});\n\t\t},\n\n\t\t_scroll: function () {\n\t\t\tvar self = this,\n\t\t\t\toptions = self.options;\n\n\t\t\tif(!self.panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tvar selected = self.panel.find('.selected');\n\n\t\t\t\tif(selected.length === 0){\n\t\t\t\t\toptions.scrollTop(0);\n\t\t\t\t}else{\n\t\t\t\t\toptions.scrollTop(selected.position().top - selected.before().outerHeight());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}, 0);\n\n\n\t\t\t/*\n\t\t\tsetTimeout(function() {\n\t\t\t\tpanel.find('.options').scrollTop(0);\n\t\t\t}, 0);\n\t\t\t*/\n\t\t},\n\n\t\topen: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tinputLayer = self.inputWidget.layers.input,\n\t\t\t\titemsLayer = self.inputWidget.layers.items;\n\n\n\t\t\tif(panel.is(':visible')){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.filterValue = '';\n\n\t\t\tdoc.on('click keyup', self.closeListener);\n\n\t\t\tvar leftOffset = 0;\n\t\t\tif(inputLayer.index()){\n\t\t\t\tleftOffset = inputLayer.position().left - 1;\n\t\t\t}\n\n\t\t\tpanel.width(e.width()).css({\n\t\t\t\tleft: leftOffset,\n\t\t\t\ttop: (itemsLayer.height() - 1) + 'px',\n\t\t\t\twidth: (e.outerWidth() ) + 'px'\n\t\t\t});\n\n\t\t\tself.iconClosed.hide();\n\t\t\tself.iconOpen.show();\n\t\t\tpanel.show();\n\n\t\t\t// update options margin\n\t\t\tvar margin = self.panel.children().css('padding-top');\n\t\t\tself.filter.inputField('getField').css('margin-bottom', margin);\n\n\t\t\tself.filter.focus();\n\n\t\t\tself._scroll();\n\t\t},\n\n\t\trenderLabel: function (item) {\n\t\t\treturn (item && item.label) || '';\n\t\t},\n\n\t\trenderItem: function (item) {\n\t\t\treturn item.label;\n\t\t},\n\n\t\tclose: function () {\n\t\t\tvar self = this,\n\t\t\t\tpanel = self.panel,\n\t\t\t\tfilter = self.filter;\n\n\t\t\tdoc.off('click keyup', self.closeListener);\n\t\t\tpanel.hide();\n\n\t\t\tself._clearFilter();\n\n\t\t\tself.iconClosed.show();\n\t\t\tself.iconOpen.hide();\n\t\t},\n\n\t\tupdate: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element;\n\n\t\t\t// Clear any selected option \n\t\t\tself.clear(true);\n\n\t\t\t// Setup the new options \n\t\t\tself.loaded = $.Deferred();\n\t\t\tself.load().done(function (source) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = [];\n\t\t\t\t}\n\t\t\t\tself.source = source;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.removeInvalid();\n\t\t\t\t}, 0);\n\n\t\t\t\tself._buildOptions();\n\n\t\t\t\t/*\n\t\t\t\t * hide the filter if less then five items are returned\n\t\t\t\t */\n\t\t\t\tif (self.filter && self.filter.data('inputField')) {\n\t\t\t\t\tif(source.length < 5){\n\t\t\t\t\t\tself.filter.inputField('hide');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.filter.inputField('show');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * scan for showClass commands\n\t\t\t\t */\n\t\t\t\tvar form, sections = $([]);\n\n\t\t\t\t$.each(source, function (i, item) {\n\t\t\t\t\tif(item.showClass){\n\t\t\t\t\t\tif(!form){\n\t\t\t\t\t\t\tform = e.parents(':formBuilder-formBuilder').first();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsections = sections.add(form.find('.' + item.showClass));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.showHideSections = sections;\n\t\t\t\tself.loaded.resolve();\n\t\t\t\tself.showHideCommand();\n\t\t\t});\n\t\t\treturn self.loaded;\n\t\t},\n\n\t\tremoveInvalid: function (ev, ui) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element, \n\t\t\t\tval = e.val(),\n\t\t\t\tsource = self.source, \n\t\t\t\tl = source.length, \n\t\t\t\ti; \n\n\t\t\t/*\n\t\t\t * if ui.item is set, the autocomplete just set this\n\t\t\t * and it does not need to be checked\n\t\t\t */\n\t\t\tif(ui && ui.item){\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t/*\n\t\t\t * verify that the current self.item matches an id in the source and that the label matches\n\t\t\t */\n\t\t\tfor(i = 0; i < l; i++){\n\t\t\t\tif(source[i].label === val && self.item && self.item.value === source[i].value){\n\t\t\t\t\tself.item = source[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\te.val('');\n\t\t},\n\n\t\tsetOptions: function(options) {\n\t\t\tvar self = this;\n\n\t\t\tself.optionsMap = options;\n\t\t\tself.optionsSetDynamically = true;\n\t\t\tself.update();\n\t\t},\n\t\t/*\n\t\t * returns a sorted array of objects that have value and label properties\n\t\t */\n\t\tload: function () {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tsource = [],\n\t\t\t\tdataOptions;\n\n\t\t\tif(self.optionsSetDynamically) {\n\t\t\t\t// Options already loaded from setOptions\n\t\t\t\tself.optionsSetDynamically = false;\n\t\t\t\treturn $.when(self.optionsMap);\n\t\t\t}\n\n\t\t\t// Load options from DOM\n\t\t\tdataOptions = e.attr('data-options');\n\n\t\t\tif(dataOptions) {\n\t\t\t\tsource = $.parseJSON(dataOptions);\n\t\t\t} else {\n\t\t\t\te.find('option').each(function () {\n\t\t\t\t\tvar option = $(this);\n\t\t\t\t\tsource.push({\n\t\t\t\t\t\tlabel: option.text(),\n\t\t\t\t\t\tvalue: option.val()\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn $.when(source); // returns a promise object\n\t\t},\n\n\t\tmap: function (raw) {\n\t\t\treturn {\n\t\t\t\tlabel: raw,\n\t\t\t\tvalue: raw\n\t\t\t};\n\t\t},\n\n\t\tdeMap: function (obj) {\n\t\t\tif(!obj){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn obj.value || null;\n\t\t},\n\n\t\tisEmpty: function () {\n\t\t\tvar self = this,\n\t\t\t\tdata = self.deMap(self.item);\n\n\t\t\treturn data !== 0 && !data;\n\t\t},\n\n\t\tconverter: {\n\n\t\t\tfromField: function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tdata = self.item;\n\t\t\t\tif(data === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar val = self.deMap(data);\n\n\t\t\t\tif(val === undefined){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\ttoField: function (rawdata) {\n\t\t\t\tvar self = this,\n\t\t\t\t\te = self.element,\n\t\t\t\t\tdata = self.map(rawdata);\n\n\t\t\t\tif(!rawdata && typeof e.data('default') !== 'undefined') {\n\t\t\t\t\tdata = self.map(e.data('default'));\n\t\t\t\t}\n\n\t\t\t\tif (!data) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself._set(data);\n\n\t\t\t\tif (!self.item) {\n\t\t\t\t\tself.clear();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn self.item.label;\n\t\t\t}\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data type 'text'\n *\n * This is the default type and has no special features.\n */\n\n\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\n\ttypes.text = {};\t\n\n})(jQuery);","/**\n * Data Type 'time'\n *\n * Has a dropdown with shortcuts.\n *\n * Attribute Settings:\n * data-step (default=30) - Minute increment between times in dropdown\n * data-military - Converts time into 24-hour\n * data-store-utc (default true) - keeps set/get in utc time zone format, rather than local.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\ttypes.time = {\n\t\tattributes: ['step', 'military','storeUtc'],\n\t\tmomentStoreFormat: 'HH:mm',\n\n\t\t_regex: /^((0[0-9])|([0-9])|(1[0-2])):([0-5][0-9])((am)|(pm))$/,\n\t\t_regex2400: /^(([01]?[0-9])|(2[0-3])):[0-5][0-9]$/,\n\n\t\tsetUp: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element;\n\n\t\t\tself.military = !!e.data('military');\n\t\t\tself.step = e.data('step');\n\t\t\tself.storeUtc = e.data('storeUtc');\n\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tif(!self.military)\n\t\t\t{\n\t\t\t\tifw.placeholder('H:MMam/pm');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:apm]/,\n\t\t\t\t\tmax: 7\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tifw.placeholder('HH:MM');\n\n\t\t\t\te.inputFilter({\n\t\t\t\t\tpattern: /[0-9:]/,\n\t\t\t\t\tmax: 5\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\n\t\t\te.timepicker({\n\t\t\t\tappendTo: ifw.getField(),\n\t\t\t\tselectOnBlur: false,\n\t\t\t\tstep: self.step, //default is 30 and will be set if undefined\n\t\t\t\ttimeFormat: self.military?'H:i':'g:ia'\n\t\t\t});\n\n\t\t\t// Make sure the timepicker width matches the field width\n\t\t\te.on('showTimepicker', function(){\n\t\t\t\tvar newWidth = e.outerWidth();\n\t\t\t\tif(newWidth < 80) {\n\t\t\t\t\tnewWidth = 80;\n\t\t\t\t}\n\t\t\t\tifw.getField().children('.ui-timepicker-wrapper').width(newWidth);\n\t\t\t});\n\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * convert from moment format HH:mm (utc) to h:mma (local)\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\n\t\t\t\tif(!val || !val.match(/^[0-9]{2}:[0-9]{2}$/)){\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\ttime = moment.utc(val, self.momentStoreFormat, true);\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert utc back to local for display\n\t\t\t\t\ttime.local();\n\t\t\t\t}\n\n\t\t\t\treturn time.format(self.military? 'H:mm' : 'h:mma');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * convert from moment format h:mma (local) to HH:mm (utc)\n\t\t\t */\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\ttime;\n\t\t\t\t\n\t\t\t\tif(!val || !val.match(self.military? self._regex2400 : self._regex)) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\n\t\t\t\ttime = moment(val, self.military? 'H:mm' : 'h:mma').milliseconds(0);\n\n\t\t\t\tif(!time.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t// Convert to utc for storage\n\t\t\t\t\ttime.utc();\n\t\t\t\t}\n\n\t\t\t\t// Return in 24hr format\n\t\t\t\treturn time.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tifw.element.timepicker('remove');\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\te = ifw.element,\n\t\t\t\tval = e.val(),\n\t\t\t\tinvalidMessage = {message: dict.invalid},\n\t\t\t\tvalid;\n\n\t\t\tvalid = self.military? val.match(self._regex2400) : val.match(self._regex);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn invalidMessage;\n\t\t\t}\n\n\t\t}\n\t};\n\n})(jQuery);","/**\n * Data Type 'tmsQuantityUnit'\n * \n * For general unit input with some autocompletes\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\t// manually converted them to strings b/c of a strange jqueryui error\n\tvar units = [\n\t\t''+dict.MI,\n\t\t''+dict.KM,\n\t\t''+dict.HR,\n\t\t''+dict.MIN,\n\t\t''+dict.DAYS,\n\t\t''+dict.PKGS\n\t];\n\n\ttypes.tmsQuantityUnit = {\n\t\tsetUp: function(ui) {\n\t\t\tvar self = this,\n\t\t\t\to = ui.options,\n\t\t\t\te = ui.element;\n\n\t\t\tself.e = e;\n\n\t\t\te.inputFilter({\n\t\t\t\ttoUpper: true,\n\t\t\t\tpattern: /./\n\t\t\t});\n\n\t\t\te.autocomplete({\n\t\t\t\tminLength: 0,\n\t\t\t\tautoFocus: false,\n\t\t\t\tappendTo: ui.getField(),\n\t\t\t\tposition: {\n\t\t\t\t\tmy: \"left top+6\", // may be theme dependent\n\t\t\t\t\tat: \"left bottom\",\n\t\t\t\t\tof: e,\n\t\t\t\t\tcollision: \"none\"\n\t\t\t\t},\n\n\t\t\t\tsource: units\n\t\t\t});\n\t\t}\n\t};\n\t\n})(jQuery);\n","/**\n * Data Type 'dateTime'\n * \n * A combination of two InputFields, date & time.\n *\n * The original inputfield is hidden between them.\n *\n * Format: 'YYYY-MM-DDTHH:mm:ssZ' in UTC\n *\n * Attribute Settings:\n * data-time-width-ratio (default=0.5, min=.2, max=.8) \n * data-store-utc (default true) keeps set/get in utc time zone format, rather than local.\n *\n * CSS Settings:\n * min-width (default=270px, min=100px)\n *\n * Attributes specific for date or time will be passed to them.\n */\n\n/* global moment:true */\n(function($){\n\t'use strict';\n\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\ttypes.dateTime = {\n\t\tmomentStoreFormat: 'YYYY-MM-DDTHH:mm:ss[Z]',\n\n\n\t\tsetUp: function(inputFieldWidgetInstance) {\n\t\t\tvar self = this,\n\t\t\t\te = inputFieldWidgetInstance.element;\n\n\n\t\t\t// Get option constants\n\t\t\tself.storeUtc = e.data('storeUtc');\n\t\t\tif(self.storeUtc === undefined) {\n\t\t\t\tself.storeUtc = true;\n\t\t\t} else {\n\t\t\t\tself.storeUtc = !!self.storeUtc;\n\t\t\t}\n\n\t\t\tself.ifw = inputFieldWidgetInstance;\n\n\t\t\tself._setUpFields();\n\t\t\tself._refreshFieldWidth();\n\t\t\tself._setUpCleanDirtyEvents();\n\n\t\t\tself.ifw.element.on('resize', function(ev){\n\t\t\t\tself._refreshFieldWidth();\n\t\t\t});\n\t\t},\n\n\t\t_setUpFields: function() {\n\t\t\tvar self = this,\n\t\t\t\te = self.ifw.element,\n\t\t\t\tfieldItems = self.ifw.element.parent().parent(),\n\t\t\t\toptions, tmp, i;\n\n\t\t\tself.ifw.element.parent().hide();\n\n\t\t\t// Create the elements\n\t\t\tself.dateWidget = $('<input type=\"text\" data-type=\"date\"/>');\n\t\t\tself.timeWidget = $('<input type=\"text\" data-type=\"time\"/>');\n\n\t\t\t// Pass date attributes\n\t\t\tfor(i = 0; i < types.date.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.date.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.dateWidget.data(types.date.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Pass time attributes\n\t\t\tfor(i = 0; i < types.time.attributes.length; ++i) {\n\t\t\t\ttmp = e.data(types.time.attributes[i]);\n\t\t\t\tif(tmp !== undefined) {\n\t\t\t\t\tself.timeWidget.data(types.time.attributes[i], tmp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions = {\n\t\t\t\trequire: true\n\t\t\t};\n\n\t\t\t// Create the widgets\n\t\t\tself.dateWidget.prependTo(fieldItems).inputField(options);\n\t\t\tself.timeWidget.appendTo(fieldItems).inputField(options);\n\n\t\t\tself.dateWidget.parent().addClass('first');\n\n\t\t\tself.timeWidgetInstance = self.timeWidget.data('formBuilderInputField');\n\t\t\tself.dateWidgetInstance = self.dateWidget.data('formBuilderInputField');\n\t\t},\n\n\t\t/**\n\t\t * Make sure the child widgets' total width is equal to the base element's width\n\t\t */\n\t\t_refreshFieldWidth: function() {\n\t\t\tvar self = this,\n\t\t\t\tfullWidth = self.ifw.element.width(),\n\t\t\t\telDate = self.dateWidget,\n\t\t\t\telTime = self.timeWidget,\n\t\t\t\ttimeWidthRatio,\n\t\t\t\tminWidth;\n\t\t\t\t\t\n\t\t\t\t// Take out widghet margins/padding from outer width\n\t\t\t\tfullWidth -= elDate.outerWidth(true) - elDate.width();\n\t\t\t\tfullWidth -= elTime.outerWidth(true) - elTime.width();\n\t\t\t\t\n\t\t\t\t// Prevent it from being too small\n\t\t\t\tminWidth = self.ifw.element.css('min-width');\n\t\t\t\tif(minWidth !== null) {\n\t\t\t\t\tminWidth = parseInt(minWidth, 10);\n\t\t\t\t}\n\t\t\t\tif(isNaN(minWidth) || minWidth < 100) {\n\t\t\t\t\tminWidth = 270; //default\n\t\t\t\t}\n\n\t\t\t\tif(fullWidth < minWidth) {\n\t\t\t\t\tfullWidth = minWidth;\n\t\t\t\t}\n\n\t\t\t\t// Set time width at ratio and give the rest to date\n\t\t\t\ttimeWidthRatio = self.ifw.element.data('timeWidthRatio');\n\t\t\t\tif(isNaN(timeWidthRatio) || timeWidthRatio < 0.2 || 0.8 < timeWidthRatio) {\n\t\t\t\t\ttimeWidthRatio = 0.5; //default\n\t\t\t\t}\n\n\t\t\t\telTime.width(fullWidth * timeWidthRatio);\n\t\t\t\telDate.width(fullWidth - elTime.width());\n\t\t},\n\n\t\t_setUpCleanDirtyEvents: function() {\n\t\t\tvar self = this;\t\n\n\t\t\tself.dateWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\n\t\t\tself.timeWidget.on('dirty clean', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tself.ifw.checkDirty();\n\t\t\t});\n\t\t},\n\n\t\tconverter: {\n\t\t\t/**\n\t\t\t * No need to worry about utc/local. Handled in type time.\n\t\t\t * All retrived/set times should be in utc\n\t\t\t *\n\t\t\t * Seconds are included in the formatting but are ignored and \n\t\t\t * always set to 00\n\t\t\t */\n\t\t\ttoField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tsplitDate = self._splitDateAndTime(val);\n\n\n\t\t\t\tself.timeWidgetInstance.set(splitDate.time);\n\t\t\t\tself.dateWidgetInstance.set(splitDate.date);\n\t\t\t}, \n\t\t\t\n\t\t\tfromField: function(val, ifw) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tlocalDate = self.dateWidgetInstance.get(),\n\t\t\t\t\ttime = self.timeWidgetInstance.get(),\n\t\t\t\t\tdateTime;\n\n\t\t\t\t// If one is empty just default to current time\n\t\t\t\tif(!localDate.trim() || !time.trim()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!localDate.trim()) {\n\t\t\t\t\tlocalDate = moment();\n\t\t\t\t} else {\n\t\t\t\t\t// Convert them to moments\n\t\t\t\t\tlocalDate = moment(localDate, types.date.momentStoreFormat);\n\t\t\t\t}\n\n\t\t\t\tif(!time.trim()) {\n\t\t\t\t\ttime.moment();\n\t\t\t\t\t\n\t\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t\ttime.utc();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\t\t// Parse as UTC and localize\n\t\t\t\t\t\ttime = moment.utc(time, types.time.momentStoreFormat).local();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Parse as local\n\t\t\t\t\t\ttime = moment(time, types.time.momentStoreFormat);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Combine them\n\t\t\t\tdateTime = self._joinDateAndTimeMoments(localDate,time);\n\n\t\t\t\tif(self.storeUtc) {\n\t\t\t\t\tdateTime.utc();\n\t\t\t\t}\n\n\t\t\t\tif(!dateTime.isValid()) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\treturn dateTime.format(self.momentStoreFormat);\n\t\t\t}\n\t\t},\n\n\t\t_splitDateAndTime: function (dateTimeString) {\n\t\t\tvar self = this,\n\t\t\t\tdateTime,\n\t\t\t\tresult = {};\n\t\t\t\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// Parse as UTC\n\t\t\t\tdateTime = moment.utc(dateTimeString, self.momentStoreFormat);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t// Parse as local\n\t\t\t\tdateTime = moment(dateTimeString, self.momentStoreFormat);\n\t\t\t}\n\n\t\t\tif(!dateTime.isValid()){\n\t\t\t\treturn {\n\t\t\t\t\tdate: '',\n\t\t\t\t\ttime: ''\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tresult.time = dateTime.format(types.time.momentStoreFormat);\n\n\t\t\tif(self.storeUtc) {\n\t\t\t\t// need local for date typ\n\t\t\t\tdateTime.local();\n\t\t\t}\n\n\t\t\tresult.date = dateTime.format(types.date.momentStoreFormat);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t_joinDateAndTimeMoments: function(localDateMoment, localTimeMoment) {\n\t\t\treturn moment().utcOffset(localTimeMoment.utcOffset())\n\t\t\t\t.milliseconds(0)\n\t\t\t\t.second(localTimeMoment.second())\n\t\t\t\t.minute(localTimeMoment.minute())\n\t\t\t\t.hour(localTimeMoment.hour())\n\n\t\t\t\t.date(localDateMoment.date())\n\t\t\t\t.month(localDateMoment.month())\n\t\t\t\t.year(localDateMoment.year());\n\t\t},\n\n\t\tvalidate: function(ifw) {\n\t\t\tvar self = this,\n\t\t\t\tvalid = true,\n\t\t\t\tskipRequired = !self.ifw.hasStatus('require');\n\n\t\t\t// Do not skip require check when only one is empty\n\t\t\tif(skipRequired){\n\t\t\t\tskipRequired = !self.dateWidgetInstance.isEmpty();\n\t\t\t\tskipRequired = skipRequired && !self.timeWidgetInstance.isEmpty();\n\t\t\t}\n\n\t\t\tvalid = valid && self.dateWidgetInstance.validate(skipRequired);\n\t\t\tvalid = valid && self.timeWidgetInstance.validate(skipRequired);\n\n\t\t\tif(!valid) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: dict.invalid\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t// will not validate if empty\n\t\tisEmpty: function() {\n\t\t\tvar self = this;\n\n\t\t\treturn ($.trim(self.dateWidget.val()) + $.trim(self.timeWidget.val())) === '';\n\t\t},\n\n\t\ttearDown: function(ifw) {\n\t\t\tvar self = this;\n\n\t\t\tself.dateWidget.inputField('getField').remove();\n\t\t\tself.timeWidget.inputField('getField').remove();\n\n\t\t\tself.dateWidget = undefined;\n\t\t\tself.timeWidget = undefined;\n\n\t\t\tifw.element.parent().show();\n\t\t}\n\n\t};\n\n})(jQuery);","/**\n * Data type 'tmsPhone', an extension of phone\n *\n * It adds a secondary addon to the right to specify number type.\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\ttypes.tmsPhone = $.extend({}, types.phone, {\n\t\t_phoneTypeTemplate:\n\t\t\t\t'<div class=\"phone-type-form\" style=\"padding: 1px;\">' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"mobile\" ><span class=\"fb-icon fb-icon-iphone\"> '+dict.mobile+'</span></div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"home\"><span class=\"fb-icon fb-icon-home\"> '+dict.home+'</span></div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"work\"><span class=\"fb-icon fb-icon-office\"> '+dict.work+'</span></div>' +\n\t\t\t\t\t'<div class=\"phone-type clickable\" data-code=\"fax\"><span class=\"fb-icon fb-icon-print\"> '+dict.fax+'</span></div>' +\n\t\t\t\t'</div>',\n\n\t\tsetUp: function(inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\to = inputWidget.options,\n\t\t\t\te = inputWidget.element;\n\n\t\t\tself.element = e;\n\n\t\t\ttypes.phone.setUp.call(self, inputWidget);\n\n\t\t\t/*\n\t\t\t * add icon\n\t\t\t */\n\n\t\t\tself.desc = $('<span></span>');\n\t\t\tself.setType();\n\n\t\t\tself.menu = $(self._phoneTypeTemplate);\n\t\t\tself.icon = inputWidget.addOn(1, '').addClass('clickable').append(self.desc).css({\n\t\t\t\ttextAlign: 'left',\n\t\t\t\t// padding: '0px 22px',\n\t\t\t\twidth: '4.8em'\n\t\t\t});\n\n\t\t\tself.icon.on('click', function() {\n\t\t\t\t/*\n\t\t\t\t * build the menu lazily, so that popovers are not created when now needed and the field has time to attach\n\t\t\t\t * to the form so that the popover appendto can be set\n\t\t\t\t */\n\t\t\t\tself._setupMenu(inputWidget);\n\t\t\t\tself.toggleMenu();\n\t\t\t});\n\n\t\t\t//updateTmsPhone.call(self);\n\t\t\t//o._layers.suggest.html('(NNN) NNN-NNNN');\n\t\t},\n\n\t\ttoggleMenu: function () {\n\t\t\tvar self = this;\n\t\t\tself.menu.find('.focused').removeClass('focused').end().find('[data-code=\"' + self.type + '\"]').addClass('focused').end().popOver('toggle');\n\t\t},\n\n\t\t_setupMenu: function (inputWidget) {\n\t\t\tvar self = this,\n\t\t\t\te = self.element,\n\t\t\t\tappendToParent, appendTo;\n\n\t\t\tif(self.menuBuilt){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.menu.popOver({\n\t\t\t\ttarget: self.icon,\n\t\t\t\tappendTo: inputWidget.getField()\n\t\t\t}).on('click', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t}).on('click', '.phone-type', function (ev) {\n\t\t\t\tev.stopPropagation();\n\t\t\t\tvar control = $(this);\n\t\t\t\tself.setType(control.attr('data-code'));\n\t\t\t\tself.menu.popOver('hide');\n\t\t\t});\n\n\t\t\tself.menuBuilt = true;\n\t\t},\n\n\t\tsetType: function (type) {\n\t\t\tvar self = this;\n\n\t\t\tif(!type){\n\t\t\t\ttype = 'home';\n\t\t\t}\n\n\t\t\tvar icon = '';\n\n\t\t\tif(type === 'work'){\n\t\t\t\ticon = 'office';\n\t\t\t} else if(type === 'mobile'){\n\t\t\t\ticon = 'iphone';\n\t\t\t} else if(type === 'fax'){\n\t\t\t\ticon = 'print';\n\t\t\t} else {\n\t\t\t\ticon = type = 'home';\n\t\t\t}\n\n\t\t\tself.desc.html('<span class=\"fb-icon fb-icon-' + icon + '\"> ' + dict[type] + '</span>');\n\t\t\tself.type = type;\n\t\t},\n\n\t\tconverter: {\n\t\t\tfromField: function(number, inputWidget) {\n\t\t\t\tvar self = this;\n\t\t\t\tnumber = types.phone.converter.fromField.call(self, number, inputWidget);\n\t\t\t\t// Number is the value being entered\n\n\t\t\t\t// Returns null if the value entered is not a number \n\t\t\t\tif(number !== 0 && !number){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\ttype: self.type,\n\t\t\t\t\tnumber: number\n\t\t\t\t};\n\n\t\t\t\tif(self.id){\n\t\t\t\t\tdata.id = self.id;\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t},\n\t\t\ttoField: function(data, inputWidget) {\n\t\t\t\tvar self = this;\n\n\t\t\t\tif(data){\n\t\t\t\t\tself.setType(data.type);\n\t\t\t\t\tself.id = data.id;\n\t\t\t\t\tdata = types.phone.converter.toField.call(self, data.number, inputWidget);\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function(inputWidget) {\n\t\t\tinputWidget.element.off('.tmsPhone');\n\t\t\t$.Widget.prototype.destroy.call(this);\n\t\t}\n\t});\n\t\n})(jQuery);\n","/**\n * Functions to quickly make extensions of the select type\n * \n * arraySelectCreator(array)\n * booleanSelectCreator(trueString, falseString)\n * \n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.formBuilder.inputField.types;\n\tvar dict = $.formBuilder.lang.dict;\n\n\t$.formBuilder.inputField.arraySelectCreator = function (array) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {};\n\t\t\t\td.label = s;\n\t\t\t\td.value = s;\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map(array, $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.formBuilder.inputField.booleanSelectCreator = function (trueString, falseString) {\n\t\treturn $.extend({}, types.select, {\n\t\t\tmap: function (s) {\n\t\t\t\tvar d = {},\n\t\t\t\t\tval = falseString;\n\n\t\t\t\tif(s === true){\n\t\t\t\t\tval = trueString;\n\t\t\t\t}\n\n\t\t\t\td.label = val;\n\t\t\t\td.value = !!s;\n\n\t\t\t\treturn d;\n\t\t\t},\n\n\t\t\tdeMap: function (d) {\n\t\t\t\tif($.isEmptyObject(d)){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn d.value;\n\t\t\t},\n\n\t\t\tload: function () {\n\t\t\t\tvar self = this;\n\t\t\t\treturn $.when($.map([true, false], $.proxy(self.map, self)));\n\t\t\t}\n\t\t});\n\t};\n\n\n\t// Examples from tms\n\tvar date = new Date();\n\tvar years = [];\n\tfor (var i = 0; i <= 10; i++) {\n\t\tyears.push((date.getFullYear() + i).toString());\n\t}\n\t\n\ttypes.tmsExpYear = $.formBuilder.inputField.arraySelectCreator(years);\n\ttypes.tmsYesNo = $.formBuilder.inputField.booleanSelectCreator(dict.yes, dict.no);\n\t\n})(jQuery);\n","/**\n * Data Type 'tmsFullname', an extension of utext\n *\n * TODO: Refactor this and switch to use inputFilter\n */\n\n(function($){\n\t'use strict';\n\t\n\tvar types = $.formBuilder.inputField.types;\n\n\ttypes.tmsFullname = $.extend({}, types.utext, {\n\t\tvalidate: function (ui) {\n\t\t\tvar value = ui.element.val();\n\n\t\t\tvalue = value.trim().replace(/\\s{2,}/g, ' '); // Replace outside whitespace with two or more whitespaces?\n\n\t\t\tif (value.split(' ').length < 2) {\n\t\t\t\treturn {\n\t\t\t\t\tmessage: 'first and last name'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(isNaN(value)) {\n\t\t\t\tvalue = value.toString();\n\t\t\t\tvar count = 0; \n\t\t\t\tvar countH = 0; \n\t\t\t\tvar countA = 0;\n\n\t\t\t\tfor(var i = 0; i < value.length; i++) {\n\n\t\t\t\t\tif((value[i]) === ',') {\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t} else if((value[i]) === '-') {\n\t\t\t\t\t\tcountH++;\n\t\t\t\t\t} else if((value[i]) === '\\'') {\n\t\t\t\t\t\tcountA++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(value[i].match(/^[!@#\\$%\\^&*()_+={}\\[\\]\\\\\\/|;:\"\\?<>\\.~`]?$/)){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tmessage: 'illegal symbol'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(value[i].match(/^[0-9]$/)){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tmessage: 'no numbers'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tif(count > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'one comma allowed'\n\t\t\t\t\t};\n\t\t\t\t} \n\n\t\t\t\tif(countH > 1){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'one hyphen allowed'\n\t\t\t\t\t};\n\n\t\t\t\t} \n\n\t\t\t\tif(countA > 3){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: 'one apostrophe per name'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n"],"sourceRoot":"/source/"}